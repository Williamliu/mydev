<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
		<meta charset="utf8" />
		<!-- JQuery3.1.1 -->
		<script type="text/javascript" src="/jquery/min/jquery-3.1.1.min.js"></script>
		<script type="text/javascript" src="/jquery/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
		<link href='/jquery/jquery-ui-1.12.1.custom/jquery-ui.min.css' rel='stylesheet' type='text/css'>
		<!-- //JQuery -->
		
		<!-- Bootstrap3.3 -->
		<link 	href='/theme/bootstrap4.0/css/bootstrap.min.css' type='text/css' rel='stylesheet' />
		<script src="/theme/mdb4.0/js/tether.js" type="text/javascript"></script>
		<script src="/theme/bootstrap4.0/js/bootstrap.min.js" type="text/javascript"></script>    
		<!-- //Bootstrap -->
		
		<!-- MD Bootstrap 4.0 -->
		<link href='/theme/mdb4.0/css/mdb.wliu.css' type='text/css' rel='stylesheet' />
		<link href='/theme/font-awesome-4.6.3/css/font-awesome.min.css' type='text/css' rel='stylesheet' />
		<!--
		<link href='theme/mdb_pro/css/woocommerce.css' rel='stylesheet' type='text/css'>
		<link href='theme/mdb_pro/css/woocommerce-layout.css' rel='stylesheet' type='text/css'>
		<link href='theme/mdb_pro/css/woocommerce-smallscreen.css' rel='stylesheet' type='text/css'>
		-->
		<!-- //MD Bootstrap -->

		<!-- 3rd Party Component -->
        <script src="/jquery/plugin/ckeditor_full/ckeditor.js" type="text/javascript"></script>
		<!-- //3rd Party Component -->


		<!-- AngularJS 1.3.15 -->
		<script	src="/angularjs/angular-1.3.15/angular.js" type="text/javascript"></script>
		<script	src="/angularjs/angular-1.3.15/angular-cookies.js" type="text/javascript"></script>
		<script src="/angularjs/angular-1.3.15/angular-sanitize.min.js" type="text/javascript"></script>
		<!-- //AngularJS -->

		<!-- wliu components -->
		<script src="/js/wliu/wliu.common.js" type="text/javascript"></script>
		<script src="/js/wliu/wliu.table.js" type="text/javascript"></script>
		<script src="/js/wliu/wliu.table.common.js" type="text/javascript"></script>
		<script	src="/angularjs/wliu/wliu.table.js" type="text/javascript"></script>
		<script	src="/angularjs/wliu/wliu.table.form.js" type="text/javascript"></script>
		<script	src="/angularjs/wliu/wliu.table.filter.js" type="text/javascript"></script>
		<script	src="/angularjs/wliu/wliu.table.list.js" type="text/javascript"></script>

		<script src="/jquery/wliu/diag/wliu.jquery.diag.js" type="text/javascript"></script>
		<link 	href='/jquery/wliu/diag/wliu.jquery.diag.css' type='text/css' rel='stylesheet' />
		<script src="/jquery/wliu/popup/wliu.jquery.popup.js" type="text/javascript"></script>
		<link 	href='/jquery/wliu/popup/wliu.jquery.popup.css' type='text/css' rel='stylesheet' />
		<script src="/jquery/wliu/load/wliu.jquery.load.js" type="text/javascript"></script>
		<link 	href="/jquery/wliu/load/wliu.jquery.load.css" type='text/css' rel='stylesheet' />

		<link href='/theme/wliu/wliu.common.css' type='text/css' rel='stylesheet' />
		<link href='/theme/wliu/wliu.buttons.css' type='text/css' rel='stylesheet' />
		<!-- //wliu components -->


        <script language="javascript" type="text/javascript">
		   	var col1 = new WLIU.COL({key:1, table:"p", coltype:"hidden", 	    name:"did",			col:"id", 				colname:"DepartID",  	coldesc:"uSERid"});
		   	var col2 = new WLIU.COL({key:0, table:"p", coltype:"text", 			name:"depart", 		colname:"DepartMent",   coldesc:"Address", 		    sort:"ASC",  notnull:1});
			var col3 = new WLIU.COL({key:0, table:"p", coltype:"text", 			name:"lang", 		colname:"LangISO", 		coldesc:"Language ISO Code",defval:"cn",	sort:"DESC", list:"langCategory"});

		   	var col4 = new WLIU.COL({key:1, table:"s", coltype:"hidden", 		name:"id", 			colname:"User No.",  	coldesc:"User ID" });
		   	var col5 = new WLIU.COL({key:0, table:"s", coltype:"textbox", 		name:"uname",		col:"user_name", 		colname:"User Name", 	coldesc:"Login User",  	sort:"ASC", need:1, notnull: 1});
		   	var col6 = new WLIU.COL({key:0, table:"s", coltype:"upload", 		name:"img1", 		colname:"File", 	coldesc:"Full Name",  	sort:"ASC", notnull:1});
		   	var col61 = new WLIU.COL({key:0, table:"s", coltype:"textarea", 	name:"full_name", 	colname:"Full Name", 	coldesc:"Full Name",  	sort:"ASC", notnull:1});
		   	var col7 = new WLIU.COL({key:0, table:"m", coltype:"relation", 		name:"rid",			col:"user_id", 			colname:"Relation",  defval:true,	coldesc:"AddressID"});
		   	var col8 = new WLIU.COL({key:0, table:"m", coltype:"hidden", 		name:"depart_id",				 			colname:"Depart",  		coldesc:"AddressID"});
			
		   	var col9 = new WLIU.COL({key:0, table:"m", coltype:"textbox", 		name:"subject",  	col:"title",			colname:"Title",   		coldesc:"Address", 		unique:1,   sort:"ASC", need:1, notnull:1});
			var col10 = new WLIU.COL({key:0,table:"m",  coltype:"select", 		name:"mlang", 		col:"lang", 			colname:"LangISO", 		coldesc:"Language ISO Code",defval:"cn",	sort:"DESC", need:1,  notnull:1, list:"langCategory"});
		   	var col11 = new WLIU.COL({key:0,table:"m",  coltype:"radio3", 		name:"mcolor", 	 	col:"color",			colname:"Color", 		coldesc:"Color Name",   notnull:1, need: 1, 	list:"colorCategory"});
			var col12 = new WLIU.COL({key:0,table:"m",  coltype:"checkbox3", 	name:"country", 	colname:"Homeland", 	coldesc:"Nationality", 	sort:"DESC", need:1,  notnull:1, list:"countryCategory"});
		   	var col13 = new WLIU.COL({key:0,table:"m",  coltype:"bool", 	    name:"status", 	    colname:"Acitve?", 	    coldesc:"is Active?",   sort:"DESC"});

		   	var cols = [];
		   	cols.push(col1);
		   	cols.push(col2);
		   	cols.push(col3);
		   	cols.push(col4);
		   	cols.push(col5);
		   	cols.push(col6);
		   	cols.push(col61);
		   	cols.push(col7);
		   	cols.push(col8);
		   	cols.push(col9);
		   	cols.push(col10);
		   	cols.push(col11);
		   	cols.push(col12);
		   	cols.push(col13);

			var filter1 = new WLIU.FILTER({name:"adminname", 	coltype:"textbox", 		cols:"s.user_name,s.full_name,m.subject", 		colname:"Name", 	coldesc:"Search by Name"});
			//var filter2 = new WLIU.FILTER({name:"color", 		coltype:"checkbox1",	cols:"color",  		colname:"Gender", compare:"", list:"color1", coldesc:"Color Name"});
			//var filter3 = new WLIU.FILTER({name:"country", 		coltype:"checkbox",		cols:"country",  	colname:"Email", coldesc:"search by Email", defval:""});
			var filters = [];
			filters.push(filter1);
			//filters.push(filter2);
			//filters.push(filter3);

		    var table = new WLIU.TABLE({
				scope: 	"mytab",
				url:   	"ajax/many2many_action.php",
				wait:   "#mywait",
				autotip: "#myauto",
				taberror:"#taberror",
				rights: {detail:1, add:1, save:1, cancel:1, clear:1, delete:1, print:1, output:1},
				navi:   {pagesize:20, match: 0, orderby:"s.created_time", sortby:"DESC", paging:1 },
				filters:filters,
				cols: 	cols,
				error: {errorCode:0, errorMessage:"Please find"},
				lists: 	{
							colorCategory: 		{ loaded: 0 },
							countryCategory: 	{ loaded: 0 },
							langCategory: 	{ 
											loaded: 2, 
											keys: {rowsn:-1, name:""}, 
											list:[
													{key: "cn", value:"China PRC", 		desc:"China MainLand"},
													{key: "us", value:"United State", 	desc:"United State of America"},
													{key: "ca", value:"Candada", 		desc:"O Canada"}
											]
						}
				}
			});

            var app = angular.module("myApp", ["wliuTable"]);
            app.controller("myForm", function ($scope) {
				table.setScope( $scope );
				
				//table.getRecords({did:111, id:93});
				
				table.getRecords({did:1}, {
				})
				
				$scope.searchAjax = function(table) {
				}

				$scope.detail = function(theRow) {
					console.log(theRow);
				}
		    });

			function init() {
				table.init();
			}
			$(function(){
			});
		</script>
</head>
<body ng-app="myApp" ng-controller="myForm" style="padding-top:10px;position:relative;">
<!-- container -->
<div class="container">
		<table.message table="table"></table.message>
		<div class="row">
		<div class="col-md-12">
			<fieldset>
				<legend>Search</legend>
				<filter.label table="table" name="user_name"></filter.label> : <filter.textbox class="input-medium" table="table" name="adminname" tooltip="mytips"></filter.textbox><br /><br />
				<!--
				<filter.label table="table" name="color"></filter.label> : <filter.textbox class="input-medium" table="table" name="color" colnum="3" targetid="#color_filter1" bar="1"  tooltip="mytips"></filter.textbox><br />
				<filter.label table="table" name="email"></filter.label> : <filter.textbox class="input-medium" table="table" name="country"  tooltip="mytips"></filter.textbox><br />
				-->
			</feildset>
			<div style="margin-top:20px;">
			<table.tablebutton table="table" name="search" actname="Search" outline=1 before="searchAjax(table)"></table.tablebutton>
			<table.tablebutton table="table" name="match" actname="Match" outline=1 before="searchAjax(table)"></table.tablebutton>
			<button onclick="init()">Init</button>
			</div>
			<br>
			<table.navi table="table" tooltip=""></table.navi>
			<table class="table table-condensed">
				<tr style="background-color:#efefef;"> 
					<td width=20>
						<table.hgroup table="table" actname="DO All">
							<table.hlink table="table" name="add" 		actname="Add"  	action=""></table.hlink>
							<table.hlink table="table" name="save" 		actname="Save" 	action=""></table.hlink>
							<table.hlink table="table" name="cancel" 	actname="Undo" 	action=""></table.hlink>
							<table.hlink table="table" name="output" 	actname="Excel" action=""></table.hlink>
							<table.hlink table="table" name="print" 	actname="Print" action=""></table.hlink>
						</table.hgroup>
					</td>
					<td width=30 align="center">
						<table.head table="table" name="SN" tooltip="mytips"></table.head>
					</td>
					<td>
						<table.head table="table"  name="did" tooltip="1"></table.head>
					</td>
					<td>
						<table.head table="table"  name="depart" tooltip="1"></table.head>
					</td>
					<td>
						<table.head table="table" name="id" tooltip="mytips"></table.head>
					</td>
					<td>
						<table.head table="table" name="uname" tooltip="mytips"></table.head>
					</td>
					<td>
						<table.head table="table" name="full_name" tooltip="mytips"></table.head>
					</td>
					<td>
						<table.head table="table" name="img1" tooltip="mytips"></table.head>
					</td>
					<td>
						<table.head table="table"  name="rid" tooltip="1"></table.head>
					</td>
					<td>
						<table.head table="table" name="subject" tooltip="mytips"></table.head>
					</td>
					<td>
						<table.head table="table" name="mlang" tooltip="1"></table.head>
					</td>
					<td>
						<table.head table="table" name="mcolor" tooltip="1"></table.head>
					</td>
					<td>
						<table.head table="table" name="country" tooltip="1"></table.head>
					</td>
					<td>
						<table.head table="table" name="status" tooltip="1"></table.head>
					</td>
				</tr>	
				<tr ng-repeat="row in table.rows">
					<td style="white-space:nowrap; width:20px;padding-right:10px;">
						<table.bgroup table="table" actname="Action" row="row">
						<table.blink table="table" name="detail" 	actname="Detail" 	row="row" 	diag-toggle="click" diag-target="#userDetail"></table.blink>
						<table.blink table="table" name="save"  	actname="Save" 		row="row" 	action=""></table.blink>
						<table.blink table="table" name="cancel"	actname="Cancel" 	row="row" 	action=""></table.blink>
						<table.blink table="table" name="output" 	actname="Output" 	row="row" 	action=""></table.blink>
						<table.blink table="table" name="print"		actname="Print" 	row="row" 	action=""></table.blink>
						<table.blink table="table" name="delete" 	actname="Delete" 	row="row" 	action=""></table.blink>
						</table.bgroup>
					</td>
					<td width=30 align="center">
						<table.rowno table="table"  row="row" tooltip="mytips"></table.rowno>
					</td>
					<td>
						<table.text table="table" name="did" row="row" tooltip="mytips"></table.text>
					</td>
					<td>
						<table.text class="input-small" table="table" name="depart" row="row" tooltip="mytips"></table.text>
					</td>
					<td align="center">
						<table.text table="table" name="id" row="row" tooltip="mytips"></table.text> 
					</td>
					<td>
						<table.textbox class="input-small" table="table" name="uname" row="row" tooltip="mytips"></table.textbox>
					</td>
					<td>
						<table.textarea class="input-small" table="table" name="full_name" row="row" tooltip="mytips"></table.textarea>
					</td>
					<td>
						<table.textarea table="table" row="row" name="img1" firstname="uname" actname="Upload" view="large" tooltip="mytips"></table.textarea>
					</td>
					<td>
						<table.relation table="table" name="rid" row="row" tooltip="mytips"></table.relation>
					</td>
					<td>
						<table.textbox class="input-small" table="table" name="subject" row="row" tooltip="mytips"></table.textbox>
					</td>
					<td>
						<table.select class="input-small" table="table" name="mlang" row="row" tooltip="mytips"></table.select>
					</td>
					<td>
						<table.radio3 class="input-tiny" table="table" name="mcolor" row="row" bar=1 colnum=12 targetid="colorCategory_diag" tooltip="mytips"></table.radio3>
					</td>
					<td>
						<table.checkbox1 class="input-small" table="table" name="country" row="row" bar=1 tooltip="mytips" targetid="countryCategory_diag"></table.checkbox1>
					</td>
					<td>
						<table.bool class="input-small" table="table" name="status" row="row" tooltip="mytips"></table.bool>
					</td>
				</tr>
			</table>
		</div>		

		<br>
		<br>
</div>
<!-- container -->
<table.taberror table="table" targetid="taberror"></table.taberror>
<form.checkdiag1 table="table" targetid="countryCategory_diag" name="countryCategory" colnum="4" colnum1="0" bar="1" title="Please Select"></form.checkdiag1>
<table.radiodiag3 table="table" targetid="colorCategory_diag" name="colorCategory" colnum="3" colnum1="0" bar="1" title="Please Select"></table.radiodiag3>

<div id="mytips" wliu-popup></div>
<div id="mywait" wliu-load></div>
<div id="myauto" wliu-tips></div>


<div id="userDetail" wliu-diag fade maskable movable>
    <div wliu-diag-head>
        User Detail
    </div>
	<div wliu-diag-body>
			<form.message table="table"></form.message>
			<form.rowstatus table="table" tooltip="mytips"></form.rowstatus>
			<br>
			<div class="row">
				<div class="col-md-4">
					<form.label table="table" name="depart"></form.label>
				</div>
				<div class="col-md-8">
					<form.textbox table="table" name="depart"></form.textbox>
				</div>
			</div>
			<div class="row">
				<div class="col-md-4">
					<form.label table="table" name="uname"></form.label>
				</div>
				<div class="col-md-8">
					<form.textbox table="table" name="uname"></form.textbox>
				</div>
			</div>
			<div class="row">
				<div class="col-md-4">
					<form.label table="table" name="mcolor"></form.label>
				</div>
				<div class="col-md-8">
					<form.radiolist3 table="table" name="mcolor" targetid="colorCategory_diag" colnum=4 bar=1 tooltip="mytips"></form.radiolist3>
				</div>
			</div>
			<div class="row">
				<div class="col-md-4">
					<form.label table="table" name="img1"></form.label>
				</div>
				<div class="col-md-8">
					<form.ckeditor table="table" name="img1" firstname="uname" actname="Upload" filename="ID Copy" view="large" tooltip="mytips"></form.ckeditor>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12 text-md-center">
					<!--
					<form.linkbutton table="table" name="add" actname="Add"></form.linkbutton>
					<form.linkbutton table="table" name="delete" actname="Delete"></form.linkbutton>
					-->
					<form.linkbutton table="table" name="save" actname="Save"></form.linkbutton>
					<form.linkbutton table="table" name="cancel" actname="Cancel"></form.linkbutton>
					<button wliu-diag-close class="btn btn-info">Close</button>
				</div>
			</div>
    </div>
</div>    



<!-- MD Bootstrap 4.0 js -- must place at the end of body -->
<script type="text/javascript" src="/theme/mdb4.0/js/mdb.min.js"></script>
<!-- <script type="text/javascript" src="theme/mdb_pro/js/woocommerce.min.js"></script> -->
<!-- //MD Bootstrap 4.0 js -->
</body>
</html>
