<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
		<meta charset="utf8" />
		<!-- JQuery3.1.1 -->
		<script type="text/javascript" src="jquery/min/jquery-3.1.1.min.js"></script>
		<script type="text/javascript" src="jquery/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
		<link href='jquery/jquery-ui-1.12.1.custom/jquery-ui.min.css' rel='stylesheet' type='text/css'>
		<!-- //JQuery -->
		
		<!-- Bootstrap3.3 -->
		<link 	href='theme/bootstrap4.0/css/bootstrap.min.css' type='text/css' rel='stylesheet' />
		<script src="theme/mdb4.0/js/tether.js" type="text/javascript"></script>
		<script src="theme/bootstrap4.0/js/bootstrap.min.js" type="text/javascript"></script>    
		<!-- //Bootstrap -->
		
		<!-- MD Bootstrap 4.0 -->
		<link href='theme/mdb4.0/css/mdb.wliu.css' type='text/css' rel='stylesheet' />
		<link href='theme/font-awesome-4.6.3/css/font-awesome.min.css' type='text/css' rel='stylesheet' />
		<!--
		<link href='theme/mdb_pro/css/woocommerce.css' rel='stylesheet' type='text/css'>
		<link href='theme/mdb_pro/css/woocommerce-layout.css' rel='stylesheet' type='text/css'>
		<link href='theme/mdb_pro/css/woocommerce-smallscreen.css' rel='stylesheet' type='text/css'>
		-->
		<!-- //MD Bootstrap -->

		<!-- 3rd Party Component -->
        <script src="jquery/plugin/ckeditor_full/ckeditor.js" type="text/javascript"></script>
		<!-- //3rd Party Component -->


		<!-- AngularJS 1.3.15 -->
		<script	src="angularjs/angular-1.3.15/angular.js" type="text/javascript"></script>
		<script	src="angularjs/angular-1.3.15/angular-cookies.js" type="text/javascript"></script>
		<script src="angularjs/angular-1.3.15/angular-sanitize.min.js" type="text/javascript"></script>
		<!-- //AngularJS -->

		<!-- wliu components -->
		<script src="js/wliu/wliu.base.js" type="text/javascript"></script>
		<script	src="angularjs/wliu/wliu.table.js" type="text/javascript"></script>
		<script	src="angularjs/wliu/wliu.table.filter.js" type="text/javascript"></script>
		<script	src="angularjs/wliu/wliu.table.list.js" type="text/javascript"></script>
		<script src="jquery/wliu/diag/wliu.jquery.diag.js" type="text/javascript"></script>
		<link 	href='jquery/wliu/diag/wliu.jquery.diag.css' type='text/css' rel='stylesheet' />

		<script src="jquery/wliu/popup/wliu.jquery.popup.js" type="text/javascript"></script>
		<link 	href='jquery/wliu/popup/wliu.jquery.popup.css' type='text/css' rel='stylesheet' />

		<link href='theme/wliu/wliu.common.css' type='text/css' rel='stylesheet' />
		<link href='theme/wliu/wliu.buttons.css' type='text/css' rel='stylesheet' />
		<!-- //wliu components -->


        <script language="javascript" type="text/javascript">
		   	var col1 = new WLIU.COL({key:1, coltype:"hidden", 		name:"cid", 		col:"id", 	colname:"CountryID",  	coldesc:"CC ID", defval:0});
		   	var col2 = new WLIU.COL({key:0, coltype:"textbox", 		name:"country_cn",	colname:"Country Name", coldesc:"Login User", defval:"加拿大",  sort:"ASC", need:1, notnull: 1});
		   	var col3 = new WLIU.COL({key:1, coltype:"relation", 	name:"aid", 		col:"id", 	colname:"AdminID",   defval:0,	coldesc:"AA ID"});
		   	var col4 = new WLIU.COL({key:0, coltype:"textbox", 		name:"email",		colname:"Email", 		coldesc:"Email Address", sort:"ASC", notnull: 0});
		   	
			var col5 = new WLIU.COL({key:0, coltype:"select", 		name:"country", 	colname:"Country", 		coldesc:"Country ISO", defval:1,	sort:"DESC", need:1, notnull:1, list:"country"});
		   	var col6 = new WLIU.COL({key:0, coltype:"passpair", 	name:"password", 	colname:"Password", 	coldesc:"Password for Login"});
		   	var col7 = new WLIU.COL({key:0, coltype:"radio", 		name:"color", 	 	colname:"Color", 		coldesc:"Color Name", defval: 77, notnull:1, list:"color1"});
		   	var col8 = new WLIU.COL({key:0, coltype:"datetime", 	name:"cell", 	 	colname:"CellDate", 	coldesc:"Cell Date",  notnull:1, defval:{date:"1995-07-12", time:"13:45"} });
		   	var col9 = new WLIU.COL({key:1, coltype:"relation", 	name:"country_id",	colname:"RCCID",  		coldesc:"AdmiID"});
		   	var col10 = new WLIU.COL({key:1, coltype:"hidden", 	    name:"admin_id", 	colname:"Admin ID",  	coldesc:"Administrator ID"});
		   	var col11 = new WLIU.COL({key:0, coltype:"checkbox3", 	name:"mycountry", 	col:"country_id", colname:"Country ID",  	coldesc:"Country ID", list:"color1"});
		   	var col12 = new WLIU.COL({key:0, coltype:"textbox", 	name:"weight", 		colname:"Weight",  	coldesc:"Administrator ID", datatype:"NUMBER", min:10, max:30});
			
			/*
		   	var col1 = new WLIU.COL({key:1, coltype:"hidden", 		name:"id", 			colname:"Admin ID",  	coldesc:"Administrator ID", defval:1});
		   	var col2 = new WLIU.COL({key:0, coltype:"textbox", 		name:"user_name",	colname:"User Name", 	coldesc:"Login User",  sort:"ASC", need:1, notnull: 1});
		   	var col3 = new WLIU.COL({key:0, coltype:"textbox", 		name:"email",		colname:"Email", 		coldesc:"Email Address", sort:"ASC", notnull: 0});
		   	var col4 = new WLIU.COL({key:0, coltype:"passpair", 	name:"password", 	colname:"Password", 	coldesc:"Password for Login"});
		   	var col5 = new WLIU.COL({key:0, coltype:"select", 		name:"country", 	colname:"Country", 		coldesc:"Country ISO", 	sort:"DESC", need:1, notnull:1, list:"country"});
		   	var col6 = new WLIU.COL({key:0, coltype:"checkbox3", 	name:"color", 	 	colname:"Color", 		coldesc:"Color Name", notnull:1, list:"color"});
		   	var col7 = new WLIU.COL({key:0, coltype:"datetime", 	name:"cell", 	 	colname:"CellDate", 	coldesc:"Cell Date",  notnull:1, defval:{date:"1995-07-12", time:"13:45"} });
		   	var col8 = new WLIU.COL({key:1, coltype:"hidden", 		name:"aid",			col:"id",		colname:"aID",  sort:"asc",	coldesc:"AdmiID"});
		   	var col9 = new WLIU.COL({key:1, coltype:"relation", 	name:"admin_id", 	colname:"Admin ID",  	coldesc:"Administrator ID"});
		   	var col10 = new WLIU.COL({key:0, coltype:"checkbox3", 	name:"mycountry", 	col:"country_id", colname:"Country ID",  	coldesc:"Country ID", list:"color"});
		   	var col11 = new WLIU.COL({key:0, coltype:"textbox", 	name:"weight", 		colname:"Admin ID",  	coldesc:"Administrator ID", datatype:"NUMBER", min:10, max:30});
			*/

		   	var cols = [];
		   	cols.push(col1);
		   	cols.push(col2);
		   	cols.push(col3);
		   	cols.push(col4);
			
		   	cols.push(col5);
		   	cols.push(col6);
		   	cols.push(col7);
		   	cols.push(col8);
		   	cols.push(col9);
		   	cols.push(col10);
		   	cols.push(col11);
		   	cols.push(col12);
			

			var filter1 = new WLIU.FILTER({name:"user_name", 	cols:"user_name, phone, cell", colname:"User Name", 	coldesc:"Login Name", defval:""});
			var filter2 = new WLIU.FILTER({name:"color", 		cols:"color", coltype:"textbox", 	colname:"Gender", compare:"", list:"color1", coldesc:"Color Name"});
			var filter3 = new WLIU.FILTER({name:"country", 		cols:"country_cn", coltype:"textbox", colname:"Email", coldesc:"search by Email", defval:""});
			var filters = [];
			filters.push(filter1);
			filters.push(filter2);
			filters.push(filter3);

		    var table = new WLIU.TABLE({
				scope: "mytab",
				url:   "ajax/test.php",
				rights: {detail:1, add:1, save:1, cancel:1, clear:1, delete:1, print:1, output:1},
				navi:   {pagesize:20, match: 1},
				filters: filters,
				cols: cols,
				lists: {
					color1: { loaded:0 },
					country: {loaded: 2, keys: {rowsn:-1, name:""}, list:[
						{key: 1, value:"CN", desc:"China PRC"},
						{key: 2, value:"US", desc:"United State"},
						{key: 3, value:"CA", desc:"Canada"}
					]}
				}
			});

			table.filterDefault("color", "");
			var sc;
            var app = angular.module("myApp", ["wliuTable"]);
            app.controller("myForm", function ($scope) {
				 table.setScope( $scope );
				 table.getRows();


				 $scope.change = function(row) {
				}
				
				$scope.detail = function(row) {
				}

				$scope.add = function() {
				}

				$scope.saveB = function(theRow) {
					console.log( $scope.table.getChangeRow(theRow) );
				}
				$scope.saveA = function(theRow) {
					console.log(theRow);
				}
				

				$scope.showDiag = function() {
					$("#frm").trigger("myOpen");
				}

				$scope.searchAjax = function(table) {
					table.navi.match = 0;
				}
				$scope.matchAjax = function(table) {
					table.navi.match = 1;
				}
		    });
			$(function(){
				$("#frm").wliuDiag({
									//title:"Details", 
									movable: true,
									before:function(){  console.log(table); }, 
									after:function() { console.log( "after" ); }, 
									close:function(){ console.log( table.getFilters() );console.log( table.getChangeRows() ); } 
								});
				
				$("#mytips").wliuPopup();
			});
		</script>
</head>
<body ng-app="myApp" ng-controller="myForm" style="padding-top:80px;position:relative;">
<!-- container -->
<div class="container">
		<div class="row">
			<div class="col-md-4">
				<table.list table="table" format='{email}' title="InvestX Admins" tooltip="#mytips" display="email,country,color"></table.list>
			</div>
			<div class="col-md-8">
				<div class="col-md-12">
				<table.label table="table" name="cid"></table.label>: 
				<table.text table="table" name="cid" rowsn="{{table.rowno()}}" tooltip="#mytips"></table.text>
				<br>
				<table.label table="table" name="aid"></table.label>: 
				<table.relation table="table" name="aid" rowsn="{{table.rowno()}}" tooltip="#mytips"></table.relation>
				<br>
				<table.label table="table" name="country_cn"></table.label>: 
				<table.textbox table="table" name="country_cn" rowsn="{{table.rowno()}}" tooltip="#mytips"></table.textbox>
				<br>
				<table.label table="table" name="password"></table.label>: 
				<table.passpair class="input-small" table="table" name="password" rowsn="{{table.rowno()}}" tooltip="#mytips"></table.passpair>
				<br>
				<table.label table="table" name="country"></table.label>: 
				<table.select class="input-small" table="table" name="country" rowsn="{{table.rowno()}}" tooltip="#mytips"></table.select>
				<br>
				<table.radiolist3 class="input-small" table="table" name="color" rowsn="{{table.rowno()}}" targetid="#color_filter" colnum="3" tooltip="#mytips"></table.radiolist3>
				</div>
				<div class="col-md-12 text-lg-center" style="padding-top:20px;">
					<table.rowbutton table="table"	name="add" 		rowsn="{{ table.rowno() }}"	actname="新增管理员" outline=1></table.rowbutton>
					<table.rowbutton table="table"	name="clear" 	rowsn="{{ table.rowno() }}"	actname="Reset" outline=1></table.rowbutton>
					<table.rowbutton table="table"	name="save" 	rowsn="{{ table.rowno() }}"	actname="SAVE" outline=1></table.rowbutton>
					<table.rowbutton table="table"	name="cancel" 	rowsn="{{ table.rowno() }}"	actname="Cancel" outline=1></table.rowbutton>
				</div>
			</div>
		</div>
		<div class="col-md-12">
			
			<fieldset>
				<legend>Search</legend>
				<filter.label table="table" name="user_name"></filter.label> : <filter.textbox class="input-medium" table="table" name="user_name" tooltip="#mytips"></filter.textbox><br /><br />
				<filter.label table="table" name="color"></filter.label> : <filter.textbox class="input-medium" table="table" name="color" colnum="3" targetid="#color_filter1" bar="1"  tooltip="#mytips"></filter.textbox><br />
				<filter.label table="table" name="email"></filter.label> : <filter.textbox class="input-medium" table="table" name="country"  tooltip="#mytips"></filter.textbox><br />
			</feildset>
			<div style="margin-top:20px;">
			<table.tablebutton table="table" name="search" actname="Search" outline=1 before="searchAjax(table)"></table.tablebutton>
			<table.tablebutton table="table" name="search" actname="Match" outline=1 before="matchAjax(table)"></table.tablebutton>
			</div>
			<br>
			<table.navi table="table" tooltip=""></table.navi>
			<table class="table table-condensed">
				<tr style="background-color:#efefef;"> 
					<td width=20>
						<table.hgroup table="table" actname="DO All">
							<table.hlink table="table" name="add" actname="Add"  action=""></table.hlink>
							<table.hlink table="table" name="save" actname="Save" action="saveA()"></table.hlink>
							<table.hlink table="table" name="cancel" actname="Undo" action="saveA()"></table.hlink>
							<table.hlink table="table" name="output" actname="Excel" action="saveA()"></table.hlink>
							<table.hlink table="table" name="print" actname="Print" action="saveA()"></table.hlink>
						</table.hgroup>
					</td>
					<td width=30 align="center">
						<table.head table="table" name="SN" tooltip="#mytips"></table.head>
					</td>
					<td>
						<table.head table="table" name="cid" tooltip="#mytips"></table.head>
					</td>
					<td>
						<table.head table="table" name="aid" tooltip="#mytips"></table.head>
					</td>
					<td>
						<table.head table="table"  name="cid" tooltip="1"></table.head>
					</td>
					<td>
						<table.head table="table"  name="password" tooltip="1"></table.head>
					</td>
					<td>
						<table.head table="table"  name="country" tooltip="1"></table.head>
					</td>
					<td>
						<table.head table="table" name="color" tooltip="#mytips"></table.head>
					</td>
					<td>
						<table.head table="table" name="cell" tooltip="1"></table.head>
					</td>
					<td>
						<table.head table="table" name="admin_id" tooltip="1"></table.head>
					</td>
					<td>
						<table.head table="table" name="aid" tooltip="1"></table.head>
					</td>
					<td>
						<table.head table="table" name="mycountry" tooltip="#mytips"></table.head>
					</td>
					<td>
						<table.head table="table" name="weight" tooltip="1"></table.head>
					</td>
				</tr>	
				<tr ng-repeat="row in table.rows">
					<td style="white-space:nowrap; width:20px;padding-right:10px;">
						<table.bgroup table="table" actname="Action" rowsn="{{$index}}">
						<table.bicon table="table" name="detail" actname="Save Change" 	xsize="16"	rowsn="{{$index}}" 	action="saveA(row)" wliu-diag diag-toggle="click" diag-target="#frm"></table.bicon>
						<table.bicon table="table" name="save"  	actname="Save Change" 	xsize="16"	rowsn="{{$index}}" 	action="saveB(row)"></table.bicon>
						<table.bicon table="table" name="cancel" actname="Save Change" 	xsize="16"	rowsn="{{$index}}" 	action=""></table.bicon>
						<table.bicon table="table" name="output" actname="Save Change" 	xsize="16"	rowsn="{{$index}}" 	action=""></table.bicon>
						<table.bicon table="table" name="print"	actname="Save Change" 	xsize="16"	rowsn="{{$index}}" 	action=""></table.bicon>
						<table.bicon table="table" name="delete" actname="Save Change" 	xsize="16"	rowsn="{{$index}}" 	action=""></table.bicon>
						</table.bgroup>
					</td>
					<td width=30 align="center">
						<table.rowno table="table"  rowsn="{{$index}}" tooltip="#mytips"></table.rowno>
					</td>
					<td width=20>
						<table.text table="table" name="cid" rowsn="{{$index}}" tooltip="#mytips"></table.text>
					</td>
					<td>
						<table.relation class="input-small" table="table" name="aid" rowsn="{{$index}}" tooltip="#mytips"></table.relation>
					</td>
					<td>
						<table.text class="input-small" table="table" name="country_cn" rowsn="{{$index}}" tooltip="#mytips"></table.text>
					</td>
					<td>
						<table.relation table="table" name="country_id" rowsn="{{$index}}" tooltip="#mytips"></table.relation>
					</td>
					<td>
						<table.textbox class="input-small" table="table" name="email" rowsn="{{$index}}" tooltip="#mytips"></table.textbox>
					</td>
					<td>
						<table.passpair class="input-small" table="table" name="password" rowsn="{{$index}}" tooltip="#mytips"></table.passpair>
					</td>
					<td>
						<table.select class="input-small" table="table" name="country" rowsn="{{$index}}" tooltip="#mytips"></table.select>
					</td>
					<td>
						<table.radio3 class="input-small" table="table" name="color" rowsn="{{$index}}" targetid="#color_filter" tooltip="#mytips"></table.radio3>
					</td>
					<td>
						<table.datetime class="input-small" table="table" name="cell" rowsn="{{$index}}" tooltip="#mytips"></table.datetime>
					</td>
					<td>
						<table.checkbox3 class="input-small" table="table" name="mycountry" rowsn="{{$index}}" targetid="#color_selection" tooltip="#mytips"></table.checkbox3>
					</td>
					<td>
						<table.textbox class="input-tiny" table="table" name="weight" rowsn="{{$index}}" tooltip="#mytips"></table.textbox>
					</td>
				</tr>
			</table>
		</div>		

		<br>
		<br>
</div>
<!-- container -->

<!--
<div id="frm" class="wliu-diag" style="min-width:480px;">
	<div class="wliu-diag-title">
		Details
	</div>
	<div class="wliu-diag-content">
		<div class="row">
			<div class="col-md-3 text-nowrap">
	    		EmID+MgrID:  
		    </div>
			<div class="col-md-9">		
				<table.text table="table" name="empid" rowsn="{{ table.rowno() }}"></table.text>
				:
				<table.text table="table" name="mgrid" rowsn="{{ table.rowno() }}"></table.text>
	
			</div>
		</div>

		<div class="row">
			<div class="col-md-3 text-nowrap">
	    		Full Name: 
		    </div>
			<div class="col-md-9">		
				<table.passpair table="table" name="fname" rowsn="{{ table.rowno() }}" tooltip="#dlwh"></table.passpair><br>
			</div>
		</div>
		<div class="row">
			<div class="col-md-3">
	    		Email: 
		    </div>
			<div class="col-md-9">		
				<table.textbox table="table" name="email" rowsn="{{ table.rowno() }}" tooltip="#dlwh"></table.textbox>
			</div>
		</div>
		<div class="row">
			<div class="col-md-3">
	    		Gender: 
		    </div>
			<div class="col-md-9">		
				<table.checklist3 class="input-medium" table="table" name="sex" bar="1" rowsn="{{ table.rowno() }}" targetid="#gender_check" colnum="2" colnum1="0"  tooltip="#dlwh"></table.checklist3>
			</div>
		</div>
		<div class="row">
			<div class="col-md-3">
	    		Email: 
		    </div>
			<div class="col-md-9">
				<table.textbox table="table" name="email" rowsn="{{ table.rowno() }}" tooltip="#dlwh"></table.textbox>
			</div>
		</div>
		<div class="row">
			<div class="col-md-2">
				<table.previous table="table" name="previous" class="pull-left" actname="PREVIOUS"></table.previous>
			</div>
			<div class="col-md-8 text-lg-center">
				<table.button table="table"	name="save" 	rowsn="{{ table.rowno() }}"	actname="SAVE"></table.button>
				<table.button table="table"	name="cancel" 	rowsn="{{ table.rowno() }}"	actname="CANCEL"></table.button>
			</div>
			<div class="col-md-2">
				<table.next table="table" name="next" class="pull-right" actname="NEXT"></table.next>
			</div>
		</div>
		<div class="row" style="display:block; background-color:#dddddd;">
			<div class="col-md-3 text-nowrap">
				Status: 
		    </div>
			<div class="col-md-9">		
				<table.rowstatus table="table" rowsn="{{ table.rowno() }}"></table.rowstatus>
			</div>
		</div>
	</div>
</div>
-->
<table.checkdiag3 table="table" targetid="color_selection" name="color1" colnum="2" colnum1="0" bar="1" title="Please Select"></table.checkdiag3>
<table.radiodiag3 table="table" targetid="color_filter" name="color1" colnum="2" colnum1="0" bar="1" title="Please Select"></table.radiodiag3>

<div id="mytips"></div>
<!-- MD Bootstrap 4.0 js -- must place at the end of body -->
<script type="text/javascript" src="theme/mdb4.0/js/mdb.min.js"></script>
<!-- <script type="text/javascript" src="theme/mdb_pro/js/woocommerce.min.js"></script> -->
<!-- //MD Bootstrap 4.0 js -->
</body>
</html>
