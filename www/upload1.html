<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
		<meta charset="utf8" />
		<!-- JQuery3.1.1 -->
		<script type="text/javascript" src="jquery/min/jquery-3.1.1.min.js"></script>
		<script type="text/javascript" src="jquery/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
		<link href='jquery/jquery-ui-1.12.1.custom/jquery-ui.min.css' rel='stylesheet' type='text/css'>
		<!-- //JQuery -->

		<!-- AngularJS 1.3.15 -->
		<script	src="angularjs/angular-1.3.15/angular.js" type="text/javascript"></script>
		<script	src="angularjs/angular-1.3.15/angular-cookies.js" type="text/javascript"></script>
		<script src="angularjs/angular-1.3.15/angular-sanitize.min.js" type="text/javascript"></script>
		<!-- //AngularJS -->

		<!-- wliu components -->
		<script src="js/wliu/wliu.common.js" type="text/javascript"></script>
		<script src="js/wliu/wliu.table.js" type="text/javascript"></script>
		<script src="js/wliu/wliu.table.common.js" type="text/javascript"></script>
	
    	<script	src="angularjs/wliu/wliu.image.js" type="text/javascript"></script>
		<script	src="angularjs/wliu/wliu.table.js" type="text/javascript"></script>
		<script	src="angularjs/wliu/wliu.table.filter.js" type="text/javascript"></script>
		<script	src="angularjs/wliu/wliu.table.list.js" type="text/javascript"></script>

		<script src="jquery/wliu/diag/wliu.jquery.diag.js" type="text/javascript"></script>
		<link 	href='jquery/wliu/diag/wliu.jquery.diag.css' type='text/css' rel='stylesheet' />
		<script src="jquery/wliu/popup/wliu.jquery.popup.js" type="text/javascript"></script>
		<link 	href='jquery/wliu/popup/wliu.jquery.popup.css' type='text/css' rel='stylesheet' />
		<script src="jquery/wliu/loading/wliu.jquery.loading.js" type="text/javascript"></script>
		<link 	href="jquery/wliu/loading/wliu.jquery.loading.css" type='text/css' rel='stylesheet' />


		<link href='theme/wliu/wliu.common.css' type='text/css' rel='stylesheet' />
		<link href='theme/wliu/wliu.buttons.css' type='text/css' rel='stylesheet' />
		<!-- //wliu components -->


        <script language="javascript" type="text/javascript">
        var iFile = new WLIU.IMAGE();

        $(function(){
        })
        function selectFile(theFile) {
            console.log(theFile.files[0]);
            //FFILE.exportBlob(theFile.files[0]);
            FIMAGE.fromFile(iFile, theFile.files[0], function(fObj){
                console.log(fObj); 
                if(fObj.errorCode) {
                    alert(fObj.errorMessage);
                } else {
                    $("#myview").attr("src", fObj.data);
                }
            });
        }
        function iexport() {
            FFILE.exportHTML("<span style='color:red;'>Hello World</span>");
        }
        function rotate() {
            FIMAGE.rotate(iFile, function(fObj){
                $("#myview").attr("src", fObj.data);
            });
        }
        </script>
</head>
<body>
<div>
    
    <div style="display:inline-block;position:relative; padding:20px; border:1px solid #cccccc;">
     <input type="file"
            onchange="selectFile(this)" 
            style="display:block; position:absolute; opacity:1; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%; border:1px solid red; z-index:0;" value="Browse..." />
         
    </div>


    <INPUT type="button" onclick="iexport()" value="Export" />
    <br>
    <img id="myview" src="" />
    <!--
    <div class="wliu-image-frame" id="wmview">
        <img src="{{listObj.list[0].resize.large.data?listObj.list[0].resize.large.data:''}}" />
        <div class="wliu-image-crop">
            <div class="wliu-image-crop-h"></div>
            <div class="wliu-image-crop-v"></div>
        </div>
    </div>
    -->        

    <image.viewer imglist="listObj" targetid="imgdiag" view="large"></image.viewer>

    <INPUT type="button" onclick="" value="Upload" wliu-diag diag-target="#imgdiag" diag-toggle="click" />
    <INPUT type="button" onclick="reset()" value="Reset" />
    <INPUT type="button" onclick="rotate()" value="Rotate" />
</div>
</body>
</html>