
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c=[],d=a.document,e=Object.getPrototypeOf,f=c.slice,g=c.concat,h=c.push,i=c.indexOf,j={},k=j.toString,l=j.hasOwnProperty,m=l.toString,n=m.call(Object),o={};function p(a,b){b=b||d;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}var q="3.2.1",r=function(a,b){return new r.fn.init(a,b)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t=/^-ms-/,u=/-([a-z])/g,v=function(a,b){return b.toUpperCase()};r.fn=r.prototype={jquery:q,constructor:r,length:0,toArray:function(){return f.call(this)},get:function(a){return null==a?f.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=r.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return r.each(this,a)},map:function(a){return this.pushStack(r.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:c.sort,splice:c.splice},r.extend=r.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||r.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(r.isPlainObject(d)||(e=Array.isArray(d)))?(e?(e=!1,f=c&&Array.isArray(c)?c:[]):f=c&&r.isPlainObject(c)?c:{},g[b]=r.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},r.extend({expando:"jQuery"+(q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===r.type(a)},isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=r.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==k.call(a))&&(!(b=e(a))||(c=l.call(b,"constructor")&&b.constructor,"function"==typeof c&&m.call(c)===n))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[k.call(a)]||"object":typeof a},globalEval:function(a){p(a)},camelCase:function(a){return a.replace(t,"ms-").replace(u,v)},each:function(a,b){var c,d=0;if(w(a)){for(c=a.length;d<c;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(s,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(w(Object(a))?r.merge(c,"string"==typeof a?[a]:a):h.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:i.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,f=0,h=[];if(w(a))for(d=a.length;f<d;f++)e=b(a[f],f,c),null!=e&&h.push(e);else for(f in a)e=b(a[f],f,c),null!=e&&h.push(e);return g.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),r.isFunction(a))return d=f.call(arguments,2),e=function(){return a.apply(b||this,d.concat(f.call(arguments)))},e.guid=a.guid=a.guid||r.guid++,e},now:Date.now,support:o}),"function"==typeof Symbol&&(r.fn[Symbol.iterator]=c[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){j["[object "+b+"]"]=b.toLowerCase()});function w(a){var b=!!a&&"length"in a&&a.length,c=r.type(a);return"function"!==c&&!r.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}var x=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+K+"*("+L+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+K+"*\\]",N=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",O=new RegExp(K+"+","g"),P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(N),U=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),aa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ba=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ca=function(a,b){return b?"\0"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},da=function(){m()},ea=ta(function(a){return a.disabled===!0&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{G.apply(D=H.call(v.childNodes),v.childNodes),D[v.childNodes.length].nodeType}catch(fa){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s=b&&b.ownerDocument,w=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==w&&9!==w&&11!==w)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==w&&(l=Z.exec(a)))if(f=l[1]){if(9===w){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(s&&(j=s.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(l[2])return G.apply(d,b.getElementsByTagName(a)),d;if((f=l[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==w)s=b,r=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(ba,ca):b.setAttribute("id",k=u),o=g(a),h=o.length;while(h--)o[h]="#"+k+" "+sa(o[h]);r=o.join(","),s=$.test(a)&&qa(b.parentNode)||b}if(r)try{return G.apply(d,s.querySelectorAll(r)),d}catch(x){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(P,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ea(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function pa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function qa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),v!==n&&(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(n.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){return a.getAttribute("id")===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}}):(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c,d,e,f=b.getElementById(a);if(f){if(c=f.getAttributeNode("id"),c&&c.value===a)return[f];e=b.getElementsByName(a),d=0;while(f=e[d++])if(c=f.getAttributeNode("id"),c&&c.value===a)return[f]}return[]}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&p)return b.getElementsByClassName(a)},r=[],q=[],(c.qsa=Y.test(n.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+K+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&q.push(":enabled",":disabled"),o.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Y.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"*"),s.call(a,"[s!='']:x"),r.push("!=",N)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Y.test(o.compareDocumentPosition),t=b||Y.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?I(k,a)-I(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?I(k,a)-I(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?la(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(S,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.escape=function(a){return(a+"").replace(ba,ca)},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(_,aa),a[3]=(a[3]||a[4]||a[5]||"").replace(_,aa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return V.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&T.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(_,aa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(O," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(P,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(_,aa),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return U.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(_,aa).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:oa(!1),disabled:oa(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:pa(function(){return[0]}),last:pa(function(a,b){return[b-1]}),eq:pa(function(a,b,c){return[c<0?c+b:c]}),even:pa(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:pa(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:pa(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:pa(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function ra(){}ra.prototype=d.filters=d.pseudos,d.setFilters=new ra,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=Q.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function sa(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function ta(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=x++;return b.first?function(b,c,e){while(b=b[d])if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[w,h];if(i){while(b=b[d])if((1===b.nodeType||g)&&a(b,c,i))return!0}else while(b=b[d])if(1===b.nodeType||g)if(l=b[u]||(b[u]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===w&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function ua(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function va(a,b,c){for(var d=0,e=b.length;d<e;d++)ga(a,b[d],c);return c}function wa(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function xa(a,b,c,d,e,f){return d&&!d[u]&&(d=xa(d)),e&&!e[u]&&(e=xa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||va(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:wa(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=wa(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=wa(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ya(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ta(function(a){return a===b},h,!0),l=ta(function(a){return I(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];i<f;i++)if(c=d.relative[a[i].type])m=[ta(ua(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;e<f;e++)if(d.relative[a[e].type])break;return xa(i>1&&ua(m),i>1&&sa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(P,"$1"),c,i<e&&ya(a.slice(i,e)),e<f&&ya(a=a.slice(e)),e<f&&sa(a))}m.push(c)}return ua(m)}function za(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=E.call(i));u=wa(u)}G.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&ga.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=ya(b[c]),f[u]?d.push(f):e.push(f);f=A(a,za(e,d)),f.selector=a}return f},i=ga.select=function(a,b,c,e){var f,i,j,k,l,m="function"==typeof a&&a,n=!e&&g(a=m.selector||a);if(c=c||[],1===n.length){if(i=n[0]=n[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&9===b.nodeType&&p&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(_,aa),b)||[])[0],!b)return c;m&&(b=b.parentNode),a=a.slice(i.shift().value.length)}f=V.needsContext.test(a)?0:i.length;while(f--){if(j=i[f],d.relative[k=j.type])break;if((l=d.find[k])&&(e=l(j.matches[0].replace(_,aa),$.test(i[0].type)&&qa(b.parentNode)||b))){if(i.splice(f,1),a=e.length&&sa(i),!a)return G.apply(c,e),c;break}}}return(m||h(a,n))(e,b,!p,c,!b||$.test(a)&&qa(b.parentNode)||b),c},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("fieldset"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(J,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);r.find=x,r.expr=x.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=x.uniqueSort,r.text=x.getText,r.isXMLDoc=x.isXML,r.contains=x.contains,r.escapeSelector=x.escape;var y=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&r(a).is(c))break;d.push(a)}return d},z=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},A=r.expr.match.needsContext;function B(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}var C=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,D=/^.[^:#\[\.,]*$/;function E(a,b,c){return r.isFunction(b)?r.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?r.grep(a,function(a){return a===b!==c}):"string"!=typeof b?r.grep(a,function(a){return i.call(b,a)>-1!==c}):D.test(b)?r.filter(b,a,c):(b=r.filter(b,a),r.grep(a,function(a){return i.call(b,a)>-1!==c&&1===a.nodeType}))}r.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?r.find.matchesSelector(d,a)?[d]:[]:r.find.matches(a,r.grep(b,function(a){return 1===a.nodeType}))},r.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(r(a).filter(function(){for(b=0;b<d;b++)if(r.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)r.find(a,e[b],c);return d>1?r.uniqueSort(c):c},filter:function(a){return this.pushStack(E(this,a||[],!1))},not:function(a){return this.pushStack(E(this,a||[],!0))},is:function(a){return!!E(this,"string"==typeof a&&A.test(a)?r(a):a||[],!1).length}});var F,G=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,H=r.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||F,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:G.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof r?b[0]:b,r.merge(this,r.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),C.test(e[1])&&r.isPlainObject(b))for(e in b)r.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&(this[0]=f,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):r.isFunction(a)?void 0!==c.ready?c.ready(a):a(r):r.makeArray(a,this)};H.prototype=r.fn,F=r(d);var I=/^(?:parents|prev(?:Until|All))/,J={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({has:function(a){var b=r(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(r.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&r(a);if(!A.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&r.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?r.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?i.call(r(a),this[0]):i.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function K(a,b){while((a=a[b])&&1!==a.nodeType);return a}r.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return y(a,"parentNode")},parentsUntil:function(a,b,c){return y(a,"parentNode",c)},next:function(a){return K(a,"nextSibling")},prev:function(a){return K(a,"previousSibling")},nextAll:function(a){return y(a,"nextSibling")},prevAll:function(a){return y(a,"previousSibling")},nextUntil:function(a,b,c){return y(a,"nextSibling",c)},prevUntil:function(a,b,c){return y(a,"previousSibling",c)},siblings:function(a){return z((a.parentNode||{}).firstChild,a)},children:function(a){return z(a.firstChild)},contents:function(a){return B(a,"iframe")?a.contentDocument:(B(a,"template")&&(a=a.content||a),r.merge([],a.childNodes))}},function(a,b){r.fn[a]=function(c,d){var e=r.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=r.filter(d,e)),this.length>1&&(J[a]||r.uniqueSort(e),I.test(a)&&e.reverse()),this.pushStack(e)}});var L=/[^\x20\t\r\n\f]+/g;function M(a){var b={};return r.each(a.match(L)||[],function(a,c){b[c]=!0}),b}r.Callbacks=function(a){a="string"==typeof a?M(a):r.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=e||a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){r.each(b,function(b,c){r.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==r.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return r.each(arguments,function(a,b){var c;while((c=r.inArray(b,f,c))>-1)f.splice(c,1),c<=h&&h--}),this},has:function(a){return a?r.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j};function N(a){return a}function O(a){throw a}function P(a,b,c,d){var e;try{a&&r.isFunction(e=a.promise)?e.call(a).done(b).fail(c):a&&r.isFunction(e=a.then)?e.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(a){c.apply(void 0,[a])}}r.extend({Deferred:function(b){var c=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return r.Deferred(function(b){r.each(c,function(c,d){var e=r.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&r.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){var f=0;function g(b,c,d,e){return function(){var h=this,i=arguments,j=function(){var a,j;if(!(b<f)){if(a=d.apply(h,i),a===c.promise())throw new TypeError("Thenable self-resolution");j=a&&("object"==typeof a||"function"==typeof a)&&a.then,r.isFunction(j)?e?j.call(a,g(f,c,N,e),g(f,c,O,e)):(f++,j.call(a,g(f,c,N,e),g(f,c,O,e),g(f,c,N,c.notifyWith))):(d!==N&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},k=e?j:function(){try{j()}catch(a){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(a,k.stackTrace),b+1>=f&&(d!==O&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?k():(r.Deferred.getStackHook&&(k.stackTrace=r.Deferred.getStackHook()),a.setTimeout(k))}}return r.Deferred(function(a){c[0][3].add(g(0,a,r.isFunction(e)?e:N,a.notifyWith)),c[1][3].add(g(0,a,r.isFunction(b)?b:N)),c[2][3].add(g(0,a,r.isFunction(d)?d:O))}).promise()},promise:function(a){return null!=a?r.extend(a,e):e}},f={};return r.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=f.call(arguments),g=r.Deferred(),h=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?f.call(arguments):c,--b||g.resolveWith(d,e)}};if(b<=1&&(P(a,g.done(h(c)).resolve,g.reject,!b),"pending"===g.state()||r.isFunction(e[c]&&e[c].then)))return g.then();while(c--)P(e[c],h(c),g.reject);return g.promise()}});var Q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Q.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},r.readyException=function(b){a.setTimeout(function(){throw b})};var R=r.Deferred();r.fn.ready=function(a){return R.then(a)["catch"](function(a){r.readyException(a)}),this},r.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--r.readyWait:r.isReady)||(r.isReady=!0,a!==!0&&--r.readyWait>0||R.resolveWith(d,[r]))}}),r.ready.then=R.then;function S(){d.removeEventListener("DOMContentLoaded",S),a.removeEventListener("load",S),r.ready()}"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(r.ready):(d.addEventListener("DOMContentLoaded",S),a.addEventListener("load",S));var T=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===r.type(c)){e=!0;for(h in c)T(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,r.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(r(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},U=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function V(){this.expando=r.expando+V.uid++}V.uid=1,V.prototype={cache:function(a){var b=a[this.expando];return b||(b={},U(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[r.camelCase(b)]=c;else for(d in b)e[r.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][r.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){Array.isArray(b)?b=b.map(r.camelCase):(b=r.camelCase(b),b=b in d?[b]:b.match(L)||[]),c=b.length;while(c--)delete d[b[c]]}(void 0===b||r.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!r.isEmptyObject(b)}};var W=new V,X=new V,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function $(a){return"true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:Y.test(a)?JSON.parse(a):a)}function _(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Z,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c=$(c)}catch(e){}X.set(a,b,c)}else c=void 0;return c}r.extend({hasData:function(a){return X.hasData(a)||W.hasData(a)},data:function(a,b,c){return X.access(a,b,c)},removeData:function(a,b){X.remove(a,b)},_data:function(a,b,c){return W.access(a,b,c)},_removeData:function(a,b){W.remove(a,b)}}),r.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=X.get(f),1===f.nodeType&&!W.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=r.camelCase(d.slice(5)),_(f,d,e[d])));W.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){X.set(this,a)}):T(this,function(b){var c;if(f&&void 0===b){if(c=X.get(f,a),void 0!==c)return c;if(c=_(f,a),void 0!==c)return c}else this.each(function(){X.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){X.remove(this,a)})}}),r.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=W.get(a,b),c&&(!d||Array.isArray(c)?d=W.access(a,b,r.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=r.queue(a,b),d=c.length,e=c.shift(),f=r._queueHooks(a,b),g=function(){r.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return W.get(a,c)||W.access(a,c,{empty:r.Callbacks("once memory").add(function(){W.remove(a,[b+"queue",c])})})}}),r.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?r.queue(this[0],a):void 0===b?this:this.each(function(){var c=r.queue(this,a,b);r._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&r.dequeue(this,a)})},dequeue:function(a){return this.each(function(){r.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=r.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=W.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var aa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ba=new RegExp("^(?:([+-])=|)("+aa+")([a-z%]*)$","i"),ca=["Top","Right","Bottom","Left"],da=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&r.contains(a.ownerDocument,a)&&"none"===r.css(a,"display")},ea=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};function fa(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return r.css(a,b,"")},i=h(),j=c&&c[3]||(r.cssNumber[b]?"":"px"),k=(r.cssNumber[b]||"px"!==j&&+i)&&ba.exec(r.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,r.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var ga={};function ha(a){var b,c=a.ownerDocument,d=a.nodeName,e=ga[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=r.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),ga[d]=e,e)}function ia(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=W.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&da(d)&&(e[f]=ha(d))):"none"!==c&&(e[f]="none",W.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}r.fn.extend({show:function(){return ia(this,!0)},hide:function(){return ia(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){da(this)?r(this).show():r(this).hide()})}});var ja=/^(?:checkbox|radio)$/i,ka=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,la=/^$|\/(?:java|ecma)script/i,ma={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ma.optgroup=ma.option,ma.tbody=ma.tfoot=ma.colgroup=ma.caption=ma.thead,ma.th=ma.td;function na(a,b){var c;return c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&B(a,b)?r.merge([a],c):c}function oa(a,b){for(var c=0,d=a.length;c<d;c++)W.set(a[c],"globalEval",!b||W.get(b[c],"globalEval"))}var pa=/<|&#?\w+;/;function qa(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;n<o;n++)if(f=a[n],f||0===f)if("object"===r.type(f))r.merge(m,f.nodeType?[f]:f);else if(pa.test(f)){g=g||l.appendChild(b.createElement("div")),h=(ka.exec(f)||["",""])[1].toLowerCase(),i=ma[h]||ma._default,g.innerHTML=i[1]+r.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;r.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",n=0;while(f=m[n++])if(d&&r.inArray(f,d)>-1)e&&e.push(f);else if(j=r.contains(f.ownerDocument,f),g=na(l.appendChild(f),"script"),j&&oa(g),c){k=0;while(f=g[k++])la.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),o.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",o.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var ra=d.documentElement,sa=/^key/,ta=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ua=/^([^.]*)(?:\.(.+)|)/;function va(){return!0}function wa(){return!1}function xa(){try{return d.activeElement}catch(a){}}function ya(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ya(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=wa;else if(!e)return a;return 1===f&&(g=e,e=function(a){return r().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=r.guid++)),a.each(function(){r.event.add(this,b,e,d,c)})}r.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=W.get(a);if(q){c.handler&&(f=c,c=f.handler,e=f.selector),e&&r.find.matchesSelector(ra,e),c.guid||(c.guid=r.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof r&&r.event.triggered!==b.type?r.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(L)||[""],j=b.length;while(j--)h=ua.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=r.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=r.event.special[n]||{},k=r.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&r.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),r.event.global[n]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=W.hasData(a)&&W.get(a);if(q&&(i=q.events)){b=(b||"").match(L)||[""],j=b.length;while(j--)if(h=ua.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){l=r.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||r.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)r.event.remove(a,n+b[j],c,d,!0);r.isEmptyObject(i)&&W.remove(a,"handle events")}},dispatch:function(a){var b=r.event.fix(a),c,d,e,f,g,h,i=new Array(arguments.length),j=(W.get(this,"events")||{})[b.type]||[],k=r.event.special[b.type]||{};for(i[0]=b,c=1;c<arguments.length;c++)i[c]=arguments[c];if(b.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,b)!==!1){h=r.event.handlers.call(this,b,j),c=0;while((f=h[c++])&&!b.isPropagationStopped()){b.currentTarget=f.elem,d=0;while((g=f.handlers[d++])&&!b.isImmediatePropagationStopped())b.rnamespace&&!b.rnamespace.test(g.namespace)||(b.handleObj=g,b.data=g.data,e=((r.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(b.result=e)===!1&&(b.preventDefault(),b.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,b),b.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||j.disabled!==!0)){for(f=[],g={},c=0;c<i;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?r(e,this).index(j)>-1:r.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(r.Event.prototype,a,{enumerable:!0,configurable:!0,get:r.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[r.expando]?a:new r.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==xa()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===xa()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&B(this,"input"))return this.click(),!1},_default:function(a){return B(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},r.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},r.Event=function(a,b){return this instanceof r.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?va:wa,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&r.extend(this,b),this.timeStamp=a&&a.timeStamp||r.now(),void(this[r.expando]=!0)):new r.Event(a,b)},r.Event.prototype={constructor:r.Event,isDefaultPrevented:wa,isPropagationStopped:wa,isImmediatePropagationStopped:wa,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=va,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=va,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=va,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&sa.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&ta.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},r.event.addProp),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){r.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||r.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),r.fn.extend({on:function(a,b,c,d){return ya(this,a,b,c,d)},one:function(a,b,c,d){return ya(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,r(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=wa),this.each(function(){r.event.remove(this,a,c,b)})}});var za=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Aa=/<script|<style|<link/i,Ba=/checked\s*(?:[^=]|=\s*.checked.)/i,Ca=/^true\/(.*)/,Da=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ea(a,b){return B(a,"table")&&B(11!==b.nodeType?b:b.firstChild,"tr")?r(">tbody",a)[0]||a:a}function Fa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Ga(a){var b=Ca.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ha(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(W.hasData(a)&&(f=W.access(a),g=W.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)r.event.add(b,e,j[e][c])}X.hasData(a)&&(h=X.access(a),i=r.extend({},h),X.set(b,i))}}function Ia(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ja.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function Ja(a,b,c,d){b=g.apply([],b);var e,f,h,i,j,k,l=0,m=a.length,n=m-1,q=b[0],s=r.isFunction(q);if(s||m>1&&"string"==typeof q&&!o.checkClone&&Ba.test(q))return a.each(function(e){var f=a.eq(e);s&&(b[0]=q.call(this,e,f.html())),Ja(f,b,c,d)});if(m&&(e=qa(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(h=r.map(na(e,"script"),Fa),i=h.length;l<m;l++)j=e,l!==n&&(j=r.clone(j,!0,!0),i&&r.merge(h,na(j,"script"))),c.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,r.map(h,Ga),l=0;l<i;l++)j=h[l],la.test(j.type||"")&&!W.access(j,"globalEval")&&r.contains(k,j)&&(j.src?r._evalUrl&&r._evalUrl(j.src):p(j.textContent.replace(Da,""),k))}return a}function Ka(a,b,c){for(var d,e=b?r.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||r.cleanData(na(d)),d.parentNode&&(c&&r.contains(d.ownerDocument,d)&&oa(na(d,"script")),d.parentNode.removeChild(d));return a}r.extend({htmlPrefilter:function(a){return a.replace(za,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=r.contains(a.ownerDocument,a);if(!(o.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||r.isXMLDoc(a)))for(g=na(h),f=na(a),d=0,e=f.length;d<e;d++)Ia(f[d],g[d]);if(b)if(c)for(f=f||na(a),g=g||na(h),d=0,e=f.length;d<e;d++)Ha(f[d],g[d]);else Ha(a,h);return g=na(h,"script"),g.length>0&&oa(g,!i&&na(a,"script")),h},cleanData:function(a){for(var b,c,d,e=r.event.special,f=0;void 0!==(c=a[f]);f++)if(U(c)){if(b=c[W.expando]){if(b.events)for(d in b.events)e[d]?r.event.remove(c,d):r.removeEvent(c,d,b.handle);c[W.expando]=void 0}c[X.expando]&&(c[X.expando]=void 0)}}}),r.fn.extend({detach:function(a){return Ka(this,a,!0)},remove:function(a){return Ka(this,a)},text:function(a){return T(this,function(a){return void 0===a?r.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return Ja(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ea(this,a);b.appendChild(a)}})},prepend:function(){return Ja(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ea(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ja(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ja(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(r.cleanData(na(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return r.clone(this,a,b)})},html:function(a){return T(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Aa.test(a)&&!ma[(ka.exec(a)||["",""])[1].toLowerCase()]){a=r.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(r.cleanData(na(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ja(this,arguments,function(b){var c=this.parentNode;r.inArray(this,a)<0&&(r.cleanData(na(this)),c&&c.replaceChild(b,this))},a)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){r.fn[a]=function(a){for(var c,d=[],e=r(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),r(e[g])[b](c),h.apply(d,c.get());return this.pushStack(d)}});var La=/^margin/,Ma=new RegExp("^("+aa+")(?!px)[a-z%]+$","i"),Na=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(i){i.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i.innerHTML="",ra.appendChild(h);var b=a.getComputedStyle(i);c="1%"!==b.top,g="2px"===b.marginLeft,e="4px"===b.width,i.style.marginRight="50%",f="4px"===b.marginRight,ra.removeChild(h),i=null}}var c,e,f,g,h=d.createElement("div"),i=d.createElement("div");i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===i.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(i),r.extend(o,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),e},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),g}}))}();function Oa(a,b,c){var d,e,f,g,h=a.style;return c=c||Na(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||r.contains(a.ownerDocument,a)||(g=r.style(a,b)),!o.pixelMarginRight()&&Ma.test(g)&&La.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Pa(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Qa=/^(none|table(?!-c[ea]).+)/,Ra=/^--/,Sa={position:"absolute",visibility:"hidden",display:"block"},Ta={letterSpacing:"0",fontWeight:"400"},Ua=["Webkit","Moz","ms"],Va=d.createElement("div").style;function Wa(a){if(a in Va)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ua.length;while(c--)if(a=Ua[c]+b,a in Va)return a}function Xa(a){var b=r.cssProps[a];return b||(b=r.cssProps[a]=Wa(a)||a),b}function Ya(a,b,c){var d=ba.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Za(a,b,c,d,e){var f,g=0;for(f=c===(d?"border":"content")?4:"width"===b?1:0;f<4;f+=2)"margin"===c&&(g+=r.css(a,c+ca[f],!0,e)),d?("content"===c&&(g-=r.css(a,"padding"+ca[f],!0,e)),"margin"!==c&&(g-=r.css(a,"border"+ca[f]+"Width",!0,e))):(g+=r.css(a,"padding"+ca[f],!0,e),"padding"!==c&&(g+=r.css(a,"border"+ca[f]+"Width",!0,e)));return g}function $a(a,b,c){var d,e=Na(a),f=Oa(a,b,e),g="border-box"===r.css(a,"boxSizing",!1,e);return Ma.test(f)?f:(d=g&&(o.boxSizingReliable()||f===a.style[b]),"auto"===f&&(f=a["offset"+b[0].toUpperCase()+b.slice(1)]),f=parseFloat(f)||0,f+Za(a,b,c||(g?"border":"content"),d,e)+"px")}r.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Oa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=r.camelCase(b),i=Ra.test(b),j=a.style;return i||(b=Xa(h)),g=r.cssHooks[b]||r.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:j[b]:(f=typeof c,"string"===f&&(e=ba.exec(c))&&e[1]&&(c=fa(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(r.cssNumber[h]?"":"px")),o.clearCloneStyle||""!==c||0!==b.indexOf("background")||(j[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i?j.setProperty(b,c):j[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=r.camelCase(b),i=Ra.test(b);return i||(b=Xa(h)),g=r.cssHooks[b]||r.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Oa(a,b,d)),"normal"===e&&b in Ta&&(e=Ta[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),r.each(["height","width"],function(a,b){r.cssHooks[b]={get:function(a,c,d){if(c)return!Qa.test(r.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?$a(a,b,d):ea(a,Sa,function(){return $a(a,b,d)})},set:function(a,c,d){var e,f=d&&Na(a),g=d&&Za(a,b,d,"border-box"===r.css(a,"boxSizing",!1,f),f);return g&&(e=ba.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=r.css(a,b)),Ya(a,c,g)}}}),r.cssHooks.marginLeft=Pa(o.reliableMarginLeft,function(a,b){if(b)return(parseFloat(Oa(a,"marginLeft"))||a.getBoundingClientRect().left-ea(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(a,b){r.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+ca[d]+b]=f[d]||f[d-2]||f[0];return e}},La.test(a)||(r.cssHooks[a+b].set=Ya)}),r.fn.extend({css:function(a,b){return T(this,function(a,b,c){var d,e,f={},g=0;if(Array.isArray(b)){for(d=Na(a),e=b.length;g<e;g++)f[b[g]]=r.css(a,b[g],!1,d);return f}return void 0!==c?r.style(a,b,c):r.css(a,b)},a,b,arguments.length>1)}});function _a(a,b,c,d,e){return new _a.prototype.init(a,b,c,d,e)}r.Tween=_a,_a.prototype={constructor:_a,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||r.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(r.cssNumber[c]?"":"px")},cur:function(){var a=_a.propHooks[this.prop];return a&&a.get?a.get(this):_a.propHooks._default.get(this)},run:function(a){var b,c=_a.propHooks[this.prop];return this.options.duration?this.pos=b=r.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):_a.propHooks._default.set(this),this}},_a.prototype.init.prototype=_a.prototype,_a.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=r.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){r.fx.step[a.prop]?r.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[r.cssProps[a.prop]]&&!r.cssHooks[a.prop]?a.elem[a.prop]=a.now:r.style(a.elem,a.prop,a.now+a.unit)}}},_a.propHooks.scrollTop=_a.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},r.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},r.fx=_a.prototype.init,r.fx.step={};var ab,bb,cb=/^(?:toggle|show|hide)$/,db=/queueHooks$/;function eb(){bb&&(d.hidden===!1&&a.requestAnimationFrame?a.requestAnimationFrame(eb):a.setTimeout(eb,r.fx.interval),r.fx.tick())}function fb(){return a.setTimeout(function(){ab=void 0}),ab=r.now()}function gb(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=ca[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function hb(a,b,c){for(var d,e=(kb.tweeners[b]||[]).concat(kb.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&da(a),q=W.get(a,"fxshow");c.queue||(g=r._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,r.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],cb.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||r.style(a,d)}if(i=!r.isEmptyObject(b),i||!r.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=W.get(a,"display")),k=r.css(a,"display"),"none"===k&&(j?k=j:(ia([a],!0),j=a.style.display||j,k=r.css(a,"display"),ia([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===r.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=W.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&ia([a],!0),m.done(function(){p||ia([a]),W.remove(a,"fxshow");for(d in n)r.style(a,d,n[d])})),i=hb(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=r.camelCase(c),e=b[d],f=a[c],Array.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=r.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=kb.prefilters.length,h=r.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=ab||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(i||h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:r.extend({},b),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},c),originalProperties:b,originalOptions:c,startTime:ab||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=r.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);f<g;f++)if(d=kb.prefilters[f].call(j,a,k,j.opts))return r.isFunction(d.stop)&&(r._queueHooks(j.elem,j.opts.queue).stop=r.proxy(d.stop,d)),d;return r.map(k,hb,j),r.isFunction(j.opts.start)&&j.opts.start.call(a,j),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always),r.fx.timer(r.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j}r.Animation=r.extend(kb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return fa(c.elem,a,ba.exec(b),c),c}]},tweener:function(a,b){r.isFunction(a)?(b=a,a=["*"]):a=a.match(L);for(var c,d=0,e=a.length;d<e;d++)c=a[d],kb.tweeners[c]=kb.tweeners[c]||[],kb.tweeners[c].unshift(b)},prefilters:[ib],prefilter:function(a,b){b?kb.prefilters.unshift(a):kb.prefilters.push(a)}}),r.speed=function(a,b,c){var d=a&&"object"==typeof a?r.extend({},a):{complete:c||!c&&b||r.isFunction(a)&&a,duration:a,easing:c&&b||b&&!r.isFunction(b)&&b};return r.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in r.fx.speeds?d.duration=r.fx.speeds[d.duration]:d.duration=r.fx.speeds._default),null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){r.isFunction(d.old)&&d.old.call(this),d.queue&&r.dequeue(this,d.queue)},d},r.fn.extend({fadeTo:function(a,b,c,d){return this.filter(da).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=r.isEmptyObject(a),f=r.speed(b,c,d),g=function(){var b=kb(this,r.extend({},a),f);(e||W.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=r.timers,g=W.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&db.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||r.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=W.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=r.timers,g=d?d.length:0;for(c.finish=!0,r.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),r.each(["toggle","show","hide"],function(a,b){var c=r.fn[b];r.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),r.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){r.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),r.timers=[],r.fx.tick=function(){var a,b=0,c=r.timers;for(ab=r.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||r.fx.stop(),ab=void 0},r.fx.timer=function(a){r.timers.push(a),r.fx.start()},r.fx.interval=13,r.fx.start=function(){bb||(bb=!0,eb())},r.fx.stop=function(){bb=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(b,c){return b=r.fx?r.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",o.checkOn=""!==a.value,o.optSelected=c.selected,a=d.createElement("input"),a.value="t",a.type="radio",o.radioValue="t"===a.value}();var lb,mb=r.expr.attrHandle;r.fn.extend({attr:function(a,b){return T(this,r.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){r.removeAttr(this,a)})}}),r.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?r.prop(a,b,c):(1===f&&r.isXMLDoc(a)||(e=r.attrHooks[b.toLowerCase()]||(r.expr.match.bool.test(b)?lb:void 0)),void 0!==c?null===c?void r.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=r.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!o.radioValue&&"radio"===b&&B(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(L);if(e&&1===a.nodeType)while(c=e[d++])a.removeAttribute(c)}}),lb={set:function(a,b,c){return b===!1?r.removeAttr(a,c):a.setAttribute(c,c),c}},r.each(r.expr.match.bool.source.match(/\w+/g),function(a,b){var c=mb[b]||r.find.attr;mb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=mb[g],mb[g]=e,e=null!=c(a,b,d)?g:null,mb[g]=f),e}});var nb=/^(?:input|select|textarea|button)$/i,ob=/^(?:a|area)$/i;r.fn.extend({prop:function(a,b){return T(this,r.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[r.propFix[a]||a]})}}),r.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&r.isXMLDoc(a)||(b=r.propFix[b]||b,e=r.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=r.find.attr(a,"tabindex");return b?parseInt(b,10):nb.test(a.nodeName)||ob.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),o.optSelected||(r.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this});function pb(a){var b=a.match(L)||[];return b.join(" ")}function qb(a){return a.getAttribute&&a.getAttribute("class")||""}r.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).addClass(a.call(this,b,qb(this)))});if("string"==typeof a&&a){b=a.match(L)||[];while(c=this[i++])if(e=qb(c),d=1===c.nodeType&&" "+pb(e)+" "){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=pb(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).removeClass(a.call(this,b,qb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(L)||[];while(c=this[i++])if(e=qb(c),d=1===c.nodeType&&" "+pb(e)+" "){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=pb(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):r.isFunction(a)?this.each(function(c){r(this).toggleClass(a.call(this,c,qb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=r(this),f=a.match(L)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=qb(this),b&&W.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":W.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+pb(qb(c))+" ").indexOf(b)>-1)return!0;return!1}});var rb=/\r/g;r.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=r.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,r(this).val()):a,null==e?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=r.map(e,function(a){return null==a?"":a+""})),b=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=r.valHooks[e.type]||r.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(rb,""):null==c?"":c)}}}),r.extend({valHooks:{option:{get:function(a){var b=r.find.attr(a,"value");return null!=b?b:pb(r.text(a))}},select:{get:function(a){var b,c,d,e=a.options,f=a.selectedIndex,g="select-one"===a.type,h=g?null:[],i=g?f+1:e.length;for(d=f<0?i:g?f:0;d<i;d++)if(c=e[d],(c.selected||d===f)&&!c.disabled&&(!c.parentNode.disabled||!B(c.parentNode,"optgroup"))){if(b=r(c).val(),g)return b;h.push(b)}return h},set:function(a,b){var c,d,e=a.options,f=r.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=r.inArray(r.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=r.inArray(r(a).val(),b)>-1}},o.checkOn||(r.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var sb=/^(?:focusinfocus|focusoutblur)$/;r.extend(r.event,{trigger:function(b,c,e,f){var g,h,i,j,k,m,n,o=[e||d],p=l.call(b,"type")?b.type:b,q=l.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!sb.test(p+r.event.triggered)&&(p.indexOf(".")>-1&&(q=p.split("."),p=q.shift(),q.sort()),k=p.indexOf(":")<0&&"on"+p,b=b[r.expando]?b:new r.Event(p,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:r.makeArray(c,[b]),n=r.event.special[p]||{},f||!n.trigger||n.trigger.apply(e,c)!==!1)){if(!f&&!n.noBubble&&!r.isWindow(e)){for(j=n.delegateType||p,sb.test(j+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),i=h;i===(e.ownerDocument||d)&&o.push(i.defaultView||i.parentWindow||a)}g=0;while((h=o[g++])&&!b.isPropagationStopped())b.type=g>1?j:n.bindType||p,m=(W.get(h,"events")||{})[b.type]&&W.get(h,"handle"),m&&m.apply(h,c),m=k&&h[k],m&&m.apply&&U(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=p,f||b.isDefaultPrevented()||n._default&&n._default.apply(o.pop(),c)!==!1||!U(e)||k&&r.isFunction(e[p])&&!r.isWindow(e)&&(i=e[k],i&&(e[k]=null),r.event.triggered=p,e[p](),r.event.triggered=void 0,i&&(e[k]=i)),b.result}},simulate:function(a,b,c){var d=r.extend(new r.Event,c,{type:a,isSimulated:!0});r.event.trigger(d,null,b)}}),r.fn.extend({trigger:function(a,b){return this.each(function(){r.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return r.event.trigger(a,b,c,!0)}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){r.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),r.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),o.focusin="onfocusin"in a,o.focusin||r.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){r.event.simulate(b,a.target,r.event.fix(a))};r.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=W.access(d,b);e||d.addEventListener(a,c,!0),W.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=W.access(d,b)-1;e?W.access(d,b,e):(d.removeEventListener(a,c,!0),W.remove(d,b))}}});var tb=a.location,ub=r.now(),vb=/\?/;r.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||r.error("Invalid XML: "+b),c};var wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(Array.isArray(b))r.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==r.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}r.param=function(a,b){var c,d=[],e=function(a,b){var c=r.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(Array.isArray(a)||a.jquery&&!r.isPlainObject(a))r.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=r.prop(this,"elements");return a?r.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!r(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!ja.test(a))}).map(function(a,b){var c=r(this).val();return null==c?null:Array.isArray(c)?r.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}});var Bb=/%20/g,Cb=/#.*$/,Db=/([?&])_=[^&]*/,Eb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gb=/^(?:GET|HEAD)$/,Hb=/^\/\//,Ib={},Jb={},Kb="*/".concat("*"),Lb=d.createElement("a");Lb.href=tb.href;function Mb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(L)||[];if(r.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Nb(a,b,c,d){var e={},f=a===Jb;function g(h){var i;return e[h]=!0,r.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Ob(a,b){var c,d,e=r.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&r.extend(!0,a,d),a}function Pb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function Qb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:tb.href,type:"GET",isLocal:Fb.test(tb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Ob(Ob(a,r.ajaxSettings),b):Ob(r.ajaxSettings,a)},ajaxPrefilter:Mb(Ib),ajaxTransport:Mb(Jb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=r.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?r(p):r.event,s=r.Deferred(),t=r.Callbacks("once memory"),u=o.statusCode||{},v={},w={},x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h){h={};while(b=Eb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=w[a.toLowerCase()]=w[a.toLowerCase()]||a,v[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)y.always(a[y.status]);else for(b in a)u[b]=[u[b],a[b]];return this},abort:function(a){var b=a||x;return e&&e.abort(b),A(0,b),this}};if(s.promise(y),o.url=((b||o.url||tb.href)+"").replace(Hb,tb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(L)||[""],null==o.crossDomain){j=d.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Lb.protocol+"//"+Lb.host!=j.protocol+"//"+j.host}catch(z){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=r.param(o.data,o.traditional)),Nb(Ib,o,c,y),k)return y;l=r.event&&o.global,l&&0===r.active++&&r.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Gb.test(o.type),f=o.url.replace(Cb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Bb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(vb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Db,"$1"),n=(vb.test(f)?"&":"?")+"_="+ub+++n),o.url=f+n),o.ifModified&&(r.lastModified[f]&&y.setRequestHeader("If-Modified-Since",r.lastModified[f]),r.etag[f]&&y.setRequestHeader("If-None-Match",r.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",o.contentType),y.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Kb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)y.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,y,o)===!1||k))return y.abort();if(x="abort",t.add(o.complete),y.done(o.success),y.fail(o.error),e=Nb(Jb,o,c,y)){if(y.readyState=1,l&&q.trigger("ajaxSend",[y,o]),k)return y;o.async&&o.timeout>0&&(i=a.setTimeout(function(){y.abort("timeout")},o.timeout));try{k=!1,e.send(v,A)}catch(z){if(k)throw z;A(-1,z)}}else A(-1,"No Transport");function A(b,c,d,h){var j,m,n,v,w,x=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",y.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(v=Pb(o,y,d)),v=Qb(o,v,y,j),j?(o.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(r.lastModified[f]=w),w=y.getResponseHeader("etag"),w&&(r.etag[f]=w)),204===b||"HEAD"===o.type?x="nocontent":304===b?x="notmodified":(x=v.state,m=v.data,n=v.error,j=!n)):(n=x,!b&&x||(x="error",b<0&&(b=0))),y.status=b,y.statusText=(c||x)+"",j?s.resolveWith(p,[m,x,y]):s.rejectWith(p,[y,x,n]),y.statusCode(u),u=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[y,o,j?m:n]),t.fireWith(p,[y,x]),l&&(q.trigger("ajaxComplete",[y,o]),--r.active||r.event.trigger("ajaxStop")))}return y},getJSON:function(a,b,c){return r.get(a,b,c,"json")},getScript:function(a,b){return r.get(a,void 0,b,"script")}}),r.each(["get","post"],function(a,b){r[b]=function(a,c,d,e){return r.isFunction(c)&&(e=e||d,d=c,c=void 0),r.ajax(r.extend({url:a,type:b,dataType:e,data:c,success:d},r.isPlainObject(a)&&a))}}),r._evalUrl=function(a){return r.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},r.fn.extend({wrapAll:function(a){var b;return this[0]&&(r.isFunction(a)&&(a=a.call(this[0])),b=r(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return r.isFunction(a)?this.each(function(b){r(this).wrapInner(a.call(this,b))}):this.each(function(){var b=r(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=r.isFunction(a);return this.each(function(c){r(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(a){return!r.expr.pseudos.visible(a)},r.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Rb={0:200,1223:204},Sb=r.ajaxSettings.xhr();o.cors=!!Sb&&"withCredentials"in Sb,o.ajax=Sb=!!Sb,r.ajaxTransport(function(b){var c,d;if(o.cors||Sb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Rb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}}),r.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return r.globalEval(a),a}}}),r.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),r.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=r("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Tb=[],Ub=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Tb.pop()||r.expando+"_"+ub++;return this[a]=!0,a}}),r.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Ub.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ub.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=r.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Ub,"$1"+e):b.jsonp!==!1&&(b.url+=(vb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||r.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?r(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Tb.push(e)),g&&r.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),o.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),r.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var e,f,g;return b||(o.createHTMLDocument?(b=d.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=d.location.href,b.head.appendChild(e)):b=d),f=C.exec(a),g=!c&&[],f?[b.createElement(f[1])]:(f=qa([a],b,g),g&&g.length&&r(g).remove(),r.merge([],f.childNodes))},r.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=pb(a.slice(h)),a=a.slice(0,h)),r.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&r.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?r("<div>").append(r.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){r.fn[b]=function(a){return this.on(b,a)}}),r.expr.pseudos.animated=function(a){return r.grep(r.timers,function(b){return a===b.elem}).length},r.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=r.css(a,"position"),l=r(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=r.css(a,"top"),i=r.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),r.isFunction(b)&&(b=b.call(a,c,r.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},r.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){r.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),b=f.ownerDocument,c=b.documentElement,e=b.defaultView,{top:d.top+e.pageYOffset-c.clientTop,left:d.left+e.pageXOffset-c.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===r.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),B(a[0],"html")||(d=a.offset()),d={top:d.top+r.css(a[0],"borderTopWidth",!0),left:d.left+r.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-r.css(c,"marginTop",!0),left:b.left-d.left-r.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===r.css(a,"position"))a=a.offsetParent;return a||ra})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;r.fn[a]=function(d){return T(this,function(a,d,e){var f;return r.isWindow(a)?f=a:9===a.nodeType&&(f=a.defaultView),void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),r.each(["top","left"],function(a,b){r.cssHooks[b]=Pa(o.pixelPosition,function(a,c){if(c)return c=Oa(a,b),Ma.test(c)?r(a).position()[b]+"px":c})}),r.each({Height:"height",Width:"width"},function(a,b){r.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){r.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return T(this,function(b,c,e){var f;return r.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?r.css(b,c,h):r.style(b,c,e,h)},b,g?e:void 0,g)}})}),r.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),r.holdReady=function(a){a?r.readyWait++:r.ready(!0)},r.isArray=Array.isArray,r.parseJSON=JSON.parse,r.nodeName=B,"function"==typeof define&&define.amd&&define("jquery",[],function(){return r});var Vb=a.jQuery,Wb=a.$;return r.noConflict=function(b){return a.$===r&&(a.$=Wb),b&&a.jQuery===r&&(a.jQuery=Vb),r},b||(a.jQuery=a.$=r),r});
(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){factory(require('jquery'));}else{factory(jQuery);}}(function($){var pluses=/\+/g;function encode(s){return config.raw?s:encodeURIComponent(s);}
function decode(s){return config.raw?s:decodeURIComponent(s);}
function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value));}
function parseCookieValue(s){if(s.indexOf('"')===0){s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,'\\');}
try{s=decodeURIComponent(s.replace(pluses,' '));return config.json?JSON.parse(s):s;}catch(e){}}
function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value;}
var config=$.cookie=function(key,value,options){if(value!==undefined&&!$.isFunction(value)){options=$.extend({},config.defaults,options);if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setTime(+t+days*864e+5);}
return(document.cookie=[encode(key),'=',stringifyCookieValue(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''));}
var result=key?undefined:{};var cookies=document.cookie?document.cookie.split('; '):[];for(var i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split('=');var name=decode(parts.shift());var cookie=parts.join('=');if(key&&key===name){result=read(cookie,value);break;}
if(!key&&(cookie=read(cookie))!==undefined){result[name]=cookie;}}
return result;};config.defaults={};$.removeCookie=function(key,options){if($.cookie(key)===undefined){return false;}
$.cookie(key,'',$.extend({},options,{expires:-1}));return!$.cookie(key);};}));
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory);}else{factory(jQuery);}}(function($){$.ui=$.ui||{};var version=$.ui.version="1.12.1";var widgetUuid=0;var widgetSlice=Array.prototype.slice;$.cleanData=(function(orig){return function(elems){var events,elem,i;for(i=0;(elem=elems[i])!=null;i++){try{events=$._data(elem,"events");if(events&&events.remove){$(elem).triggerHandler("remove");}}catch(e){}}
orig(elems);};})($.cleanData);$.widget=function(name,base,prototype){var existingConstructor,constructor,basePrototype;var proxiedPrototype={};var namespace=name.split(".")[0];name=name.split(".")[1];var fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
if($.isArray(prototype)){prototype=$.extend.apply(null,[{}].concat(prototype));}
$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}
if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}
proxiedPrototype[prop]=(function(){function _super(){return base.prototype[prop].apply(this,arguments);}
function _superApply(args){return base.prototype[prop].apply(this,args);}
return function(){var __super=this._super;var __superApply=this._superApply;var returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?(basePrototype.widgetEventPrefix||name):name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}
$.widget.bridge(name,constructor);return constructor;};$.widget.extend=function(target){var input=widgetSlice.call(arguments,1);var inputIndex=0;var inputLength=input.length;var key;var value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}
return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string";var args=widgetSlice.call(arguments,1);var returnValue=this;if(isMethodCall){if(!this.length&&options==="instance"){returnValue=undefined;}else{this.each(function(){var methodValue;var instance=$.data(this,fullName);if(options==="instance"){returnValue=instance;return false;}
if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}
methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}}else{if(args.length){options=$.widget.extend.apply(null,[options].concat(args));}
this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{});if(instance._init){instance._init();}}else{$.data(this,fullName,new object(options,this));}});}
return returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=widgetUuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=$();this.hoverable=$();this.focusable=$();this.classesElementLookup={};if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}
this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled);}
this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:function(){return{};},_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){var that=this;this._destroy();$.each(this.classesElementLookup,function(key,value){that._removeClass(value,key);});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace);},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key;var parts;var curOption;var i;if(arguments.length===0){return $.widget.extend({},this.options);}
if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}
key=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key];}
curOption[key]=value;}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key];}
options[key]=value;}}
this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}
return this;},_setOption:function(key,value){if(key==="classes"){this._setOptionClasses(value);}
this.options[key]=value;if(key==="disabled"){this._setOptionDisabled(value);}
return this;},_setOptionClasses:function(value){var classKey,elements,currentElements;for(classKey in value){currentElements=this.classesElementLookup[classKey];if(value[classKey]===this.options.classes[classKey]||!currentElements||!currentElements.length){continue;}
elements=$(currentElements.get());this._removeClass(currentElements,classKey);elements.addClass(this._classes({element:elements,keys:classKey,classes:value,add:true}));}},_setOptionDisabled:function(value){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!value);if(value){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus");}},enable:function(){return this._setOptions({disabled:false});},disable:function(){return this._setOptions({disabled:true});},_classes:function(options){var full=[];var that=this;options=$.extend({element:this.element,classes:this.options.classes||{}},options);function processClassString(classes,checkOption){var current,i;for(i=0;i<classes.length;i++){current=that.classesElementLookup[classes[i]]||$();if(options.add){current=$($.unique(current.get().concat(options.element.get())));}else{current=$(current.not(options.element).get());}
that.classesElementLookup[classes[i]]=current;full.push(classes[i]);if(checkOption&&options.classes[classes[i]]){full.push(options.classes[classes[i]]);}}}
this._on(options.element,{"remove":"_untrackClassesElement"});if(options.keys){processClassString(options.keys.match(/\S+/g)||[],true);}
if(options.extra){processClassString(options.extra.match(/\S+/g)||[]);}
return full.join(" ");},_untrackClassesElement:function(event){var that=this;$.each(that.classesElementLookup,function(key,value){if($.inArray(event.target,value)!==-1){that.classesElementLookup[key]=$(value.not(event.target).get());}});},_removeClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,false);},_addClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,true);},_toggleClass:function(element,keys,extra,add){add=(typeof add==="boolean")?add:extra;var shift=(typeof element==="string"||element===null),options={extra:shift?keys:extra,keys:shift?element:keys,element:shift?this.element:element,add:add};options.element.toggleClass(this._classes(options),add);return this;},_on:function(suppressDisabledCheck,element,handlers){var delegateElement;var instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}
if(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}
$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}
return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}
var match=event.match(/^([\w:-]*)\s*(.*)$/);var eventName=match[1]+instance.eventNamespace;var selector=match[2];if(selector){delegateElement.on(eventName,selector,handlerProxy);}else{element.on(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+
this.eventNamespace;element.off(eventName).off(eventName);this.bindings=$(this.bindings.not(element).get());this.focusable=$(this.focusable.not(element).get());this.hoverable=$(this.hoverable.not(element).get());},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){this._addClass($(event.currentTarget),null,"ui-state-hover");},mouseleave:function(event){this._removeClass($(event.currentTarget),null,"ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){this._addClass($(event.currentTarget),null,"ui-state-focus");},focusout:function(event){this._removeClass($(event.currentTarget),null,"ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig;var callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}
var hasOptions;var effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}
hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}
if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}
next();});}};});var widget=$.widget;(function(){var cachedScrollbarWidth,max=Math.max,abs=Math.abs,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)];}
function parseCss(element,property){return parseInt($.css(element,property),10)||0;}
function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};}
if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};}
if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};}
return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}
$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth;}
var w1,w2,div=$("<div "+"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>"+"<div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth;}
div.remove();return(cachedScrollbarWidth=w1-w2);},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||(overflowX==="auto"&&within.width<within.element[0].scrollWidth),hasOverflowY=overflowY==="scroll"||(overflowY==="auto"&&within.height<within.element[0].scrollHeight);return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&withinElement[0].nodeType===9,hasOffset=!isWindow&&!isDocument;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:hasOffset?$(element).offset():{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:withinElement.outerWidth(),height:withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}
options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top";}
targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"];}
pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]];});if(collision.length===1){collision[1]=collision[0];}
if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]==="center"){basePosition.left+=targetWidth/2;}
if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]==="center"){basePosition.top+=targetHeight/2;}
atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+
scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+
scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]==="center"){position.left-=elemWidth/2;}
if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]==="center"){position.top-=elemHeight/2;}
position.left+=myOffset[0];position.top+=myOffset[1];collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem});}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center";}
if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle";}
if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal";}else{feedback.important="vertical";}
options.using.call(this,props,feedback);};}
elem.offset($.extend(position,{using:using}));});};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-
withinOffset;position.left+=overLeft-newOverRight;}else if(overRight>0&&overLeft<=0){position.left=withinOffset;}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth;}else{position.left=withinOffset;}}}else if(overLeft>0){position.left+=overLeft;}else if(overRight>0){position.left-=overRight;}else{position.left=max(position.left-collisionPosLeft,position.left);}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-
withinOffset;position.top+=overTop-newOverBottom;}else if(overBottom>0&&overTop<=0){position.top=withinOffset;}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight;}else{position.top=withinOffset;}}}else if(overTop>0){position.top+=overTop;}else if(overBottom>0){position.top-=overBottom;}else{position.top=max(position.top-collisionPosTop,position.top);}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-
outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset;}}else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+
atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset;}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-
outerHeight-withinOffset;if(newOverBottom<0||newOverBottom<abs(overTop)){position.top+=myOffset+atOffset+offset;}}else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+
offset-offsetTop;if(newOverTop>0||abs(newOverTop)<overBottom){position.top+=myOffset+atOffset+offset;}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments);},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments);}}};})();var position=$.ui.position;var data=$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);}});var disableSelection=$.fn.extend({disableSelection:(function(){var eventType="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(eventType+".ui-disableSelection",function(event){event.preventDefault();});};})(),enableSelection:function(){return this.off(".ui-disableSelection");}});$.ui.focusable=function(element,hasTabindex){var map,mapName,img,focusableIfVisible,fieldset,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
img=$("img[usemap='#"+mapName+"']");return img.length>0&&img.is(":visible");}
if(/^(input|select|textarea|button|object)$/.test(nodeName)){focusableIfVisible=!element.disabled;if(focusableIfVisible){fieldset=$(element).closest("fieldset")[0];if(fieldset){focusableIfVisible=!fieldset.disabled;}}}else if("a"===nodeName){focusableIfVisible=element.href||hasTabindex;}else{focusableIfVisible=hasTabindex;}
return focusableIfVisible&&$(element).is(":visible")&&visible($(element));};function visible(element){var visibility=element.css("visibility");while(visibility==="inherit"){element=element.parent();visibility=element.css("visibility");}
return visibility!=="hidden";}
$.extend($.expr[":"],{focusable:function(element){return $.ui.focusable(element,$.attr(element,"tabindex")!=null);}});var focusable=$.ui.focusable;var form=$.fn.form=function(){return typeof this[0].form==="string"?this.closest("form"):$(this[0].form);};var formResetMixin=$.ui.formResetMixin={_formResetHandler:function(){var form=$(this);setTimeout(function(){var instances=form.data("ui-form-reset-instances");$.each(instances,function(){this.refresh();});});},_bindFormResetHandler:function(){this.form=this.element.form();if(!this.form.length){return;}
var instances=this.form.data("ui-form-reset-instances")||[];if(!instances.length){this.form.on("reset.ui-form-reset",this._formResetHandler);}
instances.push(this);this.form.data("ui-form-reset-instances",instances);},_unbindFormResetHandler:function(){if(!this.form.length){return;}
var instances=this.form.data("ui-form-reset-instances");instances.splice($.inArray(this,instances),1);if(instances.length){this.form.data("ui-form-reset-instances",instances);}else{this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset");}}};if($.fn.jquery.substring(0,3)==="1.7"){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0;}
if(margin){size-=parseFloat($.css(elem,"margin"+this))||0;}});return size;}
$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}
return this.each(function(){$(this).css(type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}
return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px");});};});$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};};var keycode=$.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};var escapeSelector=$.ui.escapeSelector=(function(){var selectorEscape=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(selector){return selector.replace(selectorEscape,"\\$1");};})();var labels=$.fn.labels=function(){var ancestor,selector,id,labels,ancestors;if(this[0].labels&&this[0].labels.length){return this.pushStack(this[0].labels);}
labels=this.eq(0).parents("label");id=this.attr("id");if(id){ancestor=this.eq(0).parents().last();ancestors=ancestor.add(ancestor.length?ancestor.siblings():this.siblings());selector="label[for='"+$.ui.escapeSelector(id)+"']";labels=labels.add(ancestors.find(selector).addBack(selector));}
return this.pushStack(labels);};var scrollParent=$.fn.scrollParent=function(includeHidden){var position=this.css("position"),excludeStaticParent=position==="absolute",overflowRegex=includeHidden?/(auto|scroll|hidden)/:/(auto|scroll)/,scrollParent=this.parents().filter(function(){var parent=$(this);if(excludeStaticParent&&parent.css("position")==="static"){return false;}
return overflowRegex.test(parent.css("overflow")+parent.css("overflow-y")+
parent.css("overflow-x"));}).eq(0);return position==="fixed"||!scrollParent.length?$(this[0].ownerDocument||document):scrollParent;};var tabbable=$.extend($.expr[":"],{tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),hasTabindex=tabIndex!=null;return(!hasTabindex||tabIndex>=0)&&$.ui.focusable(element,hasTabindex);}});var uniqueId=$.fn.extend({uniqueId:(function(){var uuid=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid);}});};})(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){$(this).removeAttr("id");}});}});var ie=$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var mouseHandled=false;$(document).on("mouseup",function(){mouseHandled=false;});var widgetsMouse=$.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.on("mousedown."+this.widgetName,function(event){return that._mouseDown(event);}).on("click."+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");event.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function(event){if(mouseHandled){return;}
this._mouseMoved=false;(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var that=this,btnIsLeft=(event.which===1),elIsCancel=(typeof this.options.cancel==="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true;},this.options.delay);}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true;}}
if(true===$.data(event.target,this.widgetName+".preventClickEvent")){$.removeData(event.target,this.widgetName+".preventClickEvent");}
this._mouseMoveDelegate=function(event){return that._mouseMove(event);};this._mouseUpDelegate=function(event){return that._mouseUp(event);};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true;},_mouseMove:function(event){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event);}else if(!event.which){if(event.originalEvent.altKey||event.originalEvent.ctrlKey||event.originalEvent.metaKey||event.originalEvent.shiftKey){this.ignoreMissingWhich=true;}else if(!this.ignoreMissingWhich){return this._mouseUp(event);}}}
if(event.which||event.button){this._mouseMoved=true;}
if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event));}
return!this._mouseStarted;},_mouseUp:function(event){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+".preventClickEvent",true);}
this._mouseStop(event);}
if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer;}
this.ignoreMissingWhich=false;mouseHandled=false;event.preventDefault();},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance);},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true;}});var plugin=$.ui.plugin={add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args,allowDisconnected){var i,set=instance.plugins[name];if(!set){return;}
if(!allowDisconnected&&(!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11)){return;}
for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}};var safeActiveElement=$.ui.safeActiveElement=function(document){var activeElement;try{activeElement=document.activeElement;}catch(error){activeElement=document.body;}
if(!activeElement){activeElement=document.body;}
if(!activeElement.nodeName){activeElement=document.body;}
return activeElement;};var safeBlur=$.ui.safeBlur=function(element){if(element&&element.nodeName.toLowerCase()!=="body"){$(element).trigger("blur");}};$.widget("ui.draggable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative();}
if(this.options.addClasses){this._addClass("ui-draggable");}
this._setHandleClassName();this._mouseInit();},_setOption:function(key,value){this._super(key,value);if(key==="handle"){this._removeHandleClassName();this._setHandleClassName();}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return;}
this._removeHandleClassName();this._mouseDestroy();},_mouseCapture:function(event){var o=this.options;if(this.helper||o.disabled||$(event.target).closest(".ui-resizable-handle").length>0){return false;}
this.handle=this._getHandle(event);if(!this.handle){return false;}
this._blurActiveElement(event);this._blockFrames(o.iframeFix===true?"iframe":o.iframeFix);return true;},_blockFrames:function(selector){this.iframeBlocks=this.document.find(selector).map(function(){var iframe=$(this);return $("<div>").css("position","absolute").appendTo(iframe.parent()).outerWidth(iframe.outerWidth()).outerHeight(iframe.outerHeight()).offset(iframe.offset())[0];});},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks;}},_blurActiveElement:function(event){var activeElement=$.ui.safeActiveElement(this.document[0]),target=$(event.target);if(target.closest(activeElement).length){return;}
$.ui.safeBlur(activeElement);},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();if($.ui.ddmanager){$.ui.ddmanager.current=this;}
this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return $(this).css("position")==="fixed";}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(event);this.originalPosition=this.position=this._generatePosition(event,false);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this._setContainment();if(this._trigger("start",event)===false){this._clear();return false;}
this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this._mouseDrag(event,true);if($.ui.ddmanager){$.ui.ddmanager.dragStart(this,event);}
return true;},_refreshOffsets:function(event){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:event.pageX-this.offset.left,top:event.pageY-this.offset.top};},_mouseDrag:function(event,noPropagation){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset();}
this.position=this._generatePosition(event,true);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===false){this._mouseUp(new $.Event("mouseup",event));return false;}
this.position=ui.position;}
this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
return false;},_mouseStop:function(event){var that=this,dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour){dropped=$.ui.ddmanager.drop(this,event);}
if(this.dropped){dropped=this.dropped;this.dropped=false;}
if((this.options.revert==="invalid"&&!dropped)||(this.options.revert==="valid"&&dropped)||this.options.revert===true||($.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped))){$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(that._trigger("stop",event)!==false){that._clear();}});}else{if(this._trigger("stop",event)!==false){this._clear();}}
return false;},_mouseUp:function(event){this._unblockFrames();if($.ui.ddmanager){$.ui.ddmanager.dragStop(this,event);}
if(this.handleElement.is(event.target)){this.element.trigger("focus");}
return $.ui.mouse.prototype._mouseUp.call(this,event);},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp(new $.Event("mouseup",{target:this.element[0]}));}else{this._clear();}
return this;},_getHandle:function(event){return this.options.handle?!!$(event.target).closest(this.element.find(this.options.handle)).length:true;},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle");},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle");},_createHelper:function(event){var o=this.options,helperIsFunction=$.isFunction(o.helper),helper=helperIsFunction?$(o.helper.apply(this.element[0],[event])):(o.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!helper.parents("body").length){helper.appendTo((o.appendTo==="parent"?this.element[0].parentNode:o.appendTo));}
if(helperIsFunction&&helper[0]===this.element[0]){this._setPositionRelative();}
if(helper[0]!==this.element[0]&&!(/(fixed|absolute)/).test(helper.css("position"))){helper.css("position","absolute");}
return helper;},_setPositionRelative:function(){if(!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative";}},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_isRootNode:function(element){return(/(html|body)/i).test(element.tagName)||element===this.document[0];},_getParentOffset:function(){var po=this.offsetParent.offset(),document=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if(this._isRootNode(this.offsetParent[0])){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0};}
var p=this.element.position(),scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+
(!scrollIsRootNode?this.scrollParent.scrollTop():0),left:p.left-(parseInt(this.helper.css("left"),10)||0)+
(!scrollIsRootNode?this.scrollParent.scrollLeft():0)};},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var isUserScrollable,c,ce,o=this.options,document=this.document[0];this.relativeContainer=null;if(!o.containment){this.containment=null;return;}
if(o.containment==="window"){this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-
this.helperProportions.width-this.margins.left,$(window).scrollTop()+
($(window).height()||document.body.parentNode.scrollHeight)-
this.helperProportions.height-this.margins.top];return;}
if(o.containment==="document"){this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-
this.helperProportions.height-this.margins.top];return;}
if(o.containment.constructor===Array){this.containment=o.containment;return;}
if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
c=$(o.containment);ce=c[0];if(!ce){return;}
isUserScrollable=/(scroll|auto)/.test(c.css("overflow"));this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+
(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+
(parseInt(c.css("paddingTop"),10)||0),(isUserScrollable?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-
(parseInt(c.css("borderRightWidth"),10)||0)-
(parseInt(c.css("paddingRight"),10)||0)-
this.helperProportions.width-
this.margins.left-
this.margins.right,(isUserScrollable?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-
(parseInt(c.css("borderBottomWidth"),10)||0)-
(parseInt(c.css("paddingBottom"),10)||0)-
this.helperProportions.height-
this.margins.top-
this.margins.bottom];this.relativeContainer=c;},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.offset.scroll.top:(scrollIsRootNode?0:this.offset.scroll.top))*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.offset.scroll.left:(scrollIsRootNode?0:this.offset.scroll.left))*mod))};},_generatePosition:function(event,constrainPosition){var containment,co,top,left,o=this.options,scrollIsRootNode=this._isRootNode(this.scrollParent[0]),pageX=event.pageX,pageY=event.pageY;if(!scrollIsRootNode||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()};}
if(constrainPosition){if(this.containment){if(this.relativeContainer){co=this.relativeContainer.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top];}else{containment=this.containment;}
if(event.pageX-this.offset.click.left<containment[0]){pageX=containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<containment[1]){pageY=containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>containment[2]){pageX=containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>containment[3]){pageY=containment[3]+this.offset.click.top;}}
if(o.grid){top=o.grid[1]?this.originalPageY+Math.round((pageY-
this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment?((top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3])?top:((top-this.offset.click.top>=containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=o.grid[0]?this.originalPageX+
Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment?((left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2])?left:((left-this.offset.click.left>=containment[0])?left-o.grid[0]:left+o.grid[0])):left;}
if(o.axis==="y"){pageX=this.originalPageX;}
if(o.axis==="x"){pageY=this.originalPageY;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
(this.cssPosition==="fixed"?-this.offset.scroll.top:(scrollIsRootNode?0:this.offset.scroll.top))),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
(this.cssPosition==="fixed"?-this.offset.scroll.left:(scrollIsRootNode?0:this.offset.scroll.left)))};},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}
this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy();}},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui,this],true);if(/^(drag|start|stop)/.test(type)){this.positionAbs=this._convertPositionTo("absolute");ui.offset=this.positionAbs;}
return $.Widget.prototype._trigger.call(this,type,event,ui);},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.sortables=[];$(draggable.options.connectToSortable).each(function(){var sortable=$(this).sortable("instance");if(sortable&&!sortable.options.disabled){draggable.sortables.push(sortable);sortable.refreshPositions();sortable._trigger("activate",event,uiSortable);}});},stop:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.cancelHelperRemoval=false;$.each(draggable.sortables,function(){var sortable=this;if(sortable.isOver){sortable.isOver=0;draggable.cancelHelperRemoval=true;sortable.cancelHelperRemoval=false;sortable._storedCSS={position:sortable.placeholder.css("position"),top:sortable.placeholder.css("top"),left:sortable.placeholder.css("left")};sortable._mouseStop(event);sortable.options.helper=sortable.options._helper;}else{sortable.cancelHelperRemoval=true;sortable._trigger("deactivate",event,uiSortable);}});},drag:function(event,ui,draggable){$.each(draggable.sortables,function(){var innermostIntersecting=false,sortable=this;sortable.positionAbs=draggable.positionAbs;sortable.helperProportions=draggable.helperProportions;sortable.offset.click=draggable.offset.click;if(sortable._intersectsWith(sortable.containerCache)){innermostIntersecting=true;$.each(draggable.sortables,function(){this.positionAbs=draggable.positionAbs;this.helperProportions=draggable.helperProportions;this.offset.click=draggable.offset.click;if(this!==sortable&&this._intersectsWith(this.containerCache)&&$.contains(sortable.element[0],this.element[0])){innermostIntersecting=false;}
return innermostIntersecting;});}
if(innermostIntersecting){if(!sortable.isOver){sortable.isOver=1;draggable._parent=ui.helper.parent();sortable.currentItem=ui.helper.appendTo(sortable.element).data("ui-sortable-item",true);sortable.options._helper=sortable.options.helper;sortable.options.helper=function(){return ui.helper[0];};event.target=sortable.currentItem[0];sortable._mouseCapture(event,true);sortable._mouseStart(event,true,true);sortable.offset.click.top=draggable.offset.click.top;sortable.offset.click.left=draggable.offset.click.left;sortable.offset.parent.left-=draggable.offset.parent.left-
sortable.offset.parent.left;sortable.offset.parent.top-=draggable.offset.parent.top-
sortable.offset.parent.top;draggable._trigger("toSortable",event);draggable.dropped=sortable.element;$.each(draggable.sortables,function(){this.refreshPositions();});draggable.currentItem=draggable.element;sortable.fromOutside=draggable;}
if(sortable.currentItem){sortable._mouseDrag(event);ui.position=sortable.position;}}else{if(sortable.isOver){sortable.isOver=0;sortable.cancelHelperRemoval=true;sortable.options._revert=sortable.options.revert;sortable.options.revert=false;sortable._trigger("out",event,sortable._uiHash(sortable));sortable._mouseStop(event,true);sortable.options.revert=sortable.options._revert;sortable.options.helper=sortable.options._helper;if(sortable.placeholder){sortable.placeholder.remove();}
ui.helper.appendTo(draggable._parent);draggable._refreshOffsets(event);ui.position=draggable._generatePosition(event,true);draggable._trigger("fromSortable",event);draggable.dropped=false;$.each(draggable.sortables,function(){this.refreshPositions();});}}});}});$.ui.plugin.add("draggable","cursor",{start:function(event,ui,instance){var t=$("body"),o=instance.options;if(t.css("cursor")){o._cursor=t.css("cursor");}
t.css("cursor",o.cursor);},stop:function(event,ui,instance){var o=instance.options;if(o._cursor){$("body").css("cursor",o._cursor);}}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css("opacity")){o._opacity=t.css("opacity");}
t.css("opacity",o.opacity);},stop:function(event,ui,instance){var o=instance.options;if(o._opacity){$(ui.helper).css("opacity",o._opacity);}}});$.ui.plugin.add("draggable","scroll",{start:function(event,ui,i){if(!i.scrollParentNotHidden){i.scrollParentNotHidden=i.helper.scrollParent(false);}
if(i.scrollParentNotHidden[0]!==i.document[0]&&i.scrollParentNotHidden[0].tagName!=="HTML"){i.overflowOffset=i.scrollParentNotHidden.offset();}},drag:function(event,ui,i){var o=i.options,scrolled=false,scrollParent=i.scrollParentNotHidden[0],document=i.document[0];if(scrollParent!==document&&scrollParent.tagName!=="HTML"){if(!o.axis||o.axis!=="x"){if((i.overflowOffset.top+scrollParent.offsetHeight)-event.pageY<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop+o.scrollSpeed;}else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop-o.scrollSpeed;}}
if(!o.axis||o.axis!=="y"){if((i.overflowOffset.left+scrollParent.offsetWidth)-event.pageX<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft+o.scrollSpeed;}else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft-o.scrollSpeed;}}}else{if(!o.axis||o.axis!=="x"){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}}
if(!o.axis||o.axis!=="y"){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(i,event);}}});$.ui.plugin.add("draggable","snap",{start:function(event,ui,i){var o=i.options;i.snapElements=[];$(o.snap.constructor!==String?(o.snap.items||":data(ui-draggable)"):o.snap).each(function(){var $t=$(this),$o=$t.offset();if(this!==i.element[0]){i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left});}});},drag:function(event,ui,inst){var ts,bs,ls,rs,l,r,t,b,i,first,o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--){l=inst.snapElements[i].left-inst.margins.left;r=l+inst.snapElements[i].width;t=inst.snapElements[i].top-inst.margins.top;b=t+inst.snapElements[i].height;if(x2<l-d||x1>r+d||y2<t-d||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)){if(inst.snapElements[i].snapping){(inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=false;continue;}
if(o.snapMode!=="inner"){ts=Math.abs(t-y2)<=d;bs=Math.abs(b-y1)<=d;ls=Math.abs(l-x2)<=d;rs=Math.abs(r-x1)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left;}}
first=(ts||bs||ls||rs);if(o.snapMode!=="outer"){ts=Math.abs(t-y1)<=d;bs=Math.abs(b-y2)<=d;ls=Math.abs(l-x1)<=d;rs=Math.abs(r-x2)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left;}}
if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)){(inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=(ts||bs||ls||rs||first);}}});$.ui.plugin.add("draggable","stack",{start:function(event,ui,instance){var min,o=instance.options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-
(parseInt($(b).css("zIndex"),10)||0);});if(!group.length){return;}
min=parseInt($(group[0]).css("zIndex"),10)||0;$(group).each(function(i){$(this).css("zIndex",min+i);});this.css("zIndex",(min+group.length));}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css("zIndex")){o._zIndex=t.css("zIndex");}
t.css("zIndex",o.zIndex);},stop:function(event,ui,instance){var o=instance.options;if(o._zIndex){$(ui.helper).css("zIndex",o._zIndex);}}});var widgetsDraggable=$.ui.draggable;$.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:true,greedy:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var proportions,o=this.options,accept=o.accept;this.isover=false;this.isout=true;this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept);};this.proportions=function(){if(arguments.length){proportions=arguments[0];}else{return proportions?proportions:proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};}};this._addToManager(o.scope);o.addClasses&&this._addClass("ui-droppable");},_addToManager:function(scope){$.ui.ddmanager.droppables[scope]=$.ui.ddmanager.droppables[scope]||[];$.ui.ddmanager.droppables[scope].push(this);},_splice:function(drop){var i=0;for(;i<drop.length;i++){if(drop[i]===this){drop.splice(i,1);}}},_destroy:function(){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop);},_setOption:function(key,value){if(key==="accept"){this.accept=$.isFunction(value)?value:function(d){return d.is(value);};}else if(key==="scope"){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop);this._addToManager(value);}
this._super(key,value);},_activate:function(event){var draggable=$.ui.ddmanager.current;this._addActiveClass();if(draggable){this._trigger("activate",event,this.ui(draggable));}},_deactivate:function(event){var draggable=$.ui.ddmanager.current;this._removeActiveClass();if(draggable){this._trigger("deactivate",event,this.ui(draggable));}},_over:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this._addHoverClass();this._trigger("over",event,this.ui(draggable));}},_out:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this._removeHoverClass();this._trigger("out",event,this.ui(draggable));}},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current,childrenIntersection=false;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return false;}
this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var inst=$(this).droppable("instance");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope===draggable.options.scope&&inst.accept.call(inst.element[0],(draggable.currentItem||draggable.element))&&intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance,event)){childrenIntersection=true;return false;}});if(childrenIntersection){return false;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this._removeActiveClass();this._removeHoverClass();this._trigger("drop",event,this.ui(draggable));return this.element;}
return false;},ui:function(c){return{draggable:(c.currentItem||c.element),helper:c.helper,position:c.position,offset:c.positionAbs};},_addHoverClass:function(){this._addClass("ui-droppable-hover");},_removeHoverClass:function(){this._removeClass("ui-droppable-hover");},_addActiveClass:function(){this._addClass("ui-droppable-active");},_removeActiveClass:function(){this._removeClass("ui-droppable-active");}});var intersect=$.ui.intersect=(function(){function isOverAxis(x,reference,size){return(x>=reference)&&(x<(reference+size));}
return function(draggable,droppable,toleranceMode,event){if(!droppable.offset){return false;}
var x1=(draggable.positionAbs||draggable.position.absolute).left+draggable.margins.left,y1=(draggable.positionAbs||draggable.position.absolute).top+draggable.margins.top,x2=x1+draggable.helperProportions.width,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,t=droppable.offset.top,r=l+droppable.proportions().width,b=t+droppable.proportions().height;switch(toleranceMode){case"fit":return(l<=x1&&x2<=r&&t<=y1&&y2<=b);case"intersect":return(l<x1+(draggable.helperProportions.width/2)&&x2-(draggable.helperProportions.width/2)<r&&t<y1+(draggable.helperProportions.height/2)&&y2-(draggable.helperProportions.height/2)<b);case"pointer":return isOverAxis(event.pageY,t,droppable.proportions().height)&&isOverAxis(event.pageX,l,droppable.proportions().width);case"touch":return((y1>=t&&y1<=b)||(y2>=t&&y2<=b)||(y1<t&&y2>b))&&((x1>=l&&x1<=r)||(x2>=l&&x2<=r)||(x1<l&&x2>r));default:return false;}};})();$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,event){var i,j,m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(i=0;i<m.length;i++){if(m[i].options.disabled||(t&&!m[i].accept.call(m[i].element[0],(t.currentItem||t.element)))){continue;}
for(j=0;j<list.length;j++){if(list[j]===m[i].element[0]){m[i].proportions().height=0;continue droppablesLoop;}}
m[i].visible=m[i].element.css("display")!=="none";if(!m[i].visible){continue;}
if(type==="mousedown"){m[i]._activate.call(m[i],event);}
m[i].offset=m[i].element.offset();m[i].proportions({width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight});}},drop:function(draggable,event){var dropped=false;$.each(($.ui.ddmanager.droppables[draggable.options.scope]||[]).slice(),function(){if(!this.options){return;}
if(!this.options.disabled&&this.visible&&intersect(draggable,this,this.options.tolerance,event)){dropped=this._drop.call(this,event)||dropped;}
if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this.isout=true;this.isover=false;this._deactivate.call(this,event);}});return dropped;},dragStart:function(draggable,event){draggable.element.parentsUntil("body").on("scroll.droppable",function(){if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}});},drag:function(draggable,event){if(draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}
$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return;}
var parentInstance,scope,parent,intersects=intersect(draggable,this,this.options.tolerance,event),c=!intersects&&this.isover?"isout":(intersects&&!this.isover?"isover":null);if(!c){return;}
if(this.options.greedy){scope=this.options.scope;parent=this.element.parents(":data(ui-droppable)").filter(function(){return $(this).droppable("instance").options.scope===scope;});if(parent.length){parentInstance=$(parent[0]).droppable("instance");parentInstance.greedyChild=(c==="isover");}}
if(parentInstance&&c==="isover"){parentInstance.isover=false;parentInstance.isout=true;parentInstance._out.call(parentInstance,event);}
this[c]=true;this[c==="isout"?"isover":"isout"]=false;this[c==="isover"?"_over":"_out"].call(this,event);if(parentInstance&&c==="isout"){parentInstance.isout=false;parentInstance.isover=true;parentInstance._over.call(parentInstance,event);}});},dragStop:function(draggable,event){draggable.element.parentsUntil("body").off("scroll.droppable");if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}}};if($.uiBackCompat!==false){$.widget("ui.droppable",$.ui.droppable,{options:{hoverClass:false,activeClass:false},_addActiveClass:function(){this._super();if(this.options.activeClass){this.element.addClass(this.options.activeClass);}},_removeActiveClass:function(){this._super();if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}},_addHoverClass:function(){this._super();if(this.options.hoverClass){this.element.addClass(this.options.hoverClass);}},_removeHoverClass:function(){this._super();if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}}});}
var widgetsDroppable=$.ui.droppable;$.widget("ui.resizable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(value){return parseFloat(value)||0;},_isNumber:function(value){return!isNaN(parseFloat(value));},_hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false;}
var scroll=(a&&a==="left")?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true;}
el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has;},_create:function(){var margins,o=this.options,that=this;this._addClass("ui-resizable");$.extend(this,{_aspectRatio:!!(o.aspectRatio),aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;margins={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(margins);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(margins);this._proportionallyResize();}
this._setupHandles();if(o.autoHide){$(this.element).on("mouseenter",function(){if(o.disabled){return;}
that._removeClass("ui-resizable-autohide");that._handles.show();}).on("mouseleave",function(){if(o.disabled){return;}
if(!that.resizing){that._addClass("ui-resizable-autohide");that._handles.hide();}});}
this._mouseInit();},_destroy:function(){this._mouseDestroy();var wrapper,_destroy=function(exp){$(exp).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove();};if(this.elementIsWrapper){_destroy(this.element);wrapper=this.element;this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper);wrapper.remove();}
this.originalElement.css("resize",this.originalResizeStyle);_destroy(this.originalElement);return this;},_setOption:function(key,value){this._super(key,value);switch(key){case"handles":this._removeHandles();this._setupHandles();break;default:break;}},_setupHandles:function(){var o=this.options,handle,i,n,hname,axis,that=this;this.handles=o.handles||(!$(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=$();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw";}
n=this.handles.split(",");this.handles={};for(i=0;i<n.length;i++){handle=$.trim(n[i]);hname="ui-resizable-"+handle;axis=$("<div>");this._addClass(axis,"ui-resizable-handle "+hname);axis.css({zIndex:o.zIndex});this.handles[handle]=".ui-resizable-"+handle;this.element.append(axis);}}
this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=this.element.children(this.handles[i]).first().show();}else if(this.handles[i].jquery||this.handles[i].nodeType){this.handles[i]=$(this.handles[i]);this._on(this.handles[i],{"mousedown":that._mouseDown});}
if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper);this._proportionallyResize();}
this._handles=this._handles.add(this.handles[i]);}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!that.resizing){if(this.className){axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);}
that.axis=axis&&axis[1]?axis[1]:"se";}});if(o.autoHide){this._handles.hide();this._addClass("ui-resizable-autohide");}},_removeHandles:function(){this._handles.remove();},_mouseCapture:function(event){var i,handle,capture=false;for(i in this.handles){handle=$(this.handles[i])[0];if(handle===event.target||$.contains(handle,event.target)){capture=true;}}
return!this.options.disabled&&capture;},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,el=this.element;this.resizing=true;this._renderProxy();curleft=this._num(this.helper.css("left"));curtop=this._num(this.helper.css("top"));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0;}
this.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:el.width(),height:el.height()};this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalPosition={left:curleft,top:curtop};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=(typeof o.aspectRatio==="number")?o.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);cursor=$(".ui-resizable-"+this.axis).css("cursor");$("body").css("cursor",cursor==="auto"?this.axis+"-resize":cursor);this._addClass("ui-resizable-resizing");this._propagate("start",event);return true;},_mouseDrag:function(event){var data,props,smp=this.originalMousePosition,a=this.axis,dx=(event.pageX-smp.left)||0,dy=(event.pageY-smp.top)||0,trigger=this._change[a];this._updatePrevProperties();if(!trigger){return false;}
data=trigger.apply(this,[event,dx,dy]);this._updateVirtualBoundaries(event.shiftKey);if(this._aspectRatio||event.shiftKey){data=this._updateRatio(data,event);}
data=this._respectSize(data,event);this._updateCache(data);this._propagate("resize",event);props=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize();}
if(!$.isEmptyObject(props)){this._updatePrevProperties();this._trigger("resize",event,this.ui());this._applyChanges();}
return false;},_mouseStop:function(event){this.resizing=false;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;if(this._helper){pr=this._proportionallyResizeElements;ista=pr.length&&(/textarea/i).test(pr[0].nodeName);soffseth=ista&&this._hasScroll(pr[0],"left")?0:that.sizeDiff.height;soffsetw=ista?0:that.sizeDiff.width;s={width:(that.helper.width()-soffsetw),height:(that.helper.height()-soffseth)};left=(parseFloat(that.element.css("left"))+
(that.position.left-that.originalPosition.left))||null;top=(parseFloat(that.element.css("top"))+
(that.position.top-that.originalPosition.top))||null;if(!o.animate){this.element.css($.extend(s,{top:top,left:left}));}
that.helper.height(that.size.height);that.helper.width(that.size.width);if(this._helper&&!o.animate){this._proportionallyResize();}}
$("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",event);if(this._helper){this.helper.remove();}
return false;},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height};},_applyChanges:function(){var props={};if(this.position.top!==this.prevPosition.top){props.top=this.position.top+"px";}
if(this.position.left!==this.prevPosition.left){props.left=this.position.left+"px";}
if(this.size.width!==this.prevSize.width){props.width=this.size.width+"px";}
if(this.size.height!==this.prevSize.height){props.height=this.size.height+"px";}
this.helper.css(props);return props;},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||forceAspectRatio){pMinWidth=b.minHeight*this.aspectRatio;pMinHeight=b.minWidth/this.aspectRatio;pMaxWidth=b.maxHeight*this.aspectRatio;pMaxHeight=b.maxWidth/this.aspectRatio;if(pMinWidth>b.minWidth){b.minWidth=pMinWidth;}
if(pMinHeight>b.minHeight){b.minHeight=pMinHeight;}
if(pMaxWidth<b.maxWidth){b.maxWidth=pMaxWidth;}
if(pMaxHeight<b.maxHeight){b.maxHeight=pMaxHeight;}}
this._vBoundaries=b;},_updateCache:function(data){this.offset=this.helper.offset();if(this._isNumber(data.left)){this.position.left=data.left;}
if(this._isNumber(data.top)){this.position.top=data.top;}
if(this._isNumber(data.height)){this.size.height=data.height;}
if(this._isNumber(data.width)){this.size.width=data.width;}},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;if(this._isNumber(data.height)){data.width=(data.height*this.aspectRatio);}else if(this._isNumber(data.width)){data.height=(data.width/this.aspectRatio);}
if(a==="sw"){data.left=cpos.left+(csize.width-data.width);data.top=null;}
if(a==="nw"){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width);}
return data;},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=this._isNumber(data.width)&&o.maxWidth&&(o.maxWidth<data.width),ismaxh=this._isNumber(data.height)&&o.maxHeight&&(o.maxHeight<data.height),isminw=this._isNumber(data.width)&&o.minWidth&&(o.minWidth>data.width),isminh=this._isNumber(data.height)&&o.minHeight&&(o.minHeight>data.height),dw=this.originalPosition.left+this.originalSize.width,dh=this.originalPosition.top+this.originalSize.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw){data.width=o.minWidth;}
if(isminh){data.height=o.minHeight;}
if(ismaxw){data.width=o.maxWidth;}
if(ismaxh){data.height=o.maxHeight;}
if(isminw&&cw){data.left=dw-o.minWidth;}
if(ismaxw&&cw){data.left=dw-o.maxWidth;}
if(isminh&&ch){data.top=dh-o.minHeight;}
if(ismaxh&&ch){data.top=dh-o.maxHeight;}
if(!data.width&&!data.height&&!data.left&&data.top){data.top=null;}else if(!data.width&&!data.height&&!data.top&&data.left){data.left=null;}
return data;},_getPaddingPlusBorderDimensions:function(element){var i=0,widths=[],borders=[element.css("borderTopWidth"),element.css("borderRightWidth"),element.css("borderBottomWidth"),element.css("borderLeftWidth")],paddings=[element.css("paddingTop"),element.css("paddingRight"),element.css("paddingBottom"),element.css("paddingLeft")];for(;i<4;i++){widths[i]=(parseFloat(borders[i])||0);widths[i]+=(parseFloat(paddings[i])||0);}
return{height:widths[0]+widths[2],width:widths[1]+widths[3]};},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return;}
var prel,i=0,element=this.helper||this.element;for(;i<this._proportionallyResizeElements.length;i++){prel=this._proportionallyResizeElements[i];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(prel);}
prel.css({height:(element.height()-this.outerDimensions.height)||0,width:(element.width()-this.outerDimensions.width)||0});}},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$("<div style='overflow:hidden;'></div>");this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex});this.helper.appendTo("body").disableSelection();}else{this.helper=this.element;}},_change:{e:function(event,dx){return{width:this.originalSize.width+dx};},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx};},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy};},s:function(event,dx,dy){return{height:this.originalSize.height+dy};},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);(n!=="resize"&&this._trigger(n,event,this.ui()));},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).resizable("instance"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&(/textarea/i).test(pr[0].nodeName),soffseth=ista&&that._hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:(that.size.width-soffsetw),height:(that.size.height-soffseth)},left=(parseFloat(that.element.css("left"))+
(that.position.left-that.originalPosition.left))||null,top=(parseFloat(that.element.css("top"))+
(that.position.top-that.originalPosition.top))||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseFloat(that.element.css("width")),height:parseFloat(that.element.css("height")),top:parseFloat(that.element.css("top")),left:parseFloat(that.element.css("left"))};if(pr&&pr.length){$(pr[0]).css({width:data.width,height:data.height});}
that._updateCache(data);that._propagate("resize",event);}});}});$.ui.plugin.add("resizable","containment",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).resizable("instance"),o=that.options,el=that.element,oc=o.containment,ce=(oc instanceof $)?oc.get(0):(/parent/.test(oc))?el.parent().get(0):oc;if(!ce){return;}
that.containerElement=$(ce);if(/document/.test(oc)||oc===document){that.containerOffset={left:0,top:0};that.containerPosition={left:0,top:0};that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};}else{element=$(ce);p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=that._num(element.css("padding"+name));});that.containerOffset=element.offset();that.containerPosition=element.position();that.containerSize={height:(element.innerHeight()-p[3]),width:(element.innerWidth()-p[1])};co=that.containerOffset;ch=that.containerSize.height;cw=that.containerSize.width;width=(that._hasScroll(ce,"left")?ce.scrollWidth:cw);height=(that._hasScroll(ce)?ce.scrollHeight:ch);that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height};}},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement,continueResize=true;if(ce[0]!==document&&(/static/).test(ce.css("position"))){cop=co;}
if(cp.left<(that._helper?co.left:0)){that.size.width=that.size.width+
(that._helper?(that.position.left-co.left):(that.position.left-cop.left));if(pRatio){that.size.height=that.size.width/that.aspectRatio;continueResize=false;}
that.position.left=o.helper?co.left:0;}
if(cp.top<(that._helper?co.top:0)){that.size.height=that.size.height+
(that._helper?(that.position.top-co.top):that.position.top);if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false;}
that.position.top=that._helper?co.top:0;}
isParent=that.containerElement.get(0)===that.element.parent().get(0);isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position"));if(isParent&&isOffsetRelative){that.offset.left=that.parentData.left+that.position.left;that.offset.top=that.parentData.top+that.position.top;}else{that.offset.left=that.element.offset().left;that.offset.top=that.element.offset().top;}
woset=Math.abs(that.sizeDiff.width+
(that._helper?that.offset.left-cop.left:(that.offset.left-co.left)));hoset=Math.abs(that.sizeDiff.height+
(that._helper?that.offset.top-cop.top:(that.offset.top-co.top)));if(woset+that.size.width>=that.parentData.width){that.size.width=that.parentData.width-woset;if(pRatio){that.size.height=that.size.width/that.aspectRatio;continueResize=false;}}
if(hoset+that.size.height>=that.parentData.height){that.size.height=that.parentData.height-hoset;if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false;}}
if(!continueResize){that.position.left=that.prevPosition.left;that.position.top=that.prevPosition.top;that.size.width=that.prevSize.width;that.size.height=that.prevSize.height;}},stop:function(){var that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;if(that._helper&&!o.animate&&(/relative/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}
if(that._helper&&!o.animate&&(/static/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}}});$.ui.plugin.add("resizable","alsoResize",{start:function(){var that=$(this).resizable("instance"),o=that.options;$(o.alsoResize).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseFloat(el.width()),height:parseFloat(el.height()),left:parseFloat(el.css("left")),top:parseFloat(el.css("top"))});});},resize:function(event,ui){var that=$(this).resizable("instance"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:(that.size.height-os.height)||0,width:(that.size.width-os.width)||0,top:(that.position.top-op.top)||0,left:(that.position.left-op.left)||0};$(o.alsoResize).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0){style[prop]=sum||null;}});el.css(style);});},stop:function(){$(this).removeData("ui-resizable-alsoresize");}});$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).resizable("instance"),cs=that.size;that.ghost=that.originalElement.clone();that.ghost.css({opacity:0.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0});that._addClass(that.ghost,"ui-resizable-ghost");if($.uiBackCompat!==false&&typeof that.options.ghost==="string"){that.ghost.addClass(this.options.ghost);}
that.ghost.appendTo(that.helper);},resize:function(){var that=$(this).resizable("instance");if(that.ghost){that.ghost.css({position:"relative",height:that.size.height,width:that.size.width});}},stop:function(){var that=$(this).resizable("instance");if(that.ghost&&that.helper){that.helper.get(0).removeChild(that.ghost.get(0));}}});$.ui.plugin.add("resizable","grid",{resize:function(){var outerDimensions,that=$(this).resizable("instance"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid=typeof o.grid==="number"?[o.grid,o.grid]:o.grid,gridX=(grid[0]||1),gridY=(grid[1]||1),ox=Math.round((cs.width-os.width)/gridX)*gridX,oy=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&(o.maxWidth<newWidth),isMaxHeight=o.maxHeight&&(o.maxHeight<newHeight),isMinWidth=o.minWidth&&(o.minWidth>newWidth),isMinHeight=o.minHeight&&(o.minHeight>newHeight);o.grid=grid;if(isMinWidth){newWidth+=gridX;}
if(isMinHeight){newHeight+=gridY;}
if(isMaxWidth){newWidth-=gridX;}
if(isMaxHeight){newHeight-=gridY;}
if(/^(se|s|e)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;}else if(/^(ne)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy;}else if(/^(sw)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.left=op.left-ox;}else{if(newHeight-gridY<=0||newWidth-gridX<=0){outerDimensions=that._getPaddingPlusBorderDimensions(this);}
if(newHeight-gridY>0){that.size.height=newHeight;that.position.top=op.top-oy;}else{newHeight=gridY-outerDimensions.height;that.size.height=newHeight;that.position.top=op.top+os.height-newHeight;}
if(newWidth-gridX>0){that.size.width=newWidth;that.position.left=op.left-ox;}else{newWidth=gridX-outerDimensions.width;that.size.width=newWidth;that.position.left=op.left+os.width-newWidth;}}}});var widgetsResizable=$.ui.resizable;var widgetsSelectable=$.widget("ui.selectable",$.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var that=this;this._addClass("ui-selectable");this.dragged=false;this.refresh=function(){that.elementPos=$(that.element[0]).offset();that.selectees=$(that.options.filter,that.element[0]);that._addClass(that.selectees,"ui-selectee");that.selectees.each(function(){var $this=$(this),selecteeOffset=$this.offset(),pos={left:selecteeOffset.left-that.elementPos.left,top:selecteeOffset.top-that.elementPos.top};$.data(this,"selectable-item",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:false,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")});});};this.refresh();this._mouseInit();this.helper=$("<div>");this._addClass(this.helper,"ui-selectable-helper");},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy();},_mouseStart:function(event){var that=this,options=this.options;this.opos=[event.pageX,event.pageY];this.elementPos=$(this.element[0]).offset();if(this.options.disabled){return;}
this.selectees=$(options.filter,this.element[0]);this._trigger("start",event);$(options.appendTo).append(this.helper);this.helper.css({"left":event.pageX,"top":event.pageY,"width":0,"height":0});if(options.autoRefresh){this.refresh();}
this.selectees.filter(".ui-selected").each(function(){var selectee=$.data(this,"selectable-item");selectee.startselected=true;if(!event.metaKey&&!event.ctrlKey){that._removeClass(selectee.$element,"ui-selected");selectee.selected=false;that._addClass(selectee.$element,"ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element});}});$(event.target).parents().addBack().each(function(){var doSelect,selectee=$.data(this,"selectable-item");if(selectee){doSelect=(!event.metaKey&&!event.ctrlKey)||!selectee.$element.hasClass("ui-selected");that._removeClass(selectee.$element,doSelect?"ui-unselecting":"ui-selected")._addClass(selectee.$element,doSelect?"ui-selecting":"ui-unselecting");selectee.unselecting=!doSelect;selectee.selecting=doSelect;selectee.selected=doSelect;if(doSelect){that._trigger("selecting",event,{selecting:selectee.element});}else{that._trigger("unselecting",event,{unselecting:selectee.element});}
return false;}});},_mouseDrag:function(event){this.dragged=true;if(this.options.disabled){return;}
var tmp,that=this,options=this.options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;if(x1>x2){tmp=x2;x2=x1;x1=tmp;}
if(y1>y2){tmp=y2;y2=y1;y1=tmp;}
this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1});this.selectees.each(function(){var selectee=$.data(this,"selectable-item"),hit=false,offset={};if(!selectee||selectee.element===that.element[0]){return;}
offset.left=selectee.left+that.elementPos.left;offset.right=selectee.right+that.elementPos.left;offset.top=selectee.top+that.elementPos.top;offset.bottom=selectee.bottom+that.elementPos.top;if(options.tolerance==="touch"){hit=(!(offset.left>x2||offset.right<x1||offset.top>y2||offset.bottom<y1));}else if(options.tolerance==="fit"){hit=(offset.left>x1&&offset.right<x2&&offset.top>y1&&offset.bottom<y2);}
if(hit){if(selectee.selected){that._removeClass(selectee.$element,"ui-selected");selectee.selected=false;}
if(selectee.unselecting){that._removeClass(selectee.$element,"ui-unselecting");selectee.unselecting=false;}
if(!selectee.selecting){that._addClass(selectee.$element,"ui-selecting");selectee.selecting=true;that._trigger("selecting",event,{selecting:selectee.element});}}else{if(selectee.selecting){if((event.metaKey||event.ctrlKey)&&selectee.startselected){that._removeClass(selectee.$element,"ui-selecting");selectee.selecting=false;that._addClass(selectee.$element,"ui-selected");selectee.selected=true;}else{that._removeClass(selectee.$element,"ui-selecting");selectee.selecting=false;if(selectee.startselected){that._addClass(selectee.$element,"ui-unselecting");selectee.unselecting=true;}
that._trigger("unselecting",event,{unselecting:selectee.element});}}
if(selectee.selected){if(!event.metaKey&&!event.ctrlKey&&!selectee.startselected){that._removeClass(selectee.$element,"ui-selected");selectee.selected=false;that._addClass(selectee.$element,"ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element});}}}});return false;},_mouseStop:function(event){var that=this;this.dragged=false;$(".ui-unselecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");that._removeClass(selectee.$element,"ui-unselecting");selectee.unselecting=false;selectee.startselected=false;that._trigger("unselected",event,{unselected:selectee.element});});$(".ui-selecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");that._removeClass(selectee.$element,"ui-selecting")._addClass(selectee.$element,"ui-selected");selectee.selecting=false;selectee.selected=true;selectee.startselected=true;that._trigger("selected",event,{selected:selectee.element});});this._trigger("stop",event);this.helper.remove();return false;}});var widgetsSortable=$.widget("ui.sortable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(x,reference,size){return(x>=reference)&&(x<(reference+size));},_isFloating:function(item){return(/left|right/).test(item.css("float"))||(/inline|table-cell/).test(item.css("display"));},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true;},_setOption:function(key,value){this._super(key,value);if(key==="handle"){this._setHandleClassName();}},_setHandleClassName:function(){var that=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");$.each(this.items,function(){that._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle");});},_destroy:function(){this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--){this.items[i].item.removeData(this.widgetName+"-item");}
return this;},_mouseCapture:function(event,overrideHandle){var currentItem=null,validHandle=false,that=this;if(this.reverting){return false;}
if(this.options.disabled||this.options.type==="static"){return false;}
this._refreshItems(event);$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")===that){currentItem=$(this);return false;}});if($.data(event.target,that.widgetName+"-item")===that){currentItem=$(event.target);}
if(!currentItem){return false;}
if(this.options.handle&&!overrideHandle){$(this.options.handle,currentItem).find("*").addBack().each(function(){if(this===event.target){validHandle=true;}});if(!validHandle){return false;}}
this.currentItem=currentItem;this._removeCurrentsFromItems();return true;},_mouseStart:function(event,overrideHandle,noActivation){var i,body,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(event);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide();}
this._createPlaceholder();if(o.containment){this._setContainment();}
if(o.cursor&&o.cursor!=="auto"){body=this.document.find("body");this.storedCursor=body.css("cursor");body.css("cursor",o.cursor);this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(body);}
if(o.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity");}
this.helper.css("opacity",o.opacity);}
if(o.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex");}
this.helper.css("zIndex",o.zIndex);}
if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset();}
this._trigger("start",event,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions();}
if(!noActivation){for(i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("activate",event,this._uiHash(this));}}
if($.ui.ddmanager){$.ui.ddmanager.current=this;}
if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this.dragging=true;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(event);return true;},_mouseDrag:function(event){var i,item,itemElement,intersection,o=this.options,scrolled=false;this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs;}
if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-
event.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed;}else if(event.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed;}
if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-
event.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed;}else if(event.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed;}}else{if(event.pageY-this.document.scrollTop()<o.scrollSensitivity){scrolled=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed);}else if(this.window.height()-(event.pageY-this.document.scrollTop())<o.scrollSensitivity){scrolled=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed);}
if(event.pageX-this.document.scrollLeft()<o.scrollSensitivity){scrolled=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed);}else if(this.window.width()-(event.pageX-this.document.scrollLeft())<o.scrollSensitivity){scrolled=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed);}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}}
this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px";}
if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px";}
for(i=this.items.length-1;i>=0;i--){item=this.items[i];itemElement=item.item[0];intersection=this._intersectsWithPointer(item);if(!intersection){continue;}
if(item.instance!==this.currentContainer){continue;}
if(itemElement!==this.currentItem[0]&&this.placeholder[intersection===1?"next":"prev"]()[0]!==itemElement&&!$.contains(this.placeholder[0],itemElement)&&(this.options.type==="semi-dynamic"?!$.contains(this.element[0],itemElement):true)){this.direction=intersection===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(item)){this._rearrange(event,item);}else{break;}
this._trigger("change",event,this._uiHash());break;}}
this._contactContainers(event);if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
this._trigger("sort",event,this._uiHash());this.lastPositionAbs=this.positionAbs;return false;},_mouseStop:function(event,noPropagation){if(!event){return;}
if($.ui.ddmanager&&!this.options.dropBehaviour){$.ui.ddmanager.drop(this,event);}
if(this.options.revert){var that=this,cur=this.placeholder.offset(),axis=this.options.axis,animation={};if(!axis||axis==="x"){animation.left=cur.left-this.offset.parent.left-this.margins.left+
(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft);}
if(!axis||axis==="y"){animation.top=cur.top-this.offset.parent.top-this.margins.top+
(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop);}
this.reverting=true;$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event);});}else{this._clear(event,noPropagation);}
return false;},cancel:function(){if(this.dragging){this._mouseUp(new $.Event("mouseup",{target:null}));if(this.options.helper==="original"){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper");}else{this.currentItem.show();}
for(var i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("deactivate",null,this._uiHash(this));if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",null,this._uiHash(this));this.containers[i].containerCache.over=0;}}}
if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0]);}
if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove();}
$.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){$(this.domPosition.prev).after(this.currentItem);}else{$(this.domPosition.parent).prepend(this.currentItem);}}
return this;},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];o=o||{};$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||(/(.+)[\-=_](.+)/));if(res){str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]));}});if(!str.length&&o.key){str.push(o.key+"=");}
return str.join("&");},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];o=o||{};items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"");});return ret;},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElementHeight=(this.options.axis==="x")||((y1+dyClick)>t&&(y1+dyClick)<b),isOverElementWidth=(this.options.axis==="y")||((x1+dxClick)>l&&(x1+dxClick)<r),isOverElement=isOverElementHeight&&isOverElementWidth;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"])){return isOverElement;}else{return(l<x1+(this.helperProportions.width/2)&&x2-(this.helperProportions.width/2)<r&&t<y1+(this.helperProportions.height/2)&&y2-(this.helperProportions.height/2)<b);}},_intersectsWithPointer:function(item){var verticalDirection,horizontalDirection,isOverElementHeight=(this.options.axis==="x")||this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth=(this.options.axis==="y")||this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth;if(!isOverElement){return false;}
verticalDirection=this._getDragVerticalDirection();horizontalDirection=this._getDragHorizontalDirection();return this.floating?((horizontalDirection==="right"||verticalDirection==="down")?2:1):(verticalDirection&&(verticalDirection==="down"?2:1));},_intersectsWithSides:function(item){var isOverBottomHalf=this._isOverAxis(this.positionAbs.top+
this.offset.click.top,item.top+(item.height/2),item.height),isOverRightHalf=this._isOverAxis(this.positionAbs.left+
this.offset.click.left,item.left+(item.width/2),item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(this.floating&&horizontalDirection){return((horizontalDirection==="right"&&isOverRightHalf)||(horizontalDirection==="left"&&!isOverRightHalf));}else{return verticalDirection&&((verticalDirection==="down"&&isOverBottomHalf)||(verticalDirection==="up"&&!isOverBottomHalf));}},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return delta!==0&&(delta>0?"down":"up");},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return delta!==0&&(delta>0?"right":"left");},refresh:function(event){this._refreshItems(event);this._setHandleClassName();this.refreshPositions();return this;},_connectWith:function(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith;},_getItemsAsjQuery:function(connected){var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i],this.document[0]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst]);}}}}
queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function addItems(){items.push(this);}
for(i=queries.length-1;i>=0;i--){queries[i][0].each(addItems);}
return $(items);},_removeCurrentsFromItems:function(){var list=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++){if(list[j]===item.item[0]){return false;}}
return true;});},_refreshItems:function(event){this.items=[];this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i],this.document[0]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]);this.containers.push(inst);}}}}
for(i=queries.length-1;i>=0;i--){targetData=queries[i][1];_queries=queries[i][0];for(j=0,queriesLength=_queries.length;j<queriesLength;j++){item=$(_queries[j]);item.data(this.widgetName+"-item",targetData);items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0});}}},refreshPositions:function(fast){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):false;if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset();}
var i,item,t,p;for(i=this.items.length-1;i>=0;i--){item=this.items[i];if(item.instance!==this.currentContainer&&this.currentContainer&&item.item[0]!==this.currentItem[0]){continue;}
t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;if(!fast){item.width=t.outerWidth();item.height=t.outerHeight();}
p=t.offset();item.left=p.left;item.top=p.top;}
if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);}else{for(i=this.containers.length-1;i>=0;i--){p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left;this.containers[i].containerCache.top=p.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight();}}
return this;},_createPlaceholder:function(that){that=that||this;var className,o=that.options;if(!o.placeholder||o.placeholder.constructor===String){className=o.placeholder;o.placeholder={element:function(){var nodeName=that.currentItem[0].nodeName.toLowerCase(),element=$("<"+nodeName+">",that.document[0]);that._addClass(element,"ui-sortable-placeholder",className||that.currentItem[0].className)._removeClass(element,"ui-sortable-helper");if(nodeName==="tbody"){that._createTrPlaceholder(that.currentItem.find("tr").eq(0),$("<tr>",that.document[0]).appendTo(element));}else if(nodeName==="tr"){that._createTrPlaceholder(that.currentItem,element);}else if(nodeName==="img"){element.attr("src",that.currentItem.attr("src"));}
if(!className){element.css("visibility","hidden");}
return element;},update:function(container,p){if(className&&!o.forcePlaceholderSize){return;}
if(!p.height()){p.height(that.currentItem.innerHeight()-
parseInt(that.currentItem.css("paddingTop")||0,10)-
parseInt(that.currentItem.css("paddingBottom")||0,10));}
if(!p.width()){p.width(that.currentItem.innerWidth()-
parseInt(that.currentItem.css("paddingLeft")||0,10)-
parseInt(that.currentItem.css("paddingRight")||0,10));}}};}
that.placeholder=$(o.placeholder.element.call(that.element,that.currentItem));that.currentItem.after(that.placeholder);o.placeholder.update(that,that.placeholder);},_createTrPlaceholder:function(sourceTr,targetTr){var that=this;sourceTr.children().each(function(){$("<td>&#160;</td>",that.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(targetTr);});},_contactContainers:function(event){var i,j,dist,itemWithLeastDistance,posProperty,sizeProperty,cur,nearBottom,floating,axis,innermostContainer=null,innermostIndex=null;for(i=this.containers.length-1;i>=0;i--){if($.contains(this.currentItem[0],this.containers[i].element[0])){continue;}
if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0])){continue;}
innermostContainer=this.containers[i];innermostIndex=i;}else{if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",event,this._uiHash(this));this.containers[i].containerCache.over=0;}}}
if(!innermostContainer){return;}
if(this.containers.length===1){if(!this.containers[innermostIndex].containerCache.over){this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}}else{dist=10000;itemWithLeastDistance=null;floating=innermostContainer.floating||this._isFloating(this.currentItem);posProperty=floating?"left":"top";sizeProperty=floating?"width":"height";axis=floating?"pageX":"pageY";for(j=this.items.length-1;j>=0;j--){if(!$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])){continue;}
if(this.items[j].item[0]===this.currentItem[0]){continue;}
cur=this.items[j].item.offset()[posProperty];nearBottom=false;if(event[axis]-cur>this.items[j][sizeProperty]/2){nearBottom=true;}
if(Math.abs(event[axis]-cur)<dist){dist=Math.abs(event[axis]-cur);itemWithLeastDistance=this.items[j];this.direction=nearBottom?"up":"down";}}
if(!itemWithLeastDistance&&!this.options.dropOnEmpty){return;}
if(this.currentContainer===this.containers[innermostIndex]){if(!this.currentContainer.containerCache.over){this.containers[innermostIndex]._trigger("over",event,this._uiHash());this.currentContainer.containerCache.over=1;}
return;}
itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,true):this._rearrange(event,null,this.containers[innermostIndex].element,true);this._trigger("change",event,this._uiHash());this.containers[innermostIndex]._trigger("change",event,this._uiHash(this));this.currentContainer=this.containers[innermostIndex];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):(o.helper==="clone"?this.currentItem.clone():this.currentItem);if(!helper.parents("body").length){$(o.appendTo!=="parent"?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0]);}
if(helper[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};}
if(!helper[0].style.width||o.forceHelperSize){helper.width(this.currentItem.width());}
if(!helper[0].style.height||o.forceHelperSize){helper.height(this.currentItem.height());}
return helper;},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if(this.offsetParent[0]===this.document[0].body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie)){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+
this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+
this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var ce,co,over,o=this.options;if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
if(o.containment==="document"||o.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,o.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(o.containment==="document"?(this.document.height()||document.body.parentNode.scrollHeight):this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}
if(!(/^(document|window|parent)$/).test(o.containment)){ce=$(o.containment)[0];co=$(o.containment).offset();over=($(ce).css("overflow")!=="hidden");this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+
(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+
(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-
(parseInt($(ce).css("borderLeftWidth"),10)||0)-
(parseInt($(ce).css("paddingRight"),10)||0)-
this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-
(parseInt($(ce).css("borderTopWidth"),10)||0)-
(parseInt($(ce).css("paddingBottom"),10)||0)-
this.helperProportions.height-this.margins.top];}},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop()))*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod))};},_generatePosition:function(event){var top,left,o=this.options,pageX=event.pageX,pageY=event.pageY,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();}
if(this.originalPosition){if(this.containment){if(event.pageX-this.offset.click.left<this.containment[0]){pageX=this.containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<this.containment[1]){pageY=this.containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>this.containment[2]){pageX=this.containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>this.containment[3]){pageY=this.containment[3]+this.offset.click.top;}}
if(o.grid){top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment?((top-this.offset.click.top>=this.containment[1]&&top-this.offset.click.top<=this.containment[3])?top:((top-this.offset.click.top>=this.containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment?((left-this.offset.click.left>=this.containment[0]&&left-this.offset.click.left<=this.containment[2])?left:((left-this.offset.click.left>=this.containment[0])?left-o.grid[0]:left+o.grid[0])):left;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop())))),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())))};},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?i.item[0]:i.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){if(counter===this.counter){this.refreshPositions(!hardRefresh);}});},_clear:function(event,noPropagation){this.reverting=false;var i,delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem);}
this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]="";}}
this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper");}else{this.currentItem.show();}
if(this.fromOutside&&!noPropagation){delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside));});}
if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!noPropagation){delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash());});}
if(this!==this.currentContainer){if(!noPropagation){delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash());});delayedTriggers.push((function(c){return function(event){c._trigger("receive",event,this._uiHash(this));};}).call(this,this.currentContainer));delayedTriggers.push((function(c){return function(event){c._trigger("update",event,this._uiHash(this));};}).call(this,this.currentContainer));}}
function delayEvent(type,instance,container){return function(event){container._trigger(type,event,instance._uiHash(instance));};}
for(i=this.containers.length-1;i>=0;i--){if(!noPropagation){delayedTriggers.push(delayEvent("deactivate",this,this.containers[i]));}
if(this.containers[i].containerCache.over){delayedTriggers.push(delayEvent("out",this,this.containers[i]));this.containers[i].containerCache.over=0;}}
if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove();}
if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity);}
if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex);}
this.dragging=false;if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());}
this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove();}
this.helper=null;}
if(!noPropagation){for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event);}
this._trigger("stop",event,this._uiHash());}
this.fromOutside=false;return!this.cancelHelperRemoval;},_trigger:function(){if($.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel();}},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null};}});var widgetsAccordion=$.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:false,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var options=this.options;this.prevShow=this.prevHide=$();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");if(!options.collapsible&&(options.active===false||options.active==null)){options.active=0;}
this._processPanels();if(options.active<0){options.active+=this.headers.length;}
this._refresh();},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?$():this.active.next()};},_createIcons:function(){var icon,children,icons=this.options.icons;if(icons){icon=$("<span>");this._addClass(icon,"ui-accordion-header-icon","ui-icon "+icons.header);icon.prependTo(this.headers);children=this.active.children(".ui-accordion-header-icon");this._removeClass(children,icons.header)._addClass(children,null,icons.activeHeader)._addClass(this.headers,"ui-accordion-icons");}},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove();},_destroy:function(){var contents;this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();contents=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();if(this.options.heightStyle!=="content"){contents.css("height","");}},_setOption:function(key,value){if(key==="active"){this._activate(value);return;}
if(key==="event"){if(this.options.event){this._off(this.headers,this.options.event);}
this._setupEvents(value);}
this._super(key,value);if(key==="collapsible"&&!value&&this.options.active===false){this._activate(0);}
if(key==="icons"){this._destroyIcons();if(value){this._createIcons();}}},_setOptionDisabled:function(value){this._super(value);this.element.attr("aria-disabled",value);this._toggleClass(null,"ui-state-disabled",!!value);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!value);},_keydown:function(event){if(event.altKey||event.ctrlKey){return;}
var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=false;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._eventHandler(event);break;case keyCode.HOME:toFocus=this.headers[0];break;case keyCode.END:toFocus=this.headers[length-1];break;}
if(toFocus){$(event.target).attr("tabIndex",-1);$(toFocus).attr("tabIndex",0);$(toFocus).trigger("focus");event.preventDefault();}},_panelKeyDown:function(event){if(event.keyCode===$.ui.keyCode.UP&&event.ctrlKey){$(event.currentTarget).prev().trigger("focus");}},refresh:function(){var options=this.options;this._processPanels();if((options.active===false&&options.collapsible===true)||!this.headers.length){options.active=false;this.active=$();}else if(options.active===false){this._activate(0);}else if(this.active.length&&!$.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){options.active=false;this.active=$();}else{this._activate(Math.max(0,options.active-1));}}else{options.active=this.headers.index(this.active);}
this._destroyIcons();this._refresh();},_processPanels:function(){var prevHeaders=this.headers,prevPanels=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");if(prevPanels){this._off(prevHeaders.not(this.headers));this._off(prevPanels.not(this.panels));}},_refresh:function(){var maxHeight,options=this.options,heightStyle=options.heightStyle,parent=this.element.parent();this.active=this._findActive(options.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var header=$(this),headerId=header.uniqueId().attr("id"),panel=header.next(),panelId=panel.uniqueId().attr("id");header.attr("aria-controls",panelId);panel.attr("aria-labelledby",headerId);}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0);}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"});}
this._createIcons();this._setupEvents(options.event);if(heightStyle==="fill"){maxHeight=parent.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed"){return;}
maxHeight-=elem.outerHeight(true);});this.headers.each(function(){maxHeight-=$(this).outerHeight(true);});this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-
$(this).innerHeight()+$(this).height()));}).css("overflow","auto");}else if(heightStyle==="auto"){maxHeight=0;this.headers.next().each(function(){var isVisible=$(this).is(":visible");if(!isVisible){$(this).show();}
maxHeight=Math.max(maxHeight,$(this).css("height","").height());if(!isVisible){$(this).hide();}}).height(maxHeight);}},_activate:function(index){var active=this._findActive(index)[0];if(active===this.active[0]){return;}
active=active||this.active[0];this._eventHandler({target:active,currentTarget:active,preventDefault:$.noop});},_findActive:function(selector){return typeof selector==="number"?this.headers.eq(selector):$();},_setupEvents:function(event){var events={keydown:"_keydown"};if(event){$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler";});}
this._off(this.headers.add(this.headers.next()));this._on(this.headers,events);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers);},_eventHandler:function(event){var activeChildren,clickedChildren,options=this.options,active=this.active,clicked=$(event.currentTarget),clickedIsActive=clicked[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():clicked.next(),toHide=active.next(),eventData={oldHeader:active,oldPanel:toHide,newHeader:collapsing?$():clicked,newPanel:toShow};event.preventDefault();if((clickedIsActive&&!options.collapsible)||(this._trigger("beforeActivate",event,eventData)===false)){return;}
options.active=collapsing?false:this.headers.index(clicked);this.active=clickedIsActive?$():clicked;this._toggle(eventData);this._removeClass(active,"ui-accordion-header-active","ui-state-active");if(options.icons){activeChildren=active.children(".ui-accordion-header-icon");this._removeClass(activeChildren,null,options.icons.activeHeader)._addClass(activeChildren,null,options.icons.header);}
if(!clickedIsActive){this._removeClass(clicked,"ui-accordion-header-collapsed")._addClass(clicked,"ui-accordion-header-active","ui-state-active");if(options.icons){clickedChildren=clicked.children(".ui-accordion-header-icon");this._removeClass(clickedChildren,null,options.icons.header)._addClass(clickedChildren,null,options.icons.activeHeader);}
this._addClass(clicked.next(),"ui-accordion-content-active");}},_toggle:function(data){var toShow=data.newPanel,toHide=this.prevShow.length?this.prevShow:data.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=toShow;this.prevHide=toHide;if(this.options.animate){this._animate(toShow,toHide,data);}else{toHide.hide();toShow.show();this._toggleComplete(data);}
toHide.attr({"aria-hidden":"true"});toHide.prev().attr({"aria-selected":"false","aria-expanded":"false"});if(toShow.length&&toHide.length){toHide.prev().attr({"tabIndex":-1,"aria-expanded":"false"});}else if(toShow.length){this.headers.filter(function(){return parseInt($(this).attr("tabIndex"),10)===0;}).attr("tabIndex",-1);}
toShow.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});},_animate:function(toShow,toHide,data){var total,easing,duration,that=this,adjust=0,boxSizing=toShow.css("box-sizing"),down=toShow.length&&(!toHide.length||(toShow.index()<toHide.index())),animate=this.options.animate||{},options=down&&animate.down||animate,complete=function(){that._toggleComplete(data);};if(typeof options==="number"){duration=options;}
if(typeof options==="string"){easing=options;}
easing=easing||options.easing||animate.easing;duration=duration||options.duration||animate.duration;if(!toHide.length){return toShow.animate(this.showProps,duration,easing,complete);}
if(!toShow.length){return toHide.animate(this.hideProps,duration,easing,complete);}
total=toShow.show().outerHeight();toHide.animate(this.hideProps,{duration:duration,easing:easing,step:function(now,fx){fx.now=Math.round(now);}});toShow.hide().animate(this.showProps,{duration:duration,easing:easing,complete:complete,step:function(now,fx){fx.now=Math.round(now);if(fx.prop!=="height"){if(boxSizing==="content-box"){adjust+=fx.now;}}else if(that.options.heightStyle!=="content"){fx.now=Math.round(total-toHide.outerHeight()-adjust);adjust=0;}}});},_toggleComplete:function(data){var toHide=data.oldPanel,prev=toHide.prev();this._removeClass(toHide,"ui-accordion-content-active");this._removeClass(prev,"ui-accordion-header-active")._addClass(prev,"ui-accordion-header-collapsed");if(toHide.length){toHide.parent()[0].className=toHide.parent()[0].className;}
this._trigger("activate",null,data);}});var widgetsMenu=$.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(event){event.preventDefault();},"click .ui-menu-item":function(event){var target=$(event.target);var active=$($.ui.safeActiveElement(this.document[0]));if(!this.mouseHandled&&target.not(".ui-state-disabled").length){this.select(event);if(!event.isPropagationStopped()){this.mouseHandled=true;}
if(target.has(".ui-menu").length){this.expand(event);}else if(!this.element.is(":focus")&&active.closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer);}}}},"mouseenter .ui-menu-item":function(event){if(this.previousFilter){return;}
var actualTarget=$(event.target).closest(".ui-menu-item"),target=$(event.currentTarget);if(actualTarget[0]!==target[0]){return;}
this._removeClass(target.siblings().children(".ui-state-active"),null,"ui-state-active");this.focus(event,target);},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.find(this.options.items).eq(0);if(!keepActiveItem){this.focus(event,item);}},blur:function(event){this._delay(function(){var notContained=!$.contains(this.element[0],$.ui.safeActiveElement(this.document[0]));if(notContained){this.collapseAll(event);}});},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(event){if(this._closeOnDocumentClick(event)){this.collapseAll(event);}
this.mouseHandled=false;}});},_destroy:function(){var items=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),submenus=items.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled "+"tabIndex").removeUniqueId().show();submenus.children().each(function(){var elem=$(this);if(elem.data("ui-menu-submenu-caret")){elem.remove();}});},_keydown:function(event){var match,prev,character,skip,preventDefault=true;switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(event);}
break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||"";skip=false;character=event.keyCode>=96&&event.keyCode<=105?(event.keyCode-96).toString():String.fromCharCode(event.keyCode);clearTimeout(this.filterTimer);if(character===prev){skip=true;}else{character=prev+character;}
match=this._filterMenuItems(character);match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match;if(!match.length){character=String.fromCharCode(event.keyCode);match=this._filterMenuItems(character);}
if(match.length){this.focus(event,match);this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter;},1000);}else{delete this.previousFilter;}}
if(preventDefault){event.preventDefault();}},_activate:function(event){if(this.active&&!this.active.is(".ui-state-disabled")){if(this.active.children("[aria-haspopup='true']").length){this.expand(event);}else{this.select(event);}}},refresh:function(){var menus,items,newSubmenus,newItems,newWrappers,that=this,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);newSubmenus=submenus.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.prev(),submenuCaret=$("<span>").data("ui-menu-submenu-caret",true);that._addClass(submenuCaret,"ui-menu-icon","ui-icon "+icon);item.attr("aria-haspopup","true").prepend(submenuCaret);menu.attr("aria-labelledby",item.attr("id"));});this._addClass(newSubmenus,"ui-menu","ui-widget ui-widget-content ui-front");menus=submenus.add(this.element);items=menus.find(this.options.items);items.not(".ui-menu-item").each(function(){var item=$(this);if(that._isDivider(item)){that._addClass(item,"ui-menu-divider","ui-widget-content");}});newItems=items.not(".ui-menu-item, .ui-menu-divider");newWrappers=newItems.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(newItems,"ui-menu-item")._addClass(newWrappers,"ui-menu-item-wrapper");items.filter(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur();}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role];},_setOption:function(key,value){if(key==="icons"){var icons=this.element.find(".ui-menu-icon");this._removeClass(icons,null,this.options.icons.submenu)._addClass(icons,null,value.submenu);}
this._super(key,value);},_setOptionDisabled:function(value){this._super(value);this.element.attr("aria-disabled",String(value));this._toggleClass(null,"ui-state-disabled",!!value);},focus:function(event,item){var nested,focused,activeParent;this.blur(event,event&&event.type==="focus");this._scrollIntoView(item);this.active=item.first();focused=this.active.children(".ui-menu-item-wrapper");this._addClass(focused,null,"ui-state-active");if(this.options.role){this.element.attr("aria-activedescendant",focused.attr("id"));}
activeParent=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(activeParent,null,"ui-state-active");if(event&&event.type==="keydown"){this._close();}else{this.timer=this._delay(function(){this._close();},this.delay);}
nested=item.children(".ui-menu");if(nested.length&&event&&(/^mouse/.test(event.type))){this._startOpening(nested);}
this.activeMenu=item.parent();this._trigger("focus",event,{item:item});},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.outerHeight();if(offset<0){this.activeMenu.scrollTop(scroll+offset);}else if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight);}}},blur:function(event,fromFocus){if(!fromFocus){clearTimeout(this.timer);}
if(!this.active){return;}
this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active");this._trigger("blur",event,{item:this.active});this.active=null;},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr("aria-hidden")!=="true"){return;}
this.timer=this._delay(function(){this._close();this._open(submenu);},this.delay);},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true");submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position);},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));if(!currentMenu.length){currentMenu=this.element;}
this._close(currentMenu);this.blur(event);this._removeClass(currentMenu.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=currentMenu;},this.delay);},_close:function(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element;}
startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false");},_closeOnDocumentClick:function(event){return!$(event.target).closest(".ui-menu").length;},_isDivider:function(item){return!/[^\-\u2014\u2013\s]/.test(item.text());},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem);}},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem);});}},next:function(event){this._move("next","first",event);},previous:function(event){this._move("prev","last",event);},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length;},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;},_move:function(direction,filter,event){var next;if(this.active){if(direction==="first"||direction==="last"){next=this.active
[direction==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1);}else{next=this.active
[direction+"All"](".ui-menu-item").eq(0);}}
if(!next||!next.length||!this.active){next=this.activeMenu.find(this.options.items)[filter]();}
this.focus(event,next);},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isLastItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base-height<0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.find(this.options.items)
[!this.active?"first":"last"]());}},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isFirstItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base+height>0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.find(this.options.items).first());}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight");},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(event,true);}
this._trigger("select",event,ui);},_filterMenuItems:function(character){var escapedCharacter=character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),regex=new RegExp("^"+escapedCharacter,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return regex.test($.trim($(this).children(".ui-menu-item-wrapper").text()));});}});$.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea=nodeName==="textarea",isInput=nodeName==="input";this.isMultiLine=isTextarea||!isInput&&this._isContentEditable(this.element);this.valueMethod=this.element[isTextarea||isInput?"val":"text"];this.isNewMenu=true;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly")){suppressKeyPress=true;suppressInput=true;suppressKeyPressRepeat=true;return;}
suppressKeyPress=false;suppressInput=false;suppressKeyPressRepeat=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=true;this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=true;this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=true;this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=true;this._keyEvent("next",event);break;case keyCode.ENTER:if(this.menu.active){suppressKeyPress=true;event.preventDefault();this.menu.select(event);}
break;case keyCode.TAB:if(this.menu.active){this.menu.select(event);}
break;case keyCode.ESCAPE:if(this.menu.element.is(":visible")){if(!this.isMultiLine){this._value(this.term);}
this.close(event);event.preventDefault();}
break;default:suppressKeyPressRepeat=true;this._searchTimeout(event);break;}},keypress:function(event){if(suppressKeyPress){suppressKeyPress=false;if(!this.isMultiLine||this.menu.element.is(":visible")){event.preventDefault();}
return;}
if(suppressKeyPressRepeat){return;}
var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event);break;}},input:function(event){if(suppressInput){suppressInput=false;event.preventDefault();return;}
this._searchTimeout(event);},focus:function(){this.selectedItem=null;this.previous=this._value();},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return;}
clearTimeout(this.searching);this.close(event);this._change(event);}});this._initSource();this.menu=$("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(event){event.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;if(this.element[0]!==$.ui.safeActiveElement(this.document[0])){this.element.trigger("focus");}});},menufocus:function(event,ui){var label,item;if(this.isNewMenu){this.isNewMenu=false;if(event.originalEvent&&/^mouse/.test(event.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent);});return;}}
item=ui.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",event,{item:item})){if(event.originalEvent&&/^key/.test(event.originalEvent.type)){this._value(item.value);}}
label=ui.item.attr("aria-label")||item.value;if(label&&$.trim(label).length){this.liveRegion.children().hide();$("<div>").text(label).appendTo(this.liveRegion);}},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;if(this.element[0]!==$.ui.safeActiveElement(this.document[0])){this.element.trigger("focus");this.previous=previous;this._delay(function(){this.previous=previous;this.selectedItem=item;});}
if(false!==this._trigger("select",event,{item:item})){this._value(item.value);}
this.term=this._value();this.close(event);this.selectedItem=item;}});this.liveRegion=$("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");}});},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove();},_setOption:function(key,value){this._super(key,value);if(key==="source"){this._initSource();}
if(key==="appendTo"){this.menu.element.appendTo(this._appendTo());}
if(key==="disabled"&&value&&this.xhr){this.xhr.abort();}},_isEventTargetInWidget:function(event){var menuElement=this.menu.element[0];return event.target===this.element[0]||event.target===menuElement||$.contains(menuElement,event.target);},_closeOnClickOutside:function(event){if(!this._isEventTargetInWidget(event)){this.close();}},_appendTo:function(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0);}
if(!element||!element[0]){element=this.element.closest(".ui-front, dialog");}
if(!element.length){element=this.document[0].body;}
return element;},_initSource:function(){var array,url,that=this;if($.isArray(this.options.source)){array=this.options.source;this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term));};}else if(typeof this.options.source==="string"){url=this.options.source;this.source=function(request,response){if(that.xhr){that.xhr.abort();}
that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data);},error:function(){response([]);}});};}else{this.source=this.options.source;}},_searchTimeout:function(event){clearTimeout(this.searching);this.searching=this._delay(function(){var equalValues=this.term===this._value(),menuVisible=this.menu.element.is(":visible"),modifierKey=event.altKey||event.ctrlKey||event.metaKey||event.shiftKey;if(!equalValues||(equalValues&&!menuVisible&&!modifierKey)){this.selectedItem=null;this.search(null,event);}},this.options.delay);},search:function(value,event){value=value!=null?value:this._value();this.term=this._value();if(value.length<this.options.minLength){return this.close(event);}
if(this._trigger("search",event)===false){return;}
return this._search(value);},_search:function(value){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:value},this._response());},_response:function(){var index=++this.requestIndex;return $.proxy(function(content){if(index===this.requestIndex){this.__response(content);}
this.pending--;if(!this.pending){this._removeClass("ui-autocomplete-loading");}},this);},__response:function(content){if(content){content=this._normalize(content);}
this._trigger("response",null,{content:content});if(!this.options.disabled&&content&&content.length&&!this.cancelSearch){this._suggest(content);this._trigger("open");}else{this._close();}},close:function(event){this.cancelSearch=true;this._close(event);},_close:function(event){this._off(this.document,"mousedown");if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",event);}},_change:function(event){if(this.previous!==this._value()){this._trigger("change",event,{item:this.selectedItem});}},_normalize:function(items){if(items.length&&items[0].label&&items[0].value){return items;}
return $.map(items,function(item){if(typeof item==="string"){return{label:item,value:item};}
return $.extend({},item,{label:item.label||item.value,value:item.value||item.label});});},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items);this.isNewMenu=true;this.menu.refresh();ul.show();this._resizeMenu();ul.position($.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next();}
this._on(this.document,{mousedown:"_closeOnClickOutside"});},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()));},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item);});},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item);},_renderItem:function(ul,item){return $("<li>").append($("<div>").text(item.label)).appendTo(ul);},_move:function(direction,event){if(!this.menu.element.is(":visible")){this.search(null,event);return;}
if(this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)){if(!this.isMultiLine){this._value(this.term);}
this.menu.blur();return;}
this.menu[direction](event);},widget:function(){return this.menu.element;},_value:function(){return this.valueMethod.apply(this.element,arguments);},_keyEvent:function(keyEvent,event){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(keyEvent,event);event.preventDefault();}},_isContentEditable:function(element){if(!element.length){return false;}
var editable=element.prop("contentEditable");if(editable==="inherit"){return this._isContentEditable(element.parent());}
return editable==="true";}});$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value);});}});$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate.";}}},__response:function(content){var message;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return;}
if(content&&content.length){message=this.options.messages.results(content.length);}else{message=this.options.messages.noResults;}
this.liveRegion.children().hide();$("<div>").text(message).appendTo(this.liveRegion);}});var widgetsAutocomplete=$.ui.autocomplete;var controlgroupCornerRegex=/ui-corner-([a-z]){2,6}/g;var widgetsControlgroup=$.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:true,items:{"button":"input[type=button], input[type=submit], input[type=reset], button, a","controlgroupLabel":".ui-controlgroup-label","checkboxradio":"input[type='checkbox'], input[type='radio']","selectmenu":"select","spinner":".ui-spinner-input"}},_create:function(){this._enhance();},_enhance:function(){this.element.attr("role","toolbar");this.refresh();},_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");this.element.removeAttr("role");if(this.options.items.controlgroupLabel){this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap();}},_initWidgets:function(){var that=this,childWidgets=[];$.each(this.options.items,function(widget,selector){var labels;var options={};if(!selector){return;}
if(widget==="controlgroupLabel"){labels=that.element.find(selector);labels.each(function(){var element=$(this);if(element.children(".ui-controlgroup-label-contents").length){return;}
element.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>");});that._addClass(labels,null,"ui-widget ui-widget-content ui-state-default");childWidgets=childWidgets.concat(labels.get());return;}
if(!$.fn[widget]){return;}
if(that["_"+widget+"Options"]){options=that["_"+widget+"Options"]("middle");}else{options={classes:{}};}
that.element.find(selector).each(function(){var element=$(this);var instance=element[widget]("instance");var instanceOptions=$.widget.extend({},options);if(widget==="button"&&element.parent(".ui-spinner").length){return;}
if(!instance){instance=element[widget]()[widget]("instance");}
if(instance){instanceOptions.classes=that._resolveClassesValues(instanceOptions.classes,instance);}
element[widget](instanceOptions);var widgetElement=element[widget]("widget");$.data(widgetElement[0],"ui-controlgroup-data",instance?instance:element[widget]("instance"));childWidgets.push(widgetElement[0]);});});this.childWidgets=$($.unique(childWidgets));this._addClass(this.childWidgets,"ui-controlgroup-item");},_callChildMethod:function(method){this.childWidgets.each(function(){var element=$(this),data=element.data("ui-controlgroup-data");if(data&&data[method]){data[method]();}});},_updateCornerClass:function(element,position){var remove="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all";var add=this._buildSimpleOptions(position,"label").classes.label;this._removeClass(element,null,remove);this._addClass(element,null,add);},_buildSimpleOptions:function(position,key){var direction=this.options.direction==="vertical";var result={classes:{}};result.classes[key]={"middle":"","first":"ui-corner-"+(direction?"top":"left"),"last":"ui-corner-"+(direction?"bottom":"right"),"only":"ui-corner-all"}[position];return result;},_spinnerOptions:function(position){var options=this._buildSimpleOptions(position,"ui-spinner");options.classes["ui-spinner-up"]="";options.classes["ui-spinner-down"]="";return options;},_buttonOptions:function(position){return this._buildSimpleOptions(position,"ui-button");},_checkboxradioOptions:function(position){return this._buildSimpleOptions(position,"ui-checkboxradio-label");},_selectmenuOptions:function(position){var direction=this.options.direction==="vertical";return{width:direction?"auto":false,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(direction?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(direction?"top":"left")},last:{"ui-selectmenu-button-open":direction?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(direction?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[position]};},_resolveClassesValues:function(classes,instance){var result={};$.each(classes,function(key){var current=instance.options.classes[key]||"";current=$.trim(current.replace(controlgroupCornerRegex,""));result[key]=(current+" "+classes[key]).replace(/\s+/g," ");});return result;},_setOption:function(key,value){if(key==="direction"){this._removeClass("ui-controlgroup-"+this.options.direction);}
this._super(key,value);if(key==="disabled"){this._callChildMethod(value?"disable":"enable");return;}
this.refresh();},refresh:function(){var children,that=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);if(this.options.direction==="horizontal"){this._addClass(null,"ui-helper-clearfix");}
this._initWidgets();children=this.childWidgets;if(this.options.onlyVisible){children=children.filter(":visible");}
if(children.length){$.each(["first","last"],function(index,value){var instance=children[value]().data("ui-controlgroup-data");if(instance&&that["_"+instance.widgetName+"Options"]){var options=that["_"+instance.widgetName+"Options"](children.length===1?"only":value);options.classes=that._resolveClassesValues(options.classes,instance);instance.element[instance.widgetName](options);}else{that._updateCornerClass(children[value](),value);}});this._callChildMethod("refresh");}}});$.widget("ui.checkboxradio",[$.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:true,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var disabled,labels;var that=this;var options=this._super()||{};this._readType();labels=this.element.labels();this.label=$(labels[labels.length-1]);if(!this.label.length){$.error("No label found for checkboxradio widget");}
this.originalLabel="";this.label.contents().not(this.element[0]).each(function(){that.originalLabel+=this.nodeType===3?$(this).text():this.outerHTML;});if(this.originalLabel){options.label=this.originalLabel;}
disabled=this.element[0].disabled;if(disabled!=null){options.disabled=disabled;}
return options;},_create:function(){var checked=this.element[0].checked;this._bindFormResetHandler();if(this.options.disabled==null){this.options.disabled=this.element[0].disabled;}
this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");if(this.type==="radio"){this._addClass(this.label,"ui-checkboxradio-radio-label");}
if(this.options.label&&this.options.label!==this.originalLabel){this._updateLabel();}else if(this.originalLabel){this.options.label=this.originalLabel;}
this._enhance();if(checked){this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active");if(this.icon){this._addClass(this.icon,null,"ui-state-hover");}}
this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus");},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus");}});},_readType:function(){var nodeName=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;if(nodeName!=="input"||!/radio|checkbox/.test(this.type)){$.error("Can't create checkboxradio on element.nodeName="+nodeName+" and element.type="+this.type);}},_enhance:function(){this._updateIcon(this.element[0].checked);},widget:function(){return this.label;},_getRadioGroup:function(){var group;var name=this.element[0].name;var nameSelector="input[name='"+$.ui.escapeSelector(name)+"']";if(!name){return $([]);}
if(this.form.length){group=$(this.form[0].elements).filter(nameSelector);}else{group=$(nameSelector).filter(function(){return $(this).form().length===0;});}
return group.not(this.element);},_toggleClasses:function(){var checked=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",checked);if(this.options.icon&&this.type==="checkbox"){this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",checked)._toggleClass(this.icon,null,"ui-icon-blank",!checked);}
if(this.type==="radio"){this._getRadioGroup().each(function(){var instance=$(this).checkboxradio("instance");if(instance){instance._removeClass(instance.label,"ui-checkboxradio-checked","ui-state-active");}});}},_destroy:function(){this._unbindFormResetHandler();if(this.icon){this.icon.remove();this.iconSpace.remove();}},_setOption:function(key,value){if(key==="label"&&!value){return;}
this._super(key,value);if(key==="disabled"){this._toggleClass(this.label,null,"ui-state-disabled",value);this.element[0].disabled=value;return;}
this.refresh();},_updateIcon:function(checked){var toAdd="ui-icon ui-icon-background ";if(this.options.icon){if(!this.icon){this.icon=$("<span>");this.iconSpace=$("<span> </span>");this._addClass(this.iconSpace,"ui-checkboxradio-icon-space");}
if(this.type==="checkbox"){toAdd+=checked?"ui-icon-check ui-state-checked":"ui-icon-blank";this._removeClass(this.icon,null,checked?"ui-icon-blank":"ui-icon-check");}else{toAdd+="ui-icon-blank";}
this._addClass(this.icon,"ui-checkboxradio-icon",toAdd);if(!checked){this._removeClass(this.icon,null,"ui-icon-check ui-state-checked");}
this.icon.prependTo(this.label).after(this.iconSpace);}else if(this.icon!==undefined){this.icon.remove();this.iconSpace.remove();delete this.icon;}},_updateLabel:function(){var contents=this.label.contents().not(this.element[0]);if(this.icon){contents=contents.not(this.icon[0]);}
if(this.iconSpace){contents=contents.not(this.iconSpace[0]);}
contents.remove();this.label.append(this.options.label);},refresh:function(){var checked=this.element[0].checked,isDisabled=this.element[0].disabled;this._updateIcon(checked);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",checked);if(this.options.label!==null){this._updateLabel();}
if(isDisabled!==this.options.disabled){this._setOptions({"disabled":isDisabled});}}}]);var widgetsCheckboxradio=$.ui.checkboxradio;$.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:true},_getCreateOptions:function(){var disabled,options=this._super()||{};this.isInput=this.element.is("input");disabled=this.element[0].disabled;if(disabled!=null){options.disabled=disabled;}
this.originalLabel=this.isInput?this.element.val():this.element.html();if(this.originalLabel){options.label=this.originalLabel;}
return options;},_create:function(){if(!this.option.showLabel&!this.options.icon){this.options.showLabel=true;}
if(this.options.disabled==null){this.options.disabled=this.element[0].disabled||false;}
this.hasTitle=!!this.element.attr("title");if(this.options.label&&this.options.label!==this.originalLabel){if(this.isInput){this.element.val(this.options.label);}else{this.element.html(this.options.label);}}
this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();if(this.element.is("a")){this._on({"keyup":function(event){if(event.keyCode===$.ui.keyCode.SPACE){event.preventDefault();if(this.element[0].click){this.element[0].click();}else{this.element.trigger("click");}}}});}},_enhance:function(){if(!this.element.is("button")){this.element.attr("role","button");}
if(this.options.icon){this._updateIcon("icon",this.options.icon);this._updateTooltip();}},_updateTooltip:function(){this.title=this.element.attr("title");if(!this.options.showLabel&&!this.title){this.element.attr("title",this.options.label);}},_updateIcon:function(option,value){var icon=option!=="iconPosition",position=icon?this.options.iconPosition:value,displayBlock=position==="top"||position==="bottom";if(!this.icon){this.icon=$("<span>");this._addClass(this.icon,"ui-button-icon","ui-icon");if(!this.options.showLabel){this._addClass("ui-button-icon-only");}}else if(icon){this._removeClass(this.icon,null,this.options.icon);}
if(icon){this._addClass(this.icon,null,value);}
this._attachIcon(position);if(displayBlock){this._addClass(this.icon,null,"ui-widget-icon-block");if(this.iconSpace){this.iconSpace.remove();}}else{if(!this.iconSpace){this.iconSpace=$("<span> </span>");this._addClass(this.iconSpace,"ui-button-icon-space");}
this._removeClass(this.icon,null,"ui-wiget-icon-block");this._attachIconSpace(position);}},_destroy:function(){this.element.removeAttr("role");if(this.icon){this.icon.remove();}
if(this.iconSpace){this.iconSpace.remove();}
if(!this.hasTitle){this.element.removeAttr("title");}},_attachIconSpace:function(iconPosition){this.icon[/^(?:end|bottom)/.test(iconPosition)?"before":"after"](this.iconSpace);},_attachIcon:function(iconPosition){this.element[/^(?:end|bottom)/.test(iconPosition)?"append":"prepend"](this.icon);},_setOptions:function(options){var newShowLabel=options.showLabel===undefined?this.options.showLabel:options.showLabel,newIcon=options.icon===undefined?this.options.icon:options.icon;if(!newShowLabel&&!newIcon){options.showLabel=true;}
this._super(options);},_setOption:function(key,value){if(key==="icon"){if(value){this._updateIcon(key,value);}else if(this.icon){this.icon.remove();if(this.iconSpace){this.iconSpace.remove();}}}
if(key==="iconPosition"){this._updateIcon(key,value);}
if(key==="showLabel"){this._toggleClass("ui-button-icon-only",null,!value);this._updateTooltip();}
if(key==="label"){if(this.isInput){this.element.val(value);}else{this.element.html(value);if(this.icon){this._attachIcon(this.options.iconPosition);this._attachIconSpace(this.options.iconPosition);}}}
this._super(key,value);if(key==="disabled"){this._toggleClass(null,"ui-state-disabled",value);this.element[0].disabled=value;if(value){this.element.blur();}}},refresh:function(){var isDisabled=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");if(isDisabled!==this.options.disabled){this._setOptions({disabled:isDisabled});}
this._updateTooltip();}});if($.uiBackCompat!==false){$.widget("ui.button",$.ui.button,{options:{text:true,icons:{primary:null,secondary:null}},_create:function(){if(this.options.showLabel&&!this.options.text){this.options.showLabel=this.options.text;}
if(!this.options.showLabel&&this.options.text){this.options.text=this.options.showLabel;}
if(!this.options.icon&&(this.options.icons.primary||this.options.icons.secondary)){if(this.options.icons.primary){this.options.icon=this.options.icons.primary;}else{this.options.icon=this.options.icons.secondary;this.options.iconPosition="end";}}else if(this.options.icon){this.options.icons.primary=this.options.icon;}
this._super();},_setOption:function(key,value){if(key==="text"){this._super("showLabel",value);return;}
if(key==="showLabel"){this.options.text=value;}
if(key==="icon"){this.options.icons.primary=value;}
if(key==="icons"){if(value.primary){this._super("icon",value.primary);this._super("iconPosition","beginning");}else if(value.secondary){this._super("icon",value.secondary);this._super("iconPosition","end");}}
this._superApply(arguments);}});$.fn.button=(function(orig){return function(){if(!this.length||(this.length&&this[0].tagName!=="INPUT")||(this.length&&this[0].tagName==="INPUT"&&(this.attr("type")!=="checkbox"&&this.attr("type")!=="radio"))){return orig.apply(this,arguments);}
if(!$.ui.checkboxradio){$.error("Checkboxradio widget missing");}
if(arguments.length===0){return this.checkboxradio({"icon":false});}
return this.checkboxradio.apply(this,arguments);};})($.fn.button);$.fn.buttonset=function(){if(!$.ui.controlgroup){$.error("Controlgroup widget missing");}
if(arguments[0]==="option"&&arguments[1]==="items"&&arguments[2]){return this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]);}
if(arguments[0]==="option"&&arguments[1]==="items"){return this.controlgroup.apply(this,[arguments[0],"items.button"]);}
if(typeof arguments[0]==="object"&&arguments[0].items){arguments[0].items={button:arguments[0].items};}
return this.controlgroup.apply(this,arguments);};}
var widgetsButton=$.ui.button;$.extend($.ui,{datepicker:{version:"1.12.1"}});var datepicker_instActive;function datepicker_getZindex(elem){var position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}
elem=elem.parent();}
return 0;}
function Datepicker(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};$.extend(this._defaults,this.regional[""]);this.regional.en=$.extend(true,{},this.regional[""]);this.regional["en-US"]=$.extend(true,{},this.regional.en);this.dpDiv=datepicker_bindHover($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));}
$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv;},setDefaults:function(settings){datepicker_extendRemove(this._defaults,settings||{});return this;},_attachDatepicker:function(target,settings){var nodeName,inline,inst;nodeName=target.nodeName.toLowerCase();inline=(nodeName==="div"||nodeName==="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid;}
inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{});if(nodeName==="input"){this._connectDatepicker(target,inst);}else if(inline){this._inlineDatepicker(target,inst);}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:datepicker_bindHover($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))};},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return;}
this._attachments(input,inst);input.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp);this._autoSize(inst);$.data(target,"datepicker",inst);if(inst.settings.disabled){this._disableDatepicker(target);}},_attachments:function(input,inst){var showOn,buttonText,buttonImage,appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove();}
if(appendText){inst.append=$("<span class='"+this._appendClass+"'>"+appendText+"</span>");input[isRTL?"before":"after"](inst.append);}
input.off("focus",this._showDatepicker);if(inst.trigger){inst.trigger.remove();}
showOn=this._get(inst,"showOn");if(showOn==="focus"||showOn==="both"){input.on("focus",this._showDatepicker);}
if(showOn==="button"||showOn==="both"){buttonText=this._get(inst,"buttonText");buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$("<button type='button'></button>").addClass(this._triggerClass).html(!buttonImage?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.on("click",function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput===input[0]){$.datepicker._hideDatepicker();}else if($.datepicker._datepickerShowing&&$.datepicker._lastInput!==input[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(input[0]);}else{$.datepicker._showDatepicker(input[0]);}
return false;});}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var findMax,max,maxI,i,date=new Date(2009,12-1,20),dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){findMax=function(names){max=0;maxI=0;for(i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i;}}
return maxI;};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?"dayNames":"dayNamesShort")))+20-date.getDay());}
inst.input.attr("size",this._formatDate(inst,date).length);}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return;}
divSpan.addClass(this.markerClassName).append(inst.dpDiv);$.data(target,"datepicker",inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);if(inst.settings.disabled){this._disableDatepicker(target);}
inst.dpDiv.css("display","block");},_dialogDatepicker:function(input,date,onSelect,settings,pos){var id,browserWidth,browserHeight,scrollX,scrollY,inst=this._dialogInst;if(!inst){this.uuid+=1;id="dp"+this.uuid;this._dialogInput=$("<input type='text' id='"+id+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.on("keydown",this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],"datepicker",inst);}
datepicker_extendRemove(inst.settings,settings||{});date=(date&&date.constructor===Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){browserWidth=document.documentElement.clientWidth;browserHeight=document.documentElement.clientHeight;scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY];}
this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv);}
$.data(this._dialogInput[0],"datepicker",inst);return this;},_destroyDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,"datepicker");if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();$.removeData(target,"datepicker");if(nodeName==="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp);}else if(nodeName==="div"||nodeName==="span"){$target.removeClass(this.markerClassName).empty();}
if(datepicker_instActive===inst){datepicker_instActive=null;}},_enableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,"datepicker");if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false;}).end().filter("img").css({opacity:"1.0",cursor:""});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});},_disableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,"datepicker");if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true;}).end().filter("img").css({opacity:"0.5",cursor:"default"});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});this._disabledInputs[this._disabledInputs.length]=target;},_isDisabledDatepicker:function(target){if(!target){return false;}
for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]===target){return true;}}
return false;},_getInst:function(target){try{return $.data(target,"datepicker");}
catch(err){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(target,name,value){var settings,date,minDate,maxDate,inst=this._getInst(target);if(arguments.length===2&&typeof name==="string"){return(name==="defaults"?$.extend({},$.datepicker._defaults):(inst?(name==="all"?$.extend({},inst.settings):this._get(inst,name)):null));}
settings=name||{};if(typeof name==="string"){settings={};settings[name]=value;}
if(inst){if(this._curInst===inst){this._hideDatepicker();}
date=this._getDateDatepicker(target,true);minDate=this._getMinMaxDate(inst,"min");maxDate=this._getMinMaxDate(inst,"max");datepicker_extendRemove(inst.settings,settings);if(minDate!==null&&settings.dateFormat!==undefined&&settings.minDate===undefined){inst.settings.minDate=this._formatDate(inst,minDate);}
if(maxDate!==null&&settings.dateFormat!==undefined&&settings.maxDate===undefined){inst.settings.maxDate=this._formatDate(inst,maxDate);}
if("disabled"in settings){if(settings.disabled){this._disableDatepicker(target);}else{this._enableDatepicker(target);}}
this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst);}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value);},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst);}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst);}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault);}
return(inst?this._getDate(inst):null);},_doKeyDown:function(event){var onSelect,dateStr,sel,inst=$.datepicker._getInst(event.target),handled=true,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:sel=$("td."+$.datepicker._dayOverClass+":not(."+
$.datepicker._currentClass+")",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);}
onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){dateStr=$.datepicker._formatDate(inst);onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else{$.datepicker._hideDatepicker();}
return false;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");}
break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D");}
handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");}
break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D");}
handled=event.ctrlKey||event.metaKey;break;default:handled=false;}}else if(event.keyCode===36&&event.ctrlKey){$.datepicker._showDatepicker(this);}else{handled=false;}
if(handled){event.preventDefault();event.stopPropagation();}},_doKeyPress:function(event){var chars,chr,inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));chr=String.fromCharCode(event.charCode==null?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1);}},_doKeyUp:function(event){var date,inst=$.datepicker._getInst(event.target);if(inst.input.val()!==inst.lastVal){try{date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst);}}
catch(err){}}
return true;},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!=="input"){input=$("input",input.parentNode)[0];}
if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput===input){return;}
var inst,beforeShow,beforeShowSettings,isFixed,offset,showAnim,duration;inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!==inst){$.datepicker._curInst.dpDiv.stop(true,true);if(inst&&$.datepicker._datepickerShowing){$.datepicker._hideDatepicker($.datepicker._curInst.input[0]);}}
beforeShow=$.datepicker._get(inst,"beforeShow");beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===false){return;}
datepicker_extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value="";}
if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight;}
isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")==="fixed";return!isFixed;});offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){showAnim=$.datepicker._get(inst,"showAnim");duration=$.datepicker._get(inst,"duration");inst.dpDiv.css("z-index",datepicker_getZindex($(input))+1);$.datepicker._datepickerShowing=true;if($.effects&&$.effects.effect[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration);}else{inst.dpDiv[showAnim||"show"](showAnim?duration:null);}
if($.datepicker._shouldFocusInput(inst)){inst.input.trigger("focus");}
$.datepicker._curInst=inst;}},_updateDatepicker:function(inst){this.maxRows=4;datepicker_instActive=inst;inst.dpDiv.empty().append(this._generateHTML(inst));this._attachHandlers(inst);var origyearshtml,numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],width=17,activeCell=inst.dpDiv.find("."+this._dayOverClass+" a");if(activeCell.length>0){datepicker_handleMouseover.apply(activeCell.get(0));}
inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em");}
inst.dpDiv[(numMonths[0]!==1||numMonths[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(inst)){inst.input.trigger("focus");}
if(inst.yearshtml){origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml&&inst.yearshtml){inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);}
origyearshtml=inst.yearshtml=null;},0);}},_shouldFocusInput:function(inst){return inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&!inst.input.is(":focus");},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left===inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top===(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset;},_findPos:function(obj){var position,inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");while(obj&&(obj.type==="hidden"||obj.nodeType!==1||$.expr.filters.hidden(obj))){obj=obj[isRTL?"previousSibling":"nextSibling"];}
position=$(obj).offset();return[position.left,position.top];},_hideDatepicker:function(input){var showAnim,duration,postProcess,onClose,inst=this._curInst;if(!inst||(input&&inst!==$.data(input,"datepicker"))){return;}
if(this._datepickerShowing){showAnim=this._get(inst,"showAnim");duration=this._get(inst,"duration");postProcess=function(){$.datepicker._tidyDialog(inst);};if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim])){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess);}else{inst.dpDiv[(showAnim==="slideDown"?"slideUp":(showAnim==="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess);}
if(!showAnim){postProcess();}
this._datepickerShowing=false;onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst]);}
this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv);}}
this._inDialog=false;}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar");},_checkExternalClick:function(event){if(!$.datepicker._curInst){return;}
var $target=$(event.target),inst=$.datepicker._getInst($target[0]);if((($target[0].id!==$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length===0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)))||($target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==inst)){$.datepicker._hideDatepicker();}},_adjustDate:function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return;}
this._adjustInstDate(inst,offset+
(period==="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst);},_gotoToday:function(id){var date,target=$(id),inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear;}else{date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();}
this._notifyChange(inst);this._adjustDate(target);},_selectMonthYear:function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+(period==="M"?"Month":"Year")]=inst["draw"+(period==="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target);},_selectDay:function(id,month,year,td){var inst,target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return;}
inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear));},_clearDate:function(id){var target=$(id);this._selectDate(target,"");},_selectDate:function(id,dateStr){var onSelect,target=$(id),inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr);}
this._updateAlternate(inst);onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else if(inst.input){inst.input.trigger("change");}
if(inst.inline){this._updateDatepicker(inst);}else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof(inst.input[0])!=="object"){inst.input.trigger("focus");}
this._lastInput=null;}},_updateAlternate:function(inst){var altFormat,date,dateStr,altField=this._get(inst,"altField");if(altField){altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");date=this._getDate(inst);dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).val(dateStr);}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""];},iso8601Week:function(date){var time,checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1;},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments";}
value=(typeof value==="object"?value.toString():value+"");if(value===""){return null;}
var iFormat,dim,extra,iValue=0,shortYearCutoffTemp=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoff=(typeof shortYearCutoffTemp!=="string"?shortYearCutoffTemp:new Date().getFullYear()%100+parseInt(shortYearCutoffTemp,10)),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=false,date,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},getNumber=function(match){var isDoubled=lookAhead(match),size=(match==="@"?14:(match==="!"?20:(match==="y"&&isDoubled?4:(match==="o"?3:2)))),minSize=(match==="y"?size:1),digits=new RegExp("^\\d{"+minSize+","+size+"}"),num=value.substring(iValue).match(digits);if(!num){throw"Missing number at position "+iValue;}
iValue+=num[0].length;return parseInt(num[0],10);},getName=function(match,shortNames,longNames){var index=-1,names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]];}).sort(function(a,b){return-(a[1].length-b[1].length);});$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase()){index=pair[0];iValue+=name.length;return false;}});if(index!==-1){return index+1;}else{throw"Unknown name at position "+iValue;}},checkLiteral=function(){if(value.charAt(iValue)!==format.charAt(iFormat)){throw"Unexpected literal at position "+iValue;}
iValue++;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{checkLiteral();}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"!":date=new Date((getNumber("!")-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral();}else{literal=true;}
break;default:checkLiteral();}}}
if(iValue<value.length){extra=value.substr(iValue);if(!/^\s+/.test(extra)){throw"Extra/unparsed characters found in date: "+extra;}}
if(year===-1){year=new Date().getFullYear();}else if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+
(year<=shortYearCutoff?0:-100);}
if(doy>-1){month=1;day=doy;do{dim=this._getDaysInMonth(year,month-1);if(day<=dim){break;}
month++;day-=dim;}while(true);}
date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day){throw"Invalid date";}
return date;},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+
Math.floor(1970/400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date){return"";}
var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num;}}
return num;},formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value]);},output="",literal=false;if(date){for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{output+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getFullYear()%100<10?"0":"")+date.getFullYear()%100);break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'")){output+="'";}else{literal=true;}
break;default:output+=format.charAt(iFormat);}}}}
return output;},_possibleChars:function(format){var iFormat,chars="",literal=false,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{chars+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'";}else{literal=true;}
break;default:chars+=format.charAt(iFormat);}}}
return chars;},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name];},_setDateFromField:function(inst,noDefault){if(inst.input.val()===inst.lastVal){return;}
var dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate;}catch(event){dates=(noDefault?"":dates);}
inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst);},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date()));},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date;},offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst));}
catch(e){}
var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date(),year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;}
matches=pattern.exec(offset);}
return new Date(year,month,day);},newDate=(date==null||date===""?defaultDate:(typeof date==="string"?offsetString(date):(typeof date==="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()==="Invalid Date"?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0);}
return this._daylightSavingAdjust(newDate);},_daylightSavingAdjust:function(date){if(!date){return null;}
date.setHours(date.getHours()>12?date.getHours()+2:0);return date;},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!==inst.selectedMonth||origYear!==inst.selectedYear)&&!noChange){this._notifyChange(inst);}
this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst));}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()==="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate;},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){$.datepicker._adjustDate(id,-stepMonths,"M");},next:function(){$.datepicker._adjustDate(id,+stepMonths,"M");},hide:function(){$.datepicker._hideDatepicker();},today:function(){$.datepicker._gotoToday(id);},selectDay:function(){$.datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false;},selectMonth:function(){$.datepicker._selectMonthYear(id,this,"M");return false;},selectYear:function(){$.datepicker._selectMonthYear(id,this,"Y");return false;}};$(this).on(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")]);});},_generateHTML:function(inst){var maxDraw,prevText,prev,nextText,next,currentText,gotoDate,controls,buttonPanel,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,tempDate=new Date(),today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=(numMonths[0]!==1||numMonths[1]!==1),currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay))),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--;}
if(maxDate){maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--;}}}
inst.drawMonth=drawMonth;inst.drawYear=drawYear;prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+" title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>"));nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+" title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>"));currentText=this._get(inst,"currentText");gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));controls=(!inst.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+
this._get(inst,"closeText")+"</button>":"");buttonPanel=(showButtonPanel)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(isRTL?controls:"")+
(this._isInRange(inst,gotoDate)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+">"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);showWeek=this._get(inst,"showWeek");dayNames=this._get(inst,"dayNames");dayNamesMin=this._get(inst,"dayNamesMin");monthNames=this._get(inst,"monthNames");monthNamesShort=this._get(inst,"monthNamesShort");beforeShowDay=this._get(inst,"beforeShowDay");showOtherMonths=this._get(inst,"showOtherMonths");selectOtherMonths=this._get(inst,"selectOtherMonths");defaultDate=this._getDefaultDate(inst);html="";for(row=0;row<numMonths[0];row++){group="";this.maxRows=4;for(col=0;col<numMonths[1];col++){selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));cornerClass=" ui-corner-all";calender="";if(isMultiMonth){calender+="<div class='ui-datepicker-group";if(numMonths[1]>1){switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break;}}
calender+="'>";}
calender+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+cornerClass+"'>"+
(/all|left/.test(cornerClass)&&row===0?(isRTL?next:prev):"")+
(/all|right/.test(cornerClass)&&row===0?(isRTL?prev:next):"")+
this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";thead=(showWeek?"<th class='ui-datepicker-week-col'>"+this._get(inst,"weekHeader")+"</th>":"");for(dow=0;dow<7;dow++){day=(dow+firstDay)%7;thead+="<th scope='col'"+((dow+firstDay+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+dayNames[day]+"'>"+dayNamesMin[day]+"</span></th>";}
calender+=thead+"</tr></thead><tbody>";daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth);}
leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;curRows=Math.ceil((leadDays+daysInMonth)/7);numRows=(isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows);this.maxRows=numRows;printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(dRow=0;dRow<numRows;dRow++){calender+="<tr>";tbody=(!showWeek?"":"<td class='ui-datepicker-week-col'>"+
this._get(inst,"calculateWeek")(printDate)+"</td>");for(dow=0;dow<7;dow++){daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);otherMonth=(printDate.getMonth()!==drawMonth);unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+="<td class='"+
((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+
(otherMonth?" ui-datepicker-other-month":"")+
((printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime())?" "+this._dayOverClass:"")+
(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+
(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+
(printDate.getTime()===currentDate.getTime()?" "+this._currentClass:"")+
(printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+
((!otherMonth||showOtherMonths)&&daySettings[2]?" title='"+daySettings[2].replace(/'/g,"&#39;")+"'":"")+
(unselectable?"":" data-handler='selectDay' data-event='click' data-month='"+printDate.getMonth()+"' data-year='"+printDate.getFullYear()+"'")+">"+
(otherMonth&&!showOtherMonths?"&#xa0;":(unselectable?"<span class='ui-state-default'>"+printDate.getDate()+"</span>":"<a class='ui-state-default"+
(printDate.getTime()===today.getTime()?" ui-state-highlight":"")+
(printDate.getTime()===currentDate.getTime()?" ui-state-active":"")+
(otherMonth?" ui-priority-secondary":"")+"' href='#'>"+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate);}
calender+=tbody+"</tr>";}
drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++;}
calender+="</tbody></table>"+(isMultiMonth?"</div>"+
((numMonths[0]>0&&col===numMonths[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");group+=calender;}
html+=group;}
html+=buttonPanel;inst._keyEvent=false;return html;},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var inMinYear,inMaxYear,month,years,thisYear,determineYear,year,endYear,changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),html="<div class='ui-datepicker-title'>",monthHtml="";if(secondary||!changeMonth){monthHtml+="<span class='ui-datepicker-month'>"+monthNames[drawMonth]+"</span>";}else{inMinYear=(minDate&&minDate.getFullYear()===drawYear);inMaxYear=(maxDate&&maxDate.getFullYear()===drawYear);monthHtml+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+="<option value='"+month+"'"+
(month===drawMonth?" selected='selected'":"")+">"+monthNamesShort[month]+"</option>";}}
monthHtml+="</select>";}
if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"&#xa0;":"");}
if(!inst.yearshtml){inst.yearshtml="";if(secondary||!changeYear){html+="<span class='ui-datepicker-year'>"+drawYear+"</span>";}else{years=this._get(inst,"yearRange").split(":");thisYear=new Date().getFullYear();determineYear=function(value){var year=(value.match(/c[+\-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+\-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year);};year=determineYear(years[0]);endYear=Math.max(year,determineYear(years[1]||""));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;year<=endYear;year++){inst.yearshtml+="<option value='"+year+"'"+
(year===drawYear?" selected='selected'":"")+">"+year+"</option>";}
inst.yearshtml+="</select>";html+=inst.yearshtml;inst.yearshtml=null;}}
html+=this._get(inst,"yearSuffix");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")+monthHtml;}
html+="</div>";return html;},_adjustInstDate:function(inst,offset,period){var year=inst.selectedYear+(period==="Y"?offset:0),month=inst.selectedMonth+(period==="M"?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period==="D"?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period==="M"||period==="Y"){this._notifyChange(inst);}},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=(minDate&&date<minDate?minDate:date);return(maxDate&&newDate>maxDate?maxDate:newDate);},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst]);}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths==="number"?[1,numMonths]:numMonths));},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null);},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate();},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay();},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));}
return this._isInRange(inst,date);},_isInRange:function(inst,date){var yearSplit,currentYear,minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),minYear=null,maxYear=null,years=this._get(inst,"yearRange");if(years){yearSplit=years.split(":");currentYear=new Date().getFullYear();minYear=parseInt(yearSplit[0],10);maxYear=parseInt(yearSplit[1],10);if(yearSplit[0].match(/[+\-].*/)){minYear+=currentYear;}
if(yearSplit[1].match(/[+\-].*/)){maxYear+=currentYear;}}
return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())&&(!minYear||date.getFullYear()>=minYear)&&(!maxYear||date.getFullYear()<=maxYear));},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!=="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")};},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear;}
var date=(day?(typeof day==="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst));}});function datepicker_bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.on("mouseout",selector,function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).removeClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).removeClass("ui-datepicker-next-hover");}}).on("mouseover",selector,datepicker_handleMouseover);}
function datepicker_handleMouseover(){if(!$.datepicker._isDisabledDatepicker(datepicker_instActive.inline?datepicker_instActive.dpDiv.parent()[0]:datepicker_instActive.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).addClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).addClass("ui-datepicker-next-hover");}}}
function datepicker_extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null){target[name]=props[name];}}
return target;}
$.fn.datepicker=function(options){if(!this.length){return this;}
if(!$.datepicker.initialized){$(document).on("mousedown",$.datepicker._checkExternalClick);$.datepicker.initialized=true;}
if($("#"+$.datepicker._mainDivId).length===0){$("body").append($.datepicker.dpDiv);}
var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options==="string"&&(options==="isDisabled"||options==="getDate"||options==="widget")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
if(options==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
return this.each(function(){typeof options==="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options);});};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.12.1";var widgetsDatepicker=$.datepicker;$.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:true,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:true,closeText:"Close",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(pos){var topOffset=$(this).css(pos).offset().top;if(topOffset<0){$(this).css("top",pos.top-topOffset);}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions:{maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");if(this.options.title==null&&this.originalTitle!=null){this.options.title=this.originalTitle;}
if(this.options.disabled){this.options.disabled=false;}
this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();if(this.options.draggable&&$.fn.draggable){this._makeDraggable();}
if(this.options.resizable&&$.fn.resizable){this._makeResizable();}
this._isOpen=false;this._trackFocus();},_init:function(){if(this.options.autoOpen){this.open();}},_appendTo:function(){var element=this.options.appendTo;if(element&&(element.jquery||element.nodeType)){return $(element);}
return this.document.find(element||"body").eq(0);},_destroy:function(){var next,originalPosition=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();if(this.originalTitle){this.element.attr("title",this.originalTitle);}
next=originalPosition.parent.children().eq(originalPosition.index);if(next.length&&next[0]!==this.element[0]){next.before(this.element);}else{originalPosition.parent.append(this.element);}},widget:function(){return this.uiDialog;},disable:$.noop,enable:$.noop,close:function(event){var that=this;if(!this._isOpen||this._trigger("beforeClose",event)===false){return;}
this._isOpen=false;this._focusedElement=null;this._destroyOverlay();this._untrackInstance();if(!this.opener.filter(":focusable").trigger("focus").length){$.ui.safeBlur($.ui.safeActiveElement(this.document[0]));}
this._hide(this.uiDialog,this.options.hide,function(){that._trigger("close",event);});},isOpen:function(){return this._isOpen;},moveToTop:function(){this._moveToTop();},_moveToTop:function(event,silent){var moved=false,zIndices=this.uiDialog.siblings(".ui-front:visible").map(function(){return+$(this).css("z-index");}).get(),zIndexMax=Math.max.apply(null,zIndices);if(zIndexMax>=+this.uiDialog.css("z-index")){this.uiDialog.css("z-index",zIndexMax+1);moved=true;}
if(moved&&!silent){this._trigger("focus",event);}
return moved;},open:function(){var that=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable();}
return;}
this._isOpen=true;this.opener=$($.ui.safeActiveElement(this.document[0]));this._size();this._position();this._createOverlay();this._moveToTop(null,true);if(this.overlay){this.overlay.css("z-index",this.uiDialog.css("z-index")-1);}
this._show(this.uiDialog,this.options.show,function(){that._focusTabbable();that._trigger("focus");});this._makeFocusTarget();this._trigger("open");},_focusTabbable:function(){var hasFocus=this._focusedElement;if(!hasFocus){hasFocus=this.element.find("[autofocus]");}
if(!hasFocus.length){hasFocus=this.element.find(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialogButtonPane.find(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialogTitlebarClose.filter(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialog;}
hasFocus.eq(0).trigger("focus");},_keepFocus:function(event){function checkFocus(){var activeElement=$.ui.safeActiveElement(this.document[0]),isActive=this.uiDialog[0]===activeElement||$.contains(this.uiDialog[0],activeElement);if(!isActive){this._focusTabbable();}}
event.preventDefault();checkFocus.call(this);this._delay(checkFocus);},_createWrapper:function(){this.uiDialog=$("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");this._on(this.uiDialog,{keydown:function(event){if(this.options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){event.preventDefault();this.close(event);return;}
if(event.keyCode!==$.ui.keyCode.TAB||event.isDefaultPrevented()){return;}
var tabbables=this.uiDialog.find(":tabbable"),first=tabbables.filter(":first"),last=tabbables.filter(":last");if((event.target===last[0]||event.target===this.uiDialog[0])&&!event.shiftKey){this._delay(function(){first.trigger("focus");});event.preventDefault();}else if((event.target===first[0]||event.target===this.uiDialog[0])&&event.shiftKey){this._delay(function(){last.trigger("focus");});event.preventDefault();}},mousedown:function(event){if(this._moveToTop(event)){this._focusTabbable();}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")});}},_createTitlebar:function(){var uiDialogTitle;this.uiDialogTitlebar=$("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix");this._on(this.uiDialogTitlebar,{mousedown:function(event){if(!$(event.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.trigger("focus");}}});this.uiDialogTitlebarClose=$("<button type='button'></button>").button({label:$("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:false}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close");this._on(this.uiDialogTitlebarClose,{click:function(event){event.preventDefault();this.close(event);}});uiDialogTitle=$("<span>").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(uiDialogTitle,"ui-dialog-title");this._title(uiDialogTitle);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":uiDialogTitle.attr("id")});},_title:function(title){if(this.options.title){title.text(this.options.title);}else{title.html("&#160;");}},_createButtonPane:function(){this.uiDialogButtonPane=$("<div>");this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix");this.uiButtonSet=$("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");this._createButtons();},_createButtons:function(){var that=this,buttons=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if($.isEmptyObject(buttons)||($.isArray(buttons)&&!buttons.length)){this._removeClass(this.uiDialog,"ui-dialog-buttons");return;}
$.each(buttons,function(name,props){var click,buttonOptions;props=$.isFunction(props)?{click:props,text:name}:props;props=$.extend({type:"button"},props);click=props.click;buttonOptions={icon:props.icon,iconPosition:props.iconPosition,showLabel:props.showLabel,icons:props.icons,text:props.text};delete props.click;delete props.icon;delete props.iconPosition;delete props.showLabel;delete props.icons;if(typeof props.text==="boolean"){delete props.text;}
$("<button></button>",props).button(buttonOptions).appendTo(that.uiButtonSet).on("click",function(){click.apply(that.element[0],arguments);});});this._addClass(this.uiDialog,"ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog);},_makeDraggable:function(){var that=this,options=this.options;function filteredUi(ui){return{position:ui.position,offset:ui.offset};}
this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(event,ui){that._addClass($(this),"ui-dialog-dragging");that._blockFrames();that._trigger("dragStart",event,filteredUi(ui));},drag:function(event,ui){that._trigger("drag",event,filteredUi(ui));},stop:function(event,ui){var left=ui.offset.left-that.document.scrollLeft(),top=ui.offset.top-that.document.scrollTop();options.position={my:"left top",at:"left"+(left>=0?"+":"")+left+" "+"top"+(top>=0?"+":"")+top,of:that.window};that._removeClass($(this),"ui-dialog-dragging");that._unblockFrames();that._trigger("dragStop",event,filteredUi(ui));}});},_makeResizable:function(){var that=this,options=this.options,handles=options.resizable,position=this.uiDialog.css("position"),resizeHandles=typeof handles==="string"?handles:"n,e,s,w,se,sw,ne,nw";function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size};}
this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:this._minHeight(),handles:resizeHandles,start:function(event,ui){that._addClass($(this),"ui-dialog-resizing");that._blockFrames();that._trigger("resizeStart",event,filteredUi(ui));},resize:function(event,ui){that._trigger("resize",event,filteredUi(ui));},stop:function(event,ui){var offset=that.uiDialog.offset(),left=offset.left-that.document.scrollLeft(),top=offset.top-that.document.scrollTop();options.height=that.uiDialog.height();options.width=that.uiDialog.width();options.position={my:"left top",at:"left"+(left>=0?"+":"")+left+" "+"top"+(top>=0?"+":"")+top,of:that.window};that._removeClass($(this),"ui-dialog-resizing");that._unblockFrames();that._trigger("resizeStop",event,filteredUi(ui));}}).css("position",position);},_trackFocus:function(){this._on(this.widget(),{focusin:function(event){this._makeFocusTarget();this._focusedElement=$(event.target);}});},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this);},_untrackInstance:function(){var instances=this._trackingInstances(),exists=$.inArray(this,instances);if(exists!==-1){instances.splice(exists,1);}},_trackingInstances:function(){var instances=this.document.data("ui-dialog-instances");if(!instances){instances=[];this.document.data("ui-dialog-instances",instances);}
return instances;},_minHeight:function(){var options=this.options;return options.height==="auto"?options.minHeight:Math.min(options.minHeight,options.height);},_position:function(){var isVisible=this.uiDialog.is(":visible");if(!isVisible){this.uiDialog.show();}
this.uiDialog.position(this.options.position);if(!isVisible){this.uiDialog.hide();}},_setOptions:function(options){var that=this,resize=false,resizableOptions={};$.each(options,function(key,value){that._setOption(key,value);if(key in that.sizeRelatedOptions){resize=true;}
if(key in that.resizableRelatedOptions){resizableOptions[key]=value;}});if(resize){this._size();this._position();}
if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",resizableOptions);}},_setOption:function(key,value){var isDraggable,isResizable,uiDialog=this.uiDialog;if(key==="disabled"){return;}
this._super(key,value);if(key==="appendTo"){this.uiDialog.appendTo(this._appendTo());}
if(key==="buttons"){this._createButtons();}
if(key==="closeText"){this.uiDialogTitlebarClose.button({label:$("<a>").text(""+this.options.closeText).html()});}
if(key==="draggable"){isDraggable=uiDialog.is(":data(ui-draggable)");if(isDraggable&&!value){uiDialog.draggable("destroy");}
if(!isDraggable&&value){this._makeDraggable();}}
if(key==="position"){this._position();}
if(key==="resizable"){isResizable=uiDialog.is(":data(ui-resizable)");if(isResizable&&!value){uiDialog.resizable("destroy");}
if(isResizable&&typeof value==="string"){uiDialog.resizable("option","handles",value);}
if(!isResizable&&value!==false){this._makeResizable();}}
if(key==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"));}},_size:function(){var nonContentHeight,minContentHeight,maxContentHeight,options=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(options.minWidth>options.width){options.width=options.minWidth;}
nonContentHeight=this.uiDialog.css({height:"auto",width:options.width}).outerHeight();minContentHeight=Math.max(0,options.minHeight-nonContentHeight);maxContentHeight=typeof options.maxHeight==="number"?Math.max(0,options.maxHeight-nonContentHeight):"none";if(options.height==="auto"){this.element.css({minHeight:minContentHeight,maxHeight:maxContentHeight,height:"auto"});}else{this.element.height(Math.max(0,options.height-nonContentHeight));}
if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight());}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var iframe=$(this);return $("<div>").css({position:"absolute",width:iframe.outerWidth(),height:iframe.outerHeight()}).appendTo(iframe.parent()).offset(iframe.offset())[0];});},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks;}},_allowInteraction:function(event){if($(event.target).closest(".ui-dialog").length){return true;}
return!!$(event.target).closest(".ui-datepicker").length;},_createOverlay:function(){if(!this.options.modal){return;}
var isOpening=true;this._delay(function(){isOpening=false;});if(!this.document.data("ui-dialog-overlays")){this._on(this.document,{focusin:function(event){if(isOpening){return;}
if(!this._allowInteraction(event)){event.preventDefault();this._trackingInstances()[0]._focusTabbable();}}});}
this.overlay=$("<div>").appendTo(this._appendTo());this._addClass(this.overlay,null,"ui-widget-overlay ui-front");this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1);},_destroyOverlay:function(){if(!this.options.modal){return;}
if(this.overlay){var overlays=this.document.data("ui-dialog-overlays")-1;if(!overlays){this._off(this.document,"focusin");this.document.removeData("ui-dialog-overlays");}else{this.document.data("ui-dialog-overlays",overlays);}
this.overlay.remove();this.overlay=null;}}});if($.uiBackCompat!==false){$.widget("ui.dialog",$.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass);},_setOption:function(key,value){if(key==="dialogClass"){this.uiDialog.removeClass(this.options.dialogClass).addClass(value);}
this._superApply(arguments);}});}
var widgetsDialog=$.ui.dialog;var widgetsProgressbar=$.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:"progressbar","aria-valuemin":this.min});this._addClass("ui-progressbar","ui-widget ui-widget-content");this.valueDiv=$("<div>").appendTo(this.element);this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header");this._refreshValue();},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");this.valueDiv.remove();},value:function(newValue){if(newValue===undefined){return this.options.value;}
this.options.value=this._constrainedValue(newValue);this._refreshValue();},_constrainedValue:function(newValue){if(newValue===undefined){newValue=this.options.value;}
this.indeterminate=newValue===false;if(typeof newValue!=="number"){newValue=0;}
return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,newValue));},_setOptions:function(options){var value=options.value;delete options.value;this._super(options);this.options.value=this._constrainedValue(value);this._refreshValue();},_setOption:function(key,value){if(key==="max"){value=Math.max(this.min,value);}
this._super(key,value);},_setOptionDisabled:function(value){this._super(value);this.element.attr("aria-disabled",value);this._toggleClass(null,"ui-state-disabled",!!value);},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min);},_refreshValue:function(){var value=this.options.value,percentage=this._percentage();this.valueDiv.toggle(this.indeterminate||value>this.min).width(percentage.toFixed(0)+"%");this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,value===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=$("<div>").appendTo(this.valueDiv);this._addClass(this.overlayDiv,"ui-progressbar-overlay");}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":value});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null;}}
if(this.oldValue!==value){this.oldValue=value;this._trigger("change");}
if(value===this.options.max){this._trigger("complete");}}});var widgetsSelectmenu=$.widget("ui.selectmenu",[$.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:false,change:null,close:null,focus:null,open:null,select:null},_create:function(){var selectmenuId=this.element.uniqueId().attr("id");this.ids={element:selectmenuId,button:selectmenuId+"-button",menu:selectmenuId+"-menu"};this._drawButton();this._drawMenu();this._bindFormResetHandler();this._rendered=false;this.menuItems=$();},_drawButton:function(){var icon,that=this,item=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button);this._on(this.labels,{click:function(event){this.button.focus();event.preventDefault();}});this.element.hide();this.button=$("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element);this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget");icon=$("<span>").appendTo(this.button);this._addClass(icon,"ui-selectmenu-icon","ui-icon "+this.options.icons.button);this.buttonItem=this._renderButtonItem(item).appendTo(this.button);if(this.options.width!==false){this._resizeButton();}
this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){if(!that._rendered){that._refreshMenu();}});},_drawMenu:function(){var that=this;this.menu=$("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=$("<div>").append(this.menu);this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front");this.menuWrap.appendTo(this._appendTo());this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(event,ui){event.preventDefault();that._setSelection();that._select(ui.item.data("ui-selectmenu-item"),event);},focus:function(event,ui){var item=ui.item.data("ui-selectmenu-item");if(that.focusIndex!=null&&item.index!==that.focusIndex){that._trigger("focus",event,{item:item});if(!that.isOpen){that._select(item,event);}}
that.focusIndex=item.index;that.button.attr("aria-activedescendant",that.menuItems.eq(item.index).attr("id"));}}).menu("instance");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return false;};this.menuInstance._isDivider=function(){return false;};},refresh:function(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{}));if(this.options.width===null){this._resizeButton();}},_refreshMenu:function(){var item,options=this.element.find("option");this.menu.empty();this._parseOptions(options);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");this._rendered=true;if(!options.length){return;}
item=this._getSelectedItem();this.menuInstance.focus(null,item);this._setAria(item.data("ui-selectmenu-item"));this._setOption("disabled",this.element.prop("disabled"));},open:function(event){if(this.options.disabled){return;}
if(!this._rendered){this._refreshMenu();}else{this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active");this.menuInstance.focus(null,this._getSelectedItem());}
if(!this.menuItems.length){return;}
this.isOpen=true;this._toggleAttr();this._resizeMenu();this._position();this._on(this.document,this._documentClick);this._trigger("open",event);},_position:function(){this.menuWrap.position($.extend({of:this.button},this.options.position));},close:function(event){if(!this.isOpen){return;}
this.isOpen=false;this._toggleAttr();this.range=null;this._off(this.document);this._trigger("close",event);},widget:function(){return this.button;},menuWidget:function(){return this.menu;},_renderButtonItem:function(item){var buttonItem=$("<span>");this._setText(buttonItem,item.label);this._addClass(buttonItem,"ui-selectmenu-text");return buttonItem;},_renderMenu:function(ul,items){var that=this,currentOptgroup="";$.each(items,function(index,item){var li;if(item.optgroup!==currentOptgroup){li=$("<li>",{text:item.optgroup});that._addClass(li,"ui-selectmenu-optgroup","ui-menu-divider"+
(item.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""));li.appendTo(ul);currentOptgroup=item.optgroup;}
that._renderItemData(ul,item);});},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-selectmenu-item",item);},_renderItem:function(ul,item){var li=$("<li>"),wrapper=$("<div>",{title:item.element.attr("title")});if(item.disabled){this._addClass(li,null,"ui-state-disabled");}
this._setText(wrapper,item.label);return li.append(wrapper).appendTo(ul);},_setText:function(element,value){if(value){element.text(value);}else{element.html("&#160;");}},_move:function(direction,event){var item,next,filter=".ui-menu-item";if(this.isOpen){item=this.menuItems.eq(this.focusIndex).parent("li");}else{item=this.menuItems.eq(this.element[0].selectedIndex).parent("li");filter+=":not(.ui-state-disabled)";}
if(direction==="first"||direction==="last"){next=item[direction==="first"?"prevAll":"nextAll"](filter).eq(-1);}else{next=item[direction+"All"](filter).eq(0);}
if(next.length){this.menuInstance.focus(event,next);}},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li");},_toggle:function(event){this[this.isOpen?"close":"open"](event);},_setSelection:function(){var selection;if(!this.range){return;}
if(window.getSelection){selection=window.getSelection();selection.removeAllRanges();selection.addRange(this.range);}else{this.range.select();}
this.button.focus();},_documentClick:{mousedown:function(event){if(!this.isOpen){return;}
if(!$(event.target).closest(".ui-selectmenu-menu, #"+
$.ui.escapeSelector(this.ids.button)).length){this.close(event);}}},_buttonEvents:{mousedown:function(){var selection;if(window.getSelection){selection=window.getSelection();if(selection.rangeCount){this.range=selection.getRangeAt(0);}}else{this.range=document.selection.createRange();}},click:function(event){this._setSelection();this._toggle(event);},keydown:function(event){var preventDefault=true;switch(event.keyCode){case $.ui.keyCode.TAB:case $.ui.keyCode.ESCAPE:this.close(event);preventDefault=false;break;case $.ui.keyCode.ENTER:if(this.isOpen){this._selectFocusedItem(event);}
break;case $.ui.keyCode.UP:if(event.altKey){this._toggle(event);}else{this._move("prev",event);}
break;case $.ui.keyCode.DOWN:if(event.altKey){this._toggle(event);}else{this._move("next",event);}
break;case $.ui.keyCode.SPACE:if(this.isOpen){this._selectFocusedItem(event);}else{this._toggle(event);}
break;case $.ui.keyCode.LEFT:this._move("prev",event);break;case $.ui.keyCode.RIGHT:this._move("next",event);break;case $.ui.keyCode.HOME:case $.ui.keyCode.PAGE_UP:this._move("first",event);break;case $.ui.keyCode.END:case $.ui.keyCode.PAGE_DOWN:this._move("last",event);break;default:this.menu.trigger(event);preventDefault=false;}
if(preventDefault){event.preventDefault();}}},_selectFocusedItem:function(event){var item=this.menuItems.eq(this.focusIndex).parent("li");if(!item.hasClass("ui-state-disabled")){this._select(item.data("ui-selectmenu-item"),event);}},_select:function(item,event){var oldIndex=this.element[0].selectedIndex;this.element[0].selectedIndex=item.index;this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(item));this._setAria(item);this._trigger("select",event,{item:item});if(item.index!==oldIndex){this._trigger("change",event,{item:item});}
this.close(event);},_setAria:function(item){var id=this.menuItems.eq(item.index).attr("id");this.button.attr({"aria-labelledby":id,"aria-activedescendant":id});this.menu.attr("aria-activedescendant",id);},_setOption:function(key,value){if(key==="icons"){var icon=this.button.find("span.ui-icon");this._removeClass(icon,null,this.options.icons.button)._addClass(icon,null,value.button);}
this._super(key,value);if(key==="appendTo"){this.menuWrap.appendTo(this._appendTo());}
if(key==="width"){this._resizeButton();}},_setOptionDisabled:function(value){this._super(value);this.menuInstance.option("disabled",value);this.button.attr("aria-disabled",value);this._toggleClass(this.button,null,"ui-state-disabled",value);this.element.prop("disabled",value);if(value){this.button.attr("tabindex",-1);this.close();}else{this.button.attr("tabindex",0);}},_appendTo:function(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0);}
if(!element||!element[0]){element=this.element.closest(".ui-front, dialog");}
if(!element.length){element=this.document[0].body;}
return element;},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen);this._removeClass(this.button,"ui-selectmenu-button-"+
(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+
(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen);this.menu.attr("aria-hidden",!this.isOpen);},_resizeButton:function(){var width=this.options.width;if(width===false){this.button.css("width","");return;}
if(width===null){width=this.element.show().outerWidth();this.element.hide();}
this.button.outerWidth(width);},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1));},_getCreateOptions:function(){var options=this._super();options.disabled=this.element.prop("disabled");return options;},_parseOptions:function(options){var that=this,data=[];options.each(function(index,item){data.push(that._parseOption($(item),index));});this.items=data;},_parseOption:function(option,index){var optgroup=option.parent("optgroup");return{element:option,index:index,value:option.val(),label:option.text(),optgroup:optgroup.attr("label")||"",disabled:optgroup.prop("disabled")||option.prop("disabled")};},_destroy:function(){this._unbindFormResetHandler();this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr("for",this.ids.element);}}]);var widgetsSlider=$.widget("ui.slider",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:false,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=false;},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue();},_createHandles:function(){var i,handleCount,options=this.options,existingHandles=this.element.find(".ui-slider-handle"),handle="<span tabindex='0'></span>",handles=[];handleCount=(options.values&&options.values.length)||1;if(existingHandles.length>handleCount){existingHandles.slice(handleCount).remove();existingHandles=existingHandles.slice(0,handleCount);}
for(i=existingHandles.length;i<handleCount;i++){handles.push(handle);}
this.handles=existingHandles.add($(handles.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(i){$(this).data("ui-slider-handle-index",i).attr("tabIndex",0);});},_createRange:function(){var options=this.options;if(options.range){if(options.range===true){if(!options.values){options.values=[this._valueMin(),this._valueMin()];}else if(options.values.length&&options.values.length!==2){options.values=[options.values[0],options.values[0]];}else if($.isArray(options.values)){options.values=options.values.slice(0);}}
if(!this.range||!this.range.length){this.range=$("<div>").appendTo(this.element);this._addClass(this.range,"ui-slider-range");}else{this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max");this.range.css({"left":"","bottom":""});}
if(options.range==="min"||options.range==="max"){this._addClass(this.range,"ui-slider-range-"+options.range);}}else{if(this.range){this.range.remove();}
this.range=null;}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles);},_destroy:function(){this.handles.remove();if(this.range){this.range.remove();}
this._mouseDestroy();},_mouseCapture:function(event){var position,normValue,distance,closestHandle,index,allowed,offset,mouseOverHandle,that=this,o=this.options;if(o.disabled){return false;}
this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);distance=this._valueMax()-this._valueMin()+1;this.handles.each(function(i){var thisDistance=Math.abs(normValue-that.values(i));if((distance>thisDistance)||(distance===thisDistance&&(i===that._lastChangedValue||that.values(i)===o.min))){distance=thisDistance;closestHandle=$(this);index=i;}});allowed=this._start(event,index);if(allowed===false){return false;}
this._mouseSliding=true;this._handleIndex=index;this._addClass(closestHandle,null,"ui-state-active");closestHandle.trigger("focus");offset=closestHandle.offset();mouseOverHandle=!$(event.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-(closestHandle.width()/2),top:event.pageY-offset.top-
(closestHandle.height()/2)-
(parseInt(closestHandle.css("borderTopWidth"),10)||0)-
(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+
(parseInt(closestHandle.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(event,index,normValue);}
this._animateOff=true;return true;},_mouseStart:function(){return true;},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return false;},_mouseStop:function(event){this._removeClass(this.handles,null,"ui-state-active");this._mouseSliding=false;this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false;},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal";},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation==="horizontal"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-
(this._clickOffset?this._clickOffset.left:0);}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-
(this._clickOffset?this._clickOffset.top:0);}
percentMouse=(pixelMouse/pixelTotal);if(percentMouse>1){percentMouse=1;}
if(percentMouse<0){percentMouse=0;}
if(this.orientation==="vertical"){percentMouse=1-percentMouse;}
valueTotal=this._valueMax()-this._valueMin();valueMouse=this._valueMin()+percentMouse*valueTotal;return this._trimAlignValue(valueMouse);},_uiHash:function(index,value,values){var uiHash={handle:this.handles[index],handleIndex:index,value:value!==undefined?value:this.value()};if(this._hasMultipleValues()){uiHash.value=value!==undefined?value:this.values(index);uiHash.values=values||this.values();}
return uiHash;},_hasMultipleValues:function(){return this.options.values&&this.options.values.length;},_start:function(event,index){return this._trigger("start",event,this._uiHash(index));},_slide:function(event,index,newVal){var allowed,otherVal,currentValue=this.value(),newValues=this.values();if(this._hasMultipleValues()){otherVal=this.values(index?0:1);currentValue=this.values(index);if(this.options.values.length===2&&this.options.range===true){newVal=index===0?Math.min(otherVal,newVal):Math.max(otherVal,newVal);}
newValues[index]=newVal;}
if(newVal===currentValue){return;}
allowed=this._trigger("slide",event,this._uiHash(index,newVal,newValues));if(allowed===false){return;}
if(this._hasMultipleValues()){this.values(index,newVal);}else{this.value(newVal);}},_stop:function(event,index){this._trigger("stop",event,this._uiHash(index));},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){this._lastChangedValue=index;this._trigger("change",event,this._uiHash(index));}},value:function(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue);this._refreshValue();this._change(null,0);return;}
return this._value();},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue);this._refreshValue();this._change(null,index);return;}
if(arguments.length){if($.isArray(arguments[0])){vals=this.options.values;newValues=arguments[0];for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(newValues[i]);this._change(null,i);}
this._refreshValue();}else{if(this._hasMultipleValues()){return this._values(index);}else{return this.value();}}}else{return this._values();}},_setOption:function(key,value){var i,valsLength=0;if(key==="range"&&this.options.range===true){if(value==="min"){this.options.value=this._values(0);this.options.values=null;}else if(value==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null;}}
if($.isArray(this.options.values)){valsLength=this.options.values.length;}
this._super(key,value);switch(key){case"orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();if(this.options.range){this._refreshRange(value);}
this.handles.css(value==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(i=valsLength-1;i>=0;i--){this._change(null,i);}
this._animateOff=false;break;case"step":case"min":case"max":this._animateOff=true;this._calculateNewMax();this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break;}},_setOptionDisabled:function(value){this._super(value);this._toggleClass(null,"ui-state-disabled",!!value);},_value:function(){var val=this.options.value;val=this._trimAlignValue(val);return val;},_values:function(index){var val,vals,i;if(arguments.length){val=this.options.values[index];val=this._trimAlignValue(val);return val;}else if(this._hasMultipleValues()){vals=this.options.values.slice();for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(vals[i]);}
return vals;}else{return[];}},_trimAlignValue:function(val){if(val<=this._valueMin()){return this._valueMin();}
if(val>=this._valueMax()){return this._valueMax();}
var step=(this.options.step>0)?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step){alignValue+=(valModStep>0)?step:(-step);}
return parseFloat(alignValue.toFixed(5));},_calculateNewMax:function(){var max=this.options.max,min=this._valueMin(),step=this.options.step,aboveMin=Math.round((max-min)/step)*step;max=aboveMin+min;if(max>this.options.max){max-=step;}
this.max=parseFloat(max.toFixed(this._precision()));},_precision:function(){var precision=this._precisionOf(this.options.step);if(this.options.min!==null){precision=Math.max(precision,this._precisionOf(this.options.min));}
return precision;},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(".");return decimal===-1?0:str.length-decimal-1;},_valueMin:function(){return this.options.min;},_valueMax:function(){return this.max;},_refreshRange:function(orientation){if(orientation==="vertical"){this.range.css({"width":"","left":""});}
if(orientation==="horizontal"){this.range.css({"height":"","bottom":""});}},_refreshValue:function(){var lastValPercent,valPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,that=this,animate=(!this._animateOff)?o.animate:false,_set={};if(this._hasMultipleValues()){this.handles.each(function(i){valPercent=(that.values(i)-that._valueMin())/(that._valueMax()-
that._valueMin())*100;_set[that.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate);if(that.options.range===true){if(that.orientation==="horizontal"){if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate);}
if(i===1){that.range[animate?"animate":"css"]({width:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}else{if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({bottom:(valPercent)+"%"},o.animate);}
if(i===1){that.range[animate?"animate":"css"]({height:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}}
lastValPercent=valPercent;});}else{value=this.value();valueMin=this._valueMin();valueMax=this._valueMax();valPercent=(valueMax!==valueMin)?(value-valueMin)/(valueMax-valueMin)*100:0;_set[this.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate);if(oRange==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate);}
if(oRange==="max"&&this.orientation==="horizontal"){this.range.stop(1,1)[animate?"animate":"css"]({width:(100-valPercent)+"%"},o.animate);}
if(oRange==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate);}
if(oRange==="max"&&this.orientation==="vertical"){this.range.stop(1,1)[animate?"animate":"css"]({height:(100-valPercent)+"%"},o.animate);}}},_handleEvents:{keydown:function(event){var allowed,curVal,newVal,step,index=$(event.target).data("ui-slider-handle-index");switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:event.preventDefault();if(!this._keySliding){this._keySliding=true;this._addClass($(event.target),null,"ui-state-active");allowed=this._start(event,index);if(allowed===false){return;}}
break;}
step=this.options.step;if(this._hasMultipleValues()){curVal=newVal=this.values(index);}else{curVal=newVal=this.value();}
switch(event.keyCode){case $.ui.keyCode.HOME:newVal=this._valueMin();break;case $.ui.keyCode.END:newVal=this._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=this._trimAlignValue(curVal+((this._valueMax()-this._valueMin())/this.numPages));break;case $.ui.keyCode.PAGE_DOWN:newVal=this._trimAlignValue(curVal-((this._valueMax()-this._valueMin())/this.numPages));break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===this._valueMax()){return;}
newVal=this._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===this._valueMin()){return;}
newVal=this._trimAlignValue(curVal-step);break;}
this._slide(event,index,newVal);},keyup:function(event){var index=$(event.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(event,index);this._change(event,index);this._removeClass($(event.target),null,"ui-state-active");}}}});function spinnerModifer(fn){return function(){var previous=this.element.val();fn.apply(this,arguments);this._refresh();if(previous!==this.element.val()){this._trigger("change");}};}
$.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);if(this.value()!==""){this._value(this.element.val(),true);}
this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");}});},_getCreateOptions:function(){var options=this._super();var element=this.element;$.each(["min","max","step"],function(i,option){var value=element.attr(option);if(value!=null&&value.length){options[option]=value;}});return options;},_events:{keydown:function(event){if(this._start(event)&&this._keydown(event)){event.preventDefault();}},keyup:"_stop",focus:function(){this.previous=this.element.val();},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return;}
this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",event);}},mousewheel:function(event,delta){if(!delta){return;}
if(!this.spinning&&!this._start(event)){return false;}
this._spin((delta>0?1:-1)*this.options.step,event);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(event);}},100);event.preventDefault();},"mousedown .ui-spinner-button":function(event){var previous;previous=this.element[0]===$.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function checkFocus(){var isActive=this.element[0]===$.ui.safeActiveElement(this.document[0]);if(!isActive){this.element.trigger("focus");this.previous=previous;this._delay(function(){this.previous=previous;});}}
event.preventDefault();checkFocus.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;checkFocus.call(this);});if(this._start(event)===false){return;}
this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event);},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(event){if(!$(event.currentTarget).hasClass("ui-state-active")){return;}
if(this._start(event)===false){return false;}
this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event);},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>");},_draw:function(){this._enhance();this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content");this._addClass("ui-spinner-input");this.element.attr("role","spinbutton");this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",true).button({classes:{"ui-button":""}});this._removeClass(this.buttons,"ui-corner-all");this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up");this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down");this.buttons.first().button({"icon":this.options.icons.up,"showLabel":false});this.buttons.last().button({"icon":this.options.icons.down,"showLabel":false});if(this.buttons.height()>Math.ceil(this.uiSpinner.height()*0.5)&&this.uiSpinner.height()>0){this.uiSpinner.height(this.uiSpinner.height());}},_keydown:function(event){var options=this.options,keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.UP:this._repeat(null,1,event);return true;case keyCode.DOWN:this._repeat(null,-1,event);return true;case keyCode.PAGE_UP:this._repeat(null,options.page,event);return true;case keyCode.PAGE_DOWN:this._repeat(null,-options.page,event);return true;}
return false;},_start:function(event){if(!this.spinning&&this._trigger("start",event)===false){return false;}
if(!this.counter){this.counter=1;}
this.spinning=true;return true;},_repeat:function(i,steps,event){i=i||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,steps,event);},i);this._spin(steps*this.options.step,event);},_spin:function(step,event){var value=this.value()||0;if(!this.counter){this.counter=1;}
value=this._adjustValue(value+step*this._increment(this.counter));if(!this.spinning||this._trigger("spin",event,{value:value})!==false){this._value(value);this.counter++;}},_increment:function(i){var incremental=this.options.incremental;if(incremental){return $.isFunction(incremental)?incremental(i):Math.floor(i*i*i/50000-i*i/500+17*i/200+1);}
return 1;},_precision:function(){var precision=this._precisionOf(this.options.step);if(this.options.min!==null){precision=Math.max(precision,this._precisionOf(this.options.min));}
return precision;},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(".");return decimal===-1?0:str.length-decimal-1;},_adjustValue:function(value){var base,aboveMin,options=this.options;base=options.min!==null?options.min:0;aboveMin=value-base;aboveMin=Math.round(aboveMin/options.step)*options.step;value=base+aboveMin;value=parseFloat(value.toFixed(this._precision()));if(options.max!==null&&value>options.max){return options.max;}
if(options.min!==null&&value<options.min){return options.min;}
return value;},_stop:function(event){if(!this.spinning){return;}
clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",event);},_setOption:function(key,value){var prevValue,first,last;if(key==="culture"||key==="numberFormat"){prevValue=this._parse(this.element.val());this.options[key]=value;this.element.val(this._format(prevValue));return;}
if(key==="max"||key==="min"||key==="step"){if(typeof value==="string"){value=this._parse(value);}}
if(key==="icons"){first=this.buttons.first().find(".ui-icon");this._removeClass(first,null,this.options.icons.up);this._addClass(first,null,value.up);last=this.buttons.last().find(".ui-icon");this._removeClass(last,null,this.options.icons.down);this._addClass(last,null,value.down);}
this._super(key,value);},_setOptionDisabled:function(value){this._super(value);this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!value);this.element.prop("disabled",!!value);this.buttons.button(value?"disable":"enable");},_setOptions:spinnerModifer(function(options){this._super(options);}),_parse:function(val){if(typeof val==="string"&&val!==""){val=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(val,10,this.options.culture):+val;}
return val===""||isNaN(val)?null:val;},_format:function(value){if(value===""){return"";}
return window.Globalize&&this.options.numberFormat?Globalize.format(value,this.options.numberFormat,this.options.culture):value;},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())});},isValid:function(){var value=this.value();if(value===null){return false;}
return value===this._adjustValue(value);},_value:function(value,allowAny){var parsed;if(value!==""){parsed=this._parse(value);if(parsed!==null){if(!allowAny){parsed=this._adjustValue(parsed);}
value=this._format(parsed);}}
this.element.val(value);this._refresh();},_destroy:function(){this.element.prop("disabled",false).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow");this.uiSpinner.replaceWith(this.element);},stepUp:spinnerModifer(function(steps){this._stepUp(steps);}),_stepUp:function(steps){if(this._start()){this._spin((steps||1)*this.options.step);this._stop();}},stepDown:spinnerModifer(function(steps){this._stepDown(steps);}),_stepDown:function(steps){if(this._start()){this._spin((steps||1)*-this.options.step);this._stop();}},pageUp:spinnerModifer(function(pages){this._stepUp((pages||1)*this.options.page);}),pageDown:spinnerModifer(function(pages){this._stepDown((pages||1)*this.options.page);}),value:function(newVal){if(!arguments.length){return this._parse(this.element.val());}
spinnerModifer(this._value).call(this,newVal);},widget:function(){return this.uiSpinner;}});if($.uiBackCompat!==false){$.widget("ui.spinner",$.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());},_uiSpinnerHtml:function(){return"<span>";},_buttonHtml:function(){return"<a></a><a></a>";}});}
var widgetsSpinner=$.ui.spinner;$.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(function(){var rhash=/#.*$/;return function(anchor){var anchorUrl,locationUrl;anchorUrl=anchor.href.replace(rhash,"");locationUrl=location.href.replace(rhash,"");try{anchorUrl=decodeURIComponent(anchorUrl);}catch(error){}
try{locationUrl=decodeURIComponent(locationUrl);}catch(error){}
return anchor.hash.length>1&&anchorUrl===locationUrl;};})(),_create:function(){var that=this,options=this.options;this.running=false;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,options.collapsible);this._processTabs();options.active=this._initialActive();if($.isArray(options.disabled)){options.disabled=$.unique(options.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),function(li){return that.tabs.index(li);}))).sort();}
if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(options.active);}else{this.active=$();}
this._refresh();if(this.active.length){this.load(options.active);}},_initialActive:function(){var active=this.options.active,collapsible=this.options.collapsible,locationHash=location.hash.substring(1);if(active===null){if(locationHash){this.tabs.each(function(i,tab){if($(tab).attr("aria-controls")===locationHash){active=i;return false;}});}
if(active===null){active=this.tabs.index(this.tabs.filter(".ui-tabs-active"));}
if(active===null||active===-1){active=this.tabs.length?0:false;}}
if(active!==false){active=this.tabs.index(this.tabs.eq(active));if(active===-1){active=collapsible?false:0;}}
if(!collapsible&&active===false&&this.anchors.length){active=0;}
return active;},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?$():this._getPanelForTab(this.active)};},_tabKeydown:function(event){var focusedTab=$($.ui.safeActiveElement(this.document[0])).closest("li"),selectedIndex=this.tabs.index(focusedTab),goingForward=true;if(this._handlePageNav(event)){return;}
switch(event.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:selectedIndex++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:goingForward=false;selectedIndex--;break;case $.ui.keyCode.END:selectedIndex=this.anchors.length-1;break;case $.ui.keyCode.HOME:selectedIndex=0;break;case $.ui.keyCode.SPACE:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex);return;case $.ui.keyCode.ENTER:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex===this.options.active?false:selectedIndex);return;default:return;}
event.preventDefault();clearTimeout(this.activating);selectedIndex=this._focusNextTab(selectedIndex,goingForward);if(!event.ctrlKey&&!event.metaKey){focusedTab.attr("aria-selected","false");this.tabs.eq(selectedIndex).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",selectedIndex);},this.delay);}},_panelKeydown:function(event){if(this._handlePageNav(event)){return;}
if(event.ctrlKey&&event.keyCode===$.ui.keyCode.UP){event.preventDefault();this.active.trigger("focus");}},_handlePageNav:function(event){if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true;}
if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true;}},_findNextTab:function(index,goingForward){var lastTabIndex=this.tabs.length-1;function constrain(){if(index>lastTabIndex){index=0;}
if(index<0){index=lastTabIndex;}
return index;}
while($.inArray(constrain(),this.options.disabled)!==-1){index=goingForward?index+1:index-1;}
return index;},_focusNextTab:function(index,goingForward){index=this._findNextTab(index,goingForward);this.tabs.eq(index).trigger("focus");return index;},_setOption:function(key,value){if(key==="active"){this._activate(value);return;}
this._super(key,value);if(key==="collapsible"){this._toggleClass("ui-tabs-collapsible",null,value);if(!value&&this.options.active===false){this._activate(0);}}
if(key==="event"){this._setupEvents(value);}
if(key==="heightStyle"){this._setupHeightStyle(value);}},_sanitizeSelector:function(hash){return hash?hash.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):"";},refresh:function(){var options=this.options,lis=this.tablist.children(":has(a[href])");options.disabled=$.map(lis.filter(".ui-state-disabled"),function(tab){return lis.index(tab);});this._processTabs();if(options.active===false||!this.anchors.length){options.active=false;this.active=$();}else if(this.active.length&&!$.contains(this.tablist[0],this.active[0])){if(this.tabs.length===options.disabled.length){options.active=false;this.active=$();}else{this._activate(this._findNextTab(Math.max(0,options.active-1),false));}}else{options.active=this.tabs.index(this.active);}
this._refresh();},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0);}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});this._addClass(this.active,"ui-tabs-active","ui-state-active");this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"});}},_processTabs:function(){var that=this,prevTabs=this.tabs,prevAnchors=this.anchors,prevPanels=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(event){if($(this).is(".ui-state-disabled")){event.preventDefault();}}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){if($(this).closest("li").is(".ui-state-disabled")){this.blur();}});this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return $("a",this)[0];}).attr({role:"presentation",tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=$();this.anchors.each(function(i,anchor){var selector,panel,panelId,anchorId=$(anchor).uniqueId().attr("id"),tab=$(anchor).closest("li"),originalAriaControls=tab.attr("aria-controls");if(that._isLocal(anchor)){selector=anchor.hash;panelId=selector.substring(1);panel=that.element.find(that._sanitizeSelector(selector));}else{panelId=tab.attr("aria-controls")||$({}).uniqueId()[0].id;selector="#"+panelId;panel=that.element.find(selector);if(!panel.length){panel=that._createPanel(panelId);panel.insertAfter(that.panels[i-1]||that.tablist);}
panel.attr("aria-live","polite");}
if(panel.length){that.panels=that.panels.add(panel);}
if(originalAriaControls){tab.data("ui-tabs-aria-controls",originalAriaControls);}
tab.attr({"aria-controls":panelId,"aria-labelledby":anchorId});panel.attr("aria-labelledby",anchorId);});this.panels.attr("role","tabpanel");this._addClass(this.panels,"ui-tabs-panel","ui-widget-content");if(prevTabs){this._off(prevTabs.not(this.tabs));this._off(prevAnchors.not(this.anchors));this._off(prevPanels.not(this.panels));}},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0);},_createPanel:function(id){return $("<div>").attr("id",id).data("ui-tabs-destroy",true);},_setOptionDisabled:function(disabled){var currentItem,li,i;if($.isArray(disabled)){if(!disabled.length){disabled=false;}else if(disabled.length===this.anchors.length){disabled=true;}}
for(i=0;(li=this.tabs[i]);i++){currentItem=$(li);if(disabled===true||$.inArray(i,disabled)!==-1){currentItem.attr("aria-disabled","true");this._addClass(currentItem,null,"ui-state-disabled");}else{currentItem.removeAttr("aria-disabled");this._removeClass(currentItem,null,"ui-state-disabled");}}
this.options.disabled=disabled;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,disabled===true);},_setupEvents:function(event){var events={};if(event){$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler";});}
this._off(this.anchors.add(this.tabs).add(this.panels));this._on(true,this.anchors,{click:function(event){event.preventDefault();}});this._on(this.anchors,events);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs);},_setupHeightStyle:function(heightStyle){var maxHeight,parent=this.element.parent();if(heightStyle==="fill"){maxHeight=parent.height();maxHeight-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed"){return;}
maxHeight-=elem.outerHeight(true);});this.element.children().not(this.panels).each(function(){maxHeight-=$(this).outerHeight(true);});this.panels.each(function(){$(this).height(Math.max(0,maxHeight-
$(this).innerHeight()+$(this).height()));}).css("overflow","auto");}else if(heightStyle==="auto"){maxHeight=0;this.panels.each(function(){maxHeight=Math.max(maxHeight,$(this).height("").height());}).height(maxHeight);}},_eventHandler:function(event){var options=this.options,active=this.active,anchor=$(event.currentTarget),tab=anchor.closest("li"),clickedIsActive=tab[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():this._getPanelForTab(tab),toHide=!active.length?$():this._getPanelForTab(active),eventData={oldTab:active,oldPanel:toHide,newTab:collapsing?$():tab,newPanel:toShow};event.preventDefault();if(tab.hasClass("ui-state-disabled")||tab.hasClass("ui-tabs-loading")||this.running||(clickedIsActive&&!options.collapsible)||(this._trigger("beforeActivate",event,eventData)===false)){return;}
options.active=collapsing?false:this.tabs.index(tab);this.active=clickedIsActive?$():tab;if(this.xhr){this.xhr.abort();}
if(!toHide.length&&!toShow.length){$.error("jQuery UI Tabs: Mismatching fragment identifier.");}
if(toShow.length){this.load(this.tabs.index(tab),event);}
this._toggle(event,eventData);},_toggle:function(event,eventData){var that=this,toShow=eventData.newPanel,toHide=eventData.oldPanel;this.running=true;function complete(){that.running=false;that._trigger("activate",event,eventData);}
function show(){that._addClass(eventData.newTab.closest("li"),"ui-tabs-active","ui-state-active");if(toShow.length&&that.options.show){that._show(toShow,that.options.show,complete);}else{toShow.show();complete();}}
if(toHide.length&&this.options.hide){this._hide(toHide,this.options.hide,function(){that._removeClass(eventData.oldTab.closest("li"),"ui-tabs-active","ui-state-active");show();});}else{this._removeClass(eventData.oldTab.closest("li"),"ui-tabs-active","ui-state-active");toHide.hide();show();}
toHide.attr("aria-hidden","true");eventData.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});if(toShow.length&&toHide.length){eventData.oldTab.attr("tabIndex",-1);}else if(toShow.length){this.tabs.filter(function(){return $(this).attr("tabIndex")===0;}).attr("tabIndex",-1);}
toShow.attr("aria-hidden","false");eventData.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});},_activate:function(index){var anchor,active=this._findActive(index);if(active[0]===this.active[0]){return;}
if(!active.length){active=this.active;}
anchor=active.find(".ui-tabs-anchor")[0];this._eventHandler({target:anchor,currentTarget:anchor,preventDefault:$.noop});},_findActive:function(index){return index===false?$():this.tabs.eq(index);},_getIndex:function(index){if(typeof index==="string"){index=this.anchors.index(this.anchors.filter("[href$='"+
$.ui.escapeSelector(index)+"']"));}
return index;},_destroy:function(){if(this.xhr){this.xhr.abort();}
this.tablist.removeAttr("role").off(this.eventNamespace);this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if($.data(this,"ui-tabs-destroy")){$(this).remove();}else{$(this).removeAttr("role tabIndex "+"aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded");}});this.tabs.each(function(){var li=$(this),prev=li.data("ui-tabs-aria-controls");if(prev){li.attr("aria-controls",prev).removeData("ui-tabs-aria-controls");}else{li.removeAttr("aria-controls");}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","");}},enable:function(index){var disabled=this.options.disabled;if(disabled===false){return;}
if(index===undefined){disabled=false;}else{index=this._getIndex(index);if($.isArray(disabled)){disabled=$.map(disabled,function(num){return num!==index?num:null;});}else{disabled=$.map(this.tabs,function(li,num){return num!==index?num:null;});}}
this._setOptionDisabled(disabled);},disable:function(index){var disabled=this.options.disabled;if(disabled===true){return;}
if(index===undefined){disabled=true;}else{index=this._getIndex(index);if($.inArray(index,disabled)!==-1){return;}
if($.isArray(disabled)){disabled=$.merge([index],disabled).sort();}else{disabled=[index];}}
this._setOptionDisabled(disabled);},load:function(index,event){index=this._getIndex(index);var that=this,tab=this.tabs.eq(index),anchor=tab.find(".ui-tabs-anchor"),panel=this._getPanelForTab(tab),eventData={tab:tab,panel:panel},complete=function(jqXHR,status){if(status==="abort"){that.panels.stop(false,true);}
that._removeClass(tab,"ui-tabs-loading");panel.removeAttr("aria-busy");if(jqXHR===that.xhr){delete that.xhr;}};if(this._isLocal(anchor[0])){return;}
this.xhr=$.ajax(this._ajaxSettings(anchor,event,eventData));if(this.xhr&&this.xhr.statusText!=="canceled"){this._addClass(tab,"ui-tabs-loading");panel.attr("aria-busy","true");this.xhr.done(function(response,status,jqXHR){setTimeout(function(){panel.html(response);that._trigger("load",event,eventData);complete(jqXHR,status);},1);}).fail(function(jqXHR,status){setTimeout(function(){complete(jqXHR,status);},1);});}},_ajaxSettings:function(anchor,event,eventData){var that=this;return{url:anchor.attr("href").replace(/#.*$/,""),beforeSend:function(jqXHR,settings){return that._trigger("beforeLoad",event,$.extend({jqXHR:jqXHR,ajaxSettings:settings},eventData));}};},_getPanelForTab:function(tab){var id=$(tab).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+id));}});if($.uiBackCompat!==false){$.widget("ui.tabs",$.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab");}});}
var widgetsTabs=$.ui.tabs;$.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var title=$(this).attr("title")||"";return $("<a>").text(title).html();},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,track:false,close:null,open:null},_addDescribedBy:function(elem,id){var describedby=(elem.attr("aria-describedby")||"").split(/\s+/);describedby.push(id);elem.data("ui-tooltip-id",id).attr("aria-describedby",$.trim(describedby.join(" ")));},_removeDescribedBy:function(elem){var id=elem.data("ui-tooltip-id"),describedby=(elem.attr("aria-describedby")||"").split(/\s+/),index=$.inArray(id,describedby);if(index!==-1){describedby.splice(index,1);}
elem.removeData("ui-tooltip-id");describedby=$.trim(describedby.join(" "));if(describedby){elem.attr("aria-describedby",describedby);}else{elem.removeAttr("aria-describedby");}},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=$("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=$([]);},_setOption:function(key,value){var that=this;this._super(key,value);if(key==="content"){$.each(this.tooltips,function(id,tooltipData){that._updateContent(tooltipData.element);});}},_setOptionDisabled:function(value){this[value?"_disable":"_enable"]();},_disable:function(){var that=this;$.each(this.tooltips,function(id,tooltipData){var event=$.Event("blur");event.target=event.currentTarget=tooltipData.element[0];that.close(event,true);});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var element=$(this);if(element.is("[title]")){return element.data("ui-tooltip-title",element.attr("title")).removeAttr("title");}}));},_enable:function(){this.disabledTitles.each(function(){var element=$(this);if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));}});this.disabledTitles=$([]);},open:function(event){var that=this,target=$(event?event.target:this.element).closest(this.options.items);if(!target.length||target.data("ui-tooltip-id")){return;}
if(target.attr("title")){target.data("ui-tooltip-title",target.attr("title"));}
target.data("ui-tooltip-open",true);if(event&&event.type==="mouseover"){target.parents().each(function(){var parent=$(this),blurEvent;if(parent.data("ui-tooltip-open")){blurEvent=$.Event("blur");blurEvent.target=blurEvent.currentTarget=this;that.close(blurEvent,true);}
if(parent.attr("title")){parent.uniqueId();that.parents[this.id]={element:this,title:parent.attr("title")};parent.attr("title","");}});}
this._registerCloseHandlers(event,target);this._updateContent(target,event);},_updateContent:function(target,event){var content,contentOption=this.options.content,that=this,eventType=event?event.type:null;if(typeof contentOption==="string"||contentOption.nodeType||contentOption.jquery){return this._open(event,target,contentOption);}
content=contentOption.call(target[0],function(response){that._delay(function(){if(!target.data("ui-tooltip-open")){return;}
if(event){event.type=eventType;}
this._open(event,target,response);});});if(content){this._open(event,target,content);}},_open:function(event,target,content){var tooltipData,tooltip,delayedShow,a11yContent,positionOption=$.extend({},this.options.position);if(!content){return;}
tooltipData=this._find(target);if(tooltipData){tooltipData.tooltip.find(".ui-tooltip-content").html(content);return;}
if(target.is("[title]")){if(event&&event.type==="mouseover"){target.attr("title","");}else{target.removeAttr("title");}}
tooltipData=this._tooltip(target);tooltip=tooltipData.tooltip;this._addDescribedBy(target,tooltip.attr("id"));tooltip.find(".ui-tooltip-content").html(content);this.liveRegion.children().hide();a11yContent=$("<div>").html(tooltip.find(".ui-tooltip-content").html());a11yContent.removeAttr("name").find("[name]").removeAttr("name");a11yContent.removeAttr("id").find("[id]").removeAttr("id");a11yContent.appendTo(this.liveRegion);function position(event){positionOption.of=event;if(tooltip.is(":hidden")){return;}
tooltip.position(positionOption);}
if(this.options.track&&event&&/^mouse/.test(event.type)){this._on(this.document,{mousemove:position});position(event);}else{tooltip.position($.extend({of:target},this.options.position));}
tooltip.hide();this._show(tooltip,this.options.show);if(this.options.track&&this.options.show&&this.options.show.delay){delayedShow=this.delayedShow=setInterval(function(){if(tooltip.is(":visible")){position(positionOption.of);clearInterval(delayedShow);}},$.fx.interval);}
this._trigger("open",event,{tooltip:tooltip});},_registerCloseHandlers:function(event,target){var events={keyup:function(event){if(event.keyCode===$.ui.keyCode.ESCAPE){var fakeEvent=$.Event(event);fakeEvent.currentTarget=target[0];this.close(fakeEvent,true);}}};if(target[0]!==this.element[0]){events.remove=function(){this._removeTooltip(this._find(target).tooltip);};}
if(!event||event.type==="mouseover"){events.mouseleave="close";}
if(!event||event.type==="focusin"){events.focusout="close";}
this._on(true,target,events);},close:function(event){var tooltip,that=this,target=$(event?event.currentTarget:this.element),tooltipData=this._find(target);if(!tooltipData){target.removeData("ui-tooltip-open");return;}
tooltip=tooltipData.tooltip;if(tooltipData.closing){return;}
clearInterval(this.delayedShow);if(target.data("ui-tooltip-title")&&!target.attr("title")){target.attr("title",target.data("ui-tooltip-title"));}
this._removeDescribedBy(target);tooltipData.hiding=true;tooltip.stop(true);this._hide(tooltip,this.options.hide,function(){that._removeTooltip($(this));});target.removeData("ui-tooltip-open");this._off(target,"mouseleave focusout keyup");if(target[0]!==this.element[0]){this._off(target,"remove");}
this._off(this.document,"mousemove");if(event&&event.type==="mouseleave"){$.each(this.parents,function(id,parent){$(parent.element).attr("title",parent.title);delete that.parents[id];});}
tooltipData.closing=true;this._trigger("close",event,{tooltip:tooltip});if(!tooltipData.hiding){tooltipData.closing=false;}},_tooltip:function(element){var tooltip=$("<div>").attr("role","tooltip"),content=$("<div>").appendTo(tooltip),id=tooltip.uniqueId().attr("id");this._addClass(content,"ui-tooltip-content");this._addClass(tooltip,"ui-tooltip","ui-widget ui-widget-content");tooltip.appendTo(this._appendTo(element));return this.tooltips[id]={element:element,tooltip:tooltip};},_find:function(target){var id=target.data("ui-tooltip-id");return id?this.tooltips[id]:null;},_removeTooltip:function(tooltip){tooltip.remove();delete this.tooltips[tooltip.attr("id")];},_appendTo:function(target){var element=target.closest(".ui-front, dialog");if(!element.length){element=this.document[0].body;}
return element;},_destroy:function(){var that=this;$.each(this.tooltips,function(id,tooltipData){var event=$.Event("blur"),element=tooltipData.element;event.target=event.currentTarget=element[0];that.close(event,true);$("#"+id).remove();if(element.data("ui-tooltip-title")){if(!element.attr("title")){element.attr("title",element.data("ui-tooltip-title"));}
element.removeData("ui-tooltip-title");}});this.liveRegion.remove();}});if($.uiBackCompat!==false){$.widget("ui.tooltip",$.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var tooltipData=this._superApply(arguments);if(this.options.tooltipClass){tooltipData.tooltip.addClass(this.options.tooltipClass);}
return tooltipData;}});}
var widgetsTooltip=$.ui.tooltip;var dataSpace="ui-effects-",dataSpaceStyle="ui-effects-style",dataSpaceAnimated="ui-effects-animated",jQuery=$;$.effects={effect:{}};(function(jQuery,undefined){var stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor "+"borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1]*2.55,execResult[2]*2.55,execResult[3]*2.55,execResult[4]];}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)];}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]];}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha);},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={"byte":{floor:true,max:255},"percent":{max:1},"degrees":{mod:360,floor:true}},support=color.support={},supportElem=jQuery("<p>")[0],colors,each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)";support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1;each(spaces,function(spaceName,space){space.cache="_"+spaceName;space.props.alpha={idx:3,type:"percent",def:1};});function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};if(value==null){return(allowEmpty||!prop.def)?null:prop.def;}
value=type.floor?~~value:parseFloat(value);if(isNaN(value)){return prop.def;}
if(type.mod){return(value+type.mod)%type.mod;}
return 0>value?0:type.max<value?type.max:value;}
function stringParse(string){var inst=color(),rgba=inst._rgba=[];string=string.toLowerCase();each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";if(values){parsed=inst[spaceName](values);inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache];rgba=inst._rgba=parsed._rgba;return false;}});if(rgba.length){if(rgba.join()==="0,0,0,0"){jQuery.extend(rgba,colors.transparent);}
return inst;}
return colors[string];}
color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this;}
if(red.jquery||red.nodeType){red=jQuery(red).css(green);green=undefined;}
var inst=this,type=jQuery.type(red),rgba=this._rgba=[];if(green!==undefined){red=[red,green,blue,alpha];type="array";}
if(type==="string"){return this.parse(stringParse(red)||colors._default);}
if(type==="array"){each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop);});return this;}
if(type==="object"){if(red instanceof color){each(spaces,function(spaceName,space){if(red[space.cache]){inst[space.cache]=red[space.cache].slice();}});}else{each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if(key==="alpha"||red[key]==null){return;}
inst[cache]=space.to(inst._rgba);}
inst[cache][prop.idx]=clamp(red[key],prop,true);});if(inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0){inst[cache][3]=1;if(space.from){inst._rgba=space.from(inst[cache]);}}});}
return this;}},is:function(compare){var is=color(compare),same=true,inst=this;each(spaces,function(_,space){var localCache,isCache=is[space.cache];if(isCache){localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=(isCache[prop.idx]===localCache[prop.idx]);return same;}});}
return same;});return same;},_space:function(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache]){used.push(spaceName);}});return used.pop();},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=this.alpha()===0?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};if(endValue===null){return;}
if(startValue===null){result[index]=endValue;}else{if(type.mod){if(endValue-startValue>type.mod/2){startValue+=type.mod;}else if(startValue-endValue>type.mod/2){startValue-=type.mod;}}
result[index]=clamp((endValue-startValue)*distance+startValue,prop);}});return this[spaceName](result);},blend:function(opaque){if(this._rgba[3]===1){return this;}
var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v;}));},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return v==null?(i>2?1:0):v;});if(rgba[3]===1){rgba.pop();prefix="rgb(";}
return prefix+rgba.join()+")";},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null){v=i>2?1:0;}
if(i&&i<3){v=Math.round(v*100)+"%";}
return v;});if(hsla[3]===1){hsla.pop();prefix="hsl(";}
return prefix+hsla.join()+")";},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();if(includeAlpha){rgba.push(~~(alpha*255));}
return"#"+jQuery.map(rgba,function(v){v=(v||0).toString(16);return v.length===1?"0"+v:v;}).join("");},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString();}});color.fn.parse.prototype=color.fn;function hue2rgb(p,q,h){h=(h+1)%1;if(h*6<1){return p+(q-p)*h*6;}
if(h*2<1){return q;}
if(h*3<2){return p+(q-p)*((2/3)-h)*6;}
return p;}
spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null){return[null,null,null,rgba[3]];}
var r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*0.5,h,s;if(min===max){h=0;}else if(r===max){h=(60*(g-b)/diff)+360;}else if(g===max){h=(60*(b-r)/diff)+120;}else{h=(60*(r-g)/diff)+240;}
if(diff===0){s=0;}else if(l<=0.5){s=diff/add;}else{s=diff/(2-add);}
return[Math.round(h)%360,s,l,a==null?1:a];};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null){return[null,null,null,hsla[3]];}
var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=0.5?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(hue2rgb(p,q,h+(1/3))*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-(1/3))*255),a];};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]){this[cache]=to(this._rgba);}
if(value===undefined){return this[cache].slice();}
var ret,type=jQuery.type(value),arr=(type==="array"||type==="object")?value:arguments,local=this[cache].slice();each(props,function(key,prop){var val=arr[type==="object"?key:prop.idx];if(val==null){val=local[prop.idx];}
local[prop.idx]=clamp(val,prop);});if(from){ret=color(from(local));ret[cache]=local;return ret;}else{return color(local);}};each(props,function(key,prop){if(color.fn[key]){return;}
color.fn[key]=function(value){var vtype=jQuery.type(value),fn=(key==="alpha"?(this._hsla?"hsla":"rgba"):spaceName),local=this[fn](),cur=local[prop.idx],match;if(vtype==="undefined"){return cur;}
if(vtype==="function"){value=value.call(this,cur);vtype=jQuery.type(value);}
if(value==null&&prop.empty){return this;}
if(vtype==="string"){match=rplusequals.exec(value);if(match){value=cur+parseFloat(match[2])*(match[1]==="+"?1:-1);}}
local[prop.idx]=value;return this[fn](local);};});});color.hook=function(hook){var hooks=hook.split(" ");each(hooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,backgroundColor="";if(value!=="transparent"&&(jQuery.type(value)!=="string"||(parsed=stringParse(value)))){value=color(parsed||value);if(!support.rgba&&value._rgba[3]!==1){curElem=hook==="backgroundColor"?elem.parentNode:elem;while((backgroundColor===""||backgroundColor==="transparent")&&curElem&&curElem.style){try{backgroundColor=jQuery.css(curElem,"backgroundColor");curElem=curElem.parentNode;}catch(e){}}
value=value.blend(backgroundColor&&backgroundColor!=="transparent"?backgroundColor:"_default");}
value=value.toRgbaString();}
try{elem.style[hook]=value;}catch(e){}}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true;}
jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos));};});};color.hook(stepHooks);jQuery.cssHooks.borderColor={expand:function(value){var expanded={};each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value;});return expanded;}};colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};})(jQuery);(function(){var classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,prop){$.fx.step[prop]=function(fx){if(fx.end!=="none"&&!fx.setAttr||fx.pos===1&&!fx.setAttr){jQuery.style(fx.elem,prop,fx.end);fx.setAttr=true;}};});function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]]){len=style.length;while(len--){key=style[len];if(typeof style[key]==="string"){styles[$.camelCase(key)]=style[key];}}}else{for(key in style){if(typeof style[key]==="string"){styles[key]=style[key];}}}
return styles;}
function styleDifference(oldStyle,newStyle){var diff={},name,value;for(name in newStyle){value=newStyle[name];if(oldStyle[name]!==value){if(!shorthandStyles[name]){if($.fx.step[name]||!isNaN(parseFloat(value))){diff[name]=value;}}}}
return diff;}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var animated=$(this),baseClass=animated.attr("class")||"",applyClassChange,allAnimations=o.children?animated.find("*").addBack():animated;allAnimations=allAnimations.map(function(){var el=$(this);return{el:el,start:getElementStyles(this)};});applyClassChange=function(){$.each(classAnimationActions,function(i,action){if(value[action]){animated[action+"Class"](value[action]);}});};applyClassChange();allAnimations=allAnimations.map(function(){this.end=getElementStyles(this.el[0]);this.diff=styleDifference(this.start,this.end);return this;});animated.attr("class",baseClass);allAnimations=allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{queue:false,complete:function(){dfd.resolve(styleInfo);}});this.el.animate(this.diff,opts);return dfd.promise();});$.when.apply($,allAnimations.get()).done(function(){applyClassChange();$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,"");});});o.complete.call(animated[0]);});});};$.fn.extend({addClass:(function(orig){return function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{add:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.addClass),removeClass:(function(orig){return function(classNames,speed,easing,callback){return arguments.length>1?$.effects.animateClass.call(this,{remove:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.removeClass),toggleClass:(function(orig){return function(classNames,force,speed,easing,callback){if(typeof force==="boolean"||force===undefined){if(!speed){return orig.apply(this,arguments);}else{return $.effects.animateClass.call(this,(force?{add:classNames}:{remove:classNames}),speed,easing,callback);}}else{return $.effects.animateClass.call(this,{toggle:classNames},force,speed,easing);}};})($.fn.toggleClass),switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{add:add,remove:remove},speed,easing,callback);}});})();(function(){if($.expr&&$.expr.filters&&$.expr.filters.animated){$.expr.filters.animated=(function(orig){return function(elem){return!!$(elem).data(dataSpaceAnimated)||orig(elem);};})($.expr.filters.animated);}
if($.uiBackCompat!==false){$.extend($.effects,{save:function(element,set){var i=0,length=set.length;for(;i<length;i++){if(set[i]!==null){element.data(dataSpace+set[i],element[0].style[set[i]]);}}},restore:function(element,set){var val,i=0,length=set.length;for(;i<length;i++){if(set[i]!==null){val=element.data(dataSpace+set[i]);element.css(set[i],val);}}},setMode:function(el,mode){if(mode==="toggle"){mode=el.is(":hidden")?"show":"hide";}
return mode;},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper")){return element.parent();}
var props={width:element.outerWidth(true),height:element.outerHeight(true),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),size={width:element.width(),height:element.height()},active=document.activeElement;try{active.id;}catch(e){active=document.body;}
element.wrap(wrapper);if(element[0]===active||$.contains(element[0],active)){$(active).trigger("focus");}
wrapper=element.parent();if(element.css("position")==="static"){wrapper.css({position:"relative"});element.css({position:"relative"});}else{$.extend(props,{position:element.css("position"),zIndex:element.css("z-index")});$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10))){props[pos]="auto";}});element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"});}
element.css(size);return wrapper.css(props).show();},removeWrapper:function(element){var active=document.activeElement;if(element.parent().is(".ui-effects-wrapper")){element.parent().replaceWith(element);if(element[0]===active||$.contains(element[0],active)){$(active).trigger("focus");}}
return element;}});}
$.extend($.effects,{version:"1.12.1",define:function(name,mode,effect){if(!effect){effect=mode;mode="effect";}
$.effects.effect[name]=effect;$.effects.effect[name].mode=mode;return effect;},scaledDimensions:function(element,percent,direction){if(percent===0){return{height:0,width:0,outerHeight:0,outerWidth:0};}
var x=direction!=="horizontal"?((percent||100)/100):1,y=direction!=="vertical"?((percent||100)/100):1;return{height:element.height()*y,width:element.width()*x,outerHeight:element.outerHeight()*y,outerWidth:element.outerWidth()*x};},clipToBox:function(animation){return{width:animation.clip.right-animation.clip.left,height:animation.clip.bottom-animation.clip.top,left:animation.clip.left,top:animation.clip.top};},unshift:function(element,queueLength,count){var queue=element.queue();if(queueLength>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queueLength,count)));}
element.dequeue();},saveStyle:function(element){element.data(dataSpaceStyle,element[0].style.cssText);},restoreStyle:function(element){element[0].style.cssText=element.data(dataSpaceStyle)||"";element.removeData(dataSpaceStyle);},mode:function(element,mode){var hidden=element.is(":hidden");if(mode==="toggle"){mode=hidden?"show":"hide";}
if(hidden?mode==="hide":mode==="show"){mode="none";}
return mode;},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=0.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height;}
switch(origin[1]){case"left":x=0;break;case"center":x=0.5;break;case"right":x=1;break;default:x=origin[1]/original.width;}
return{x:x,y:y};},createPlaceholder:function(element){var placeholder,cssPosition=element.css("position"),position=element.position();element.css({marginTop:element.css("marginTop"),marginBottom:element.css("marginBottom"),marginLeft:element.css("marginLeft"),marginRight:element.css("marginRight")}).outerWidth(element.outerWidth()).outerHeight(element.outerHeight());if(/^(static|relative)/.test(cssPosition)){cssPosition="absolute";placeholder=$("<"+element[0].nodeName+">").insertAfter(element).css({display:/^(inline|ruby)/.test(element.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:element.css("marginTop"),marginBottom:element.css("marginBottom"),marginLeft:element.css("marginLeft"),marginRight:element.css("marginRight"),"float":element.css("float")}).outerWidth(element.outerWidth()).outerHeight(element.outerHeight()).addClass("ui-effects-placeholder");element.data(dataSpace+"placeholder",placeholder);}
element.css({position:cssPosition,left:position.left,top:position.top});return placeholder;},removePlaceholder:function(element){var dataKey=dataSpace+"placeholder",placeholder=element.data(dataKey);if(placeholder){placeholder.remove();element.removeData(dataKey);}},cleanUp:function(element){$.effects.restoreStyle(element);$.effects.removePlaceholder(element);},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){var unit=element.cssUnit(x);if(unit[0]>0){value[x]=unit[0]*factor+unit[1];}});return value;}});function _normalizeArguments(effect,options,speed,callback){if($.isPlainObject(effect)){options=effect;effect=effect.effect;}
effect={effect:effect};if(options==null){options={};}
if($.isFunction(options)){callback=options;speed=null;options={};}
if(typeof options==="number"||$.fx.speeds[options]){callback=speed;speed=options;options={};}
if($.isFunction(speed)){callback=speed;speed=null;}
if(options){$.extend(effect,options);}
speed=speed||options.duration;effect.duration=$.fx.off?0:typeof speed==="number"?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default;effect.complete=callback||options.complete;return effect;}
function standardAnimationOption(option){if(!option||typeof option==="number"||$.fx.speeds[option]){return true;}
if(typeof option==="string"&&!$.effects.effect[option]){return true;}
if($.isFunction(option)){return true;}
if(typeof option==="object"&&!option.effect){return true;}
return false;}
$.fn.extend({effect:function(){var args=_normalizeArguments.apply(this,arguments),effectMethod=$.effects.effect[args.effect],defaultMode=effectMethod.mode,queue=args.queue,queueName=queue||"fx",complete=args.complete,mode=args.mode,modes=[],prefilter=function(next){var el=$(this),normalizedMode=$.effects.mode(el,mode)||defaultMode;el.data(dataSpaceAnimated,true);modes.push(normalizedMode);if(defaultMode&&(normalizedMode==="show"||(normalizedMode===defaultMode&&normalizedMode==="hide"))){el.show();}
if(!defaultMode||normalizedMode!=="none"){$.effects.saveStyle(el);}
if($.isFunction(next)){next();}};if($.fx.off||!effectMethod){if(mode){return this[mode](args.duration,complete);}else{return this.each(function(){if(complete){complete.call(this);}});}}
function run(next){var elem=$(this);function cleanup(){elem.removeData(dataSpaceAnimated);$.effects.cleanUp(elem);if(args.mode==="hide"){elem.hide();}
done();}
function done(){if($.isFunction(complete)){complete.call(elem[0]);}
if($.isFunction(next)){next();}}
args.mode=modes.shift();if($.uiBackCompat!==false&&!defaultMode){if(elem.is(":hidden")?mode==="hide":mode==="show"){elem[mode]();done();}else{effectMethod.call(elem[0],args,done);}}else{if(args.mode==="none"){elem[mode]();done();}else{effectMethod.call(elem[0],args,cleanup);}}}
return queue===false?this.each(prefilter).each(run):this.queue(queueName,prefilter).queue(queueName,run);},show:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="show";return this.effect.call(this,args);}};})($.fn.show),hide:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="hide";return this.effect.call(this,args);}};})($.fn.hide),toggle:(function(orig){return function(option){if(standardAnimationOption(option)||typeof option==="boolean"){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="toggle";return this.effect.call(this,args);}};})($.fn.toggle),cssUnit:function(key){var style=this.css(key),val=[];$.each(["em","px","%","pt"],function(i,unit){if(style.indexOf(unit)>0){val=[parseFloat(style),unit];}});return val;},cssClip:function(clipObj){if(clipObj){return this.css("clip","rect("+clipObj.top+"px "+clipObj.right+"px "+
clipObj.bottom+"px "+clipObj.left+"px)");}
return parseClip(this.css("clip"),this);},transfer:function(options,done){var element=$(this),target=$(options.to),targetFixed=target.css("position")==="fixed",body=$("body"),fixTop=targetFixed?body.scrollTop():0,fixLeft=targetFixed?body.scrollLeft():0,endPosition=target.offset(),animation={top:endPosition.top-fixTop,left:endPosition.left-fixLeft,height:target.innerHeight(),width:target.innerWidth()},startPosition=element.offset(),transfer=$("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(options.className).css({top:startPosition.top-fixTop,left:startPosition.left-fixLeft,height:element.innerHeight(),width:element.innerWidth(),position:targetFixed?"fixed":"absolute"}).animate(animation,options.duration,options.easing,function(){transfer.remove();if($.isFunction(done)){done();}});}});function parseClip(str,element){var outerWidth=element.outerWidth(),outerHeight=element.outerHeight(),clipRegex=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,values=clipRegex.exec(str)||["",0,outerWidth,outerHeight,0];return{top:parseFloat(values[1])||0,right:values[2]==="auto"?outerWidth:parseFloat(values[2]),bottom:values[3]==="auto"?outerHeight:parseFloat(values[3]),left:parseFloat(values[4])||0};}
$.fx.step.clip=function(fx){if(!fx.clipInit){fx.start=$(fx.elem).cssClip();if(typeof fx.end==="string"){fx.end=parseClip(fx.end,fx.elem);}
fx.clipInit=true;}
$(fx.elem).cssClip({top:fx.pos*(fx.end.top-fx.start.top)+fx.start.top,right:fx.pos*(fx.end.right-fx.start.right)+fx.start.right,bottom:fx.pos*(fx.end.bottom-fx.start.bottom)+fx.start.bottom,left:fx.pos*(fx.end.left-fx.start.left)+fx.start.left});};})();(function(){var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2);};});$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2);},Circ:function(p){return 1-Math.sqrt(1-p*p);},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin(((p-1)*80-7.5)*Math.PI/15);},Back:function(p){return p*p*(3*p-2);},Bounce:function(p){var pow2,bounce=4;while(p<((pow2=Math.pow(2,--bounce))-1)/11){}
return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((pow2*3-2)/22-p,2);}});$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn;$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p);};$.easing["easeInOut"+name]=function(p){return p<0.5?easeIn(p*2)/2:1-easeIn(p*-2+2)/2;};});})();var effect=$.effects;var effectsEffectBlind=$.effects.define("blind","hide",function(options,done){var map={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},element=$(this),direction=options.direction||"up",start=element.cssClip(),animate={clip:$.extend({},start)},placeholder=$.effects.createPlaceholder(element);animate.clip[map[direction][0]]=animate.clip[map[direction][1]];if(options.mode==="show"){element.cssClip(animate.clip);if(placeholder){placeholder.css($.effects.clipToBox(animate));}
animate.clip=start;}
if(placeholder){placeholder.animate($.effects.clipToBox(animate),options.duration,options.easing);}
element.animate(animate,{queue:false,duration:options.duration,easing:options.easing,complete:done});});var effectsEffectBounce=$.effects.define("bounce",function(options,done){var upAnim,downAnim,refValue,element=$(this),mode=options.mode,hide=mode==="hide",show=mode==="show",direction=options.direction||"up",distance=options.distance,times=options.times||5,anims=times*2+(show||hide?1:0),speed=options.duration/anims,easing=options.easing,ref=(direction==="up"||direction==="down")?"top":"left",motion=(direction==="up"||direction==="left"),i=0,queuelen=element.queue().length;$.effects.createPlaceholder(element);refValue=element.css(ref);if(!distance){distance=element[ref==="top"?"outerHeight":"outerWidth"]()/3;}
if(show){downAnim={opacity:1};downAnim[ref]=refValue;element.css("opacity",0).css(ref,motion?-distance*2:distance*2).animate(downAnim,speed,easing);}
if(hide){distance=distance/Math.pow(2,times-1);}
downAnim={};downAnim[ref]=refValue;for(;i<times;i++){upAnim={};upAnim[ref]=(motion?"-=":"+=")+distance;element.animate(upAnim,speed,easing).animate(downAnim,speed,easing);distance=hide?distance*2:distance/2;}
if(hide){upAnim={opacity:0};upAnim[ref]=(motion?"-=":"+=")+distance;element.animate(upAnim,speed,easing);}
element.queue(done);$.effects.unshift(element,queuelen,anims+1);});var effectsEffectClip=$.effects.define("clip","hide",function(options,done){var start,animate={},element=$(this),direction=options.direction||"vertical",both=direction==="both",horizontal=both||direction==="horizontal",vertical=both||direction==="vertical";start=element.cssClip();animate.clip={top:vertical?(start.bottom-start.top)/2:start.top,right:horizontal?(start.right-start.left)/2:start.right,bottom:vertical?(start.bottom-start.top)/2:start.bottom,left:horizontal?(start.right-start.left)/2:start.left};$.effects.createPlaceholder(element);if(options.mode==="show"){element.cssClip(animate.clip);animate.clip=start;}
element.animate(animate,{queue:false,duration:options.duration,easing:options.easing,complete:done});});var effectsEffectDrop=$.effects.define("drop","hide",function(options,done){var distance,element=$(this),mode=options.mode,show=mode==="show",direction=options.direction||"left",ref=(direction==="up"||direction==="down")?"top":"left",motion=(direction==="up"||direction==="left")?"-=":"+=",oppositeMotion=(motion==="+=")?"-=":"+=",animation={opacity:0};$.effects.createPlaceholder(element);distance=options.distance||element[ref==="top"?"outerHeight":"outerWidth"](true)/2;animation[ref]=motion+distance;if(show){element.css(animation);animation[ref]=oppositeMotion+distance;animation.opacity=1;}
element.animate(animation,{queue:false,duration:options.duration,easing:options.easing,complete:done});});var effectsEffectExplode=$.effects.define("explode","hide",function(options,done){var i,j,left,top,mx,my,rows=options.pieces?Math.round(Math.sqrt(options.pieces)):3,cells=rows,element=$(this),mode=options.mode,show=mode==="show",offset=element.show().css("visibility","hidden").offset(),width=Math.ceil(element.outerWidth()/cells),height=Math.ceil(element.outerHeight()/rows),pieces=[];function childComplete(){pieces.push(this);if(pieces.length===rows*cells){animComplete();}}
for(i=0;i<rows;i++){top=offset.top+i*height;my=i-(rows-1)/2;for(j=0;j<cells;j++){left=offset.left+j*width;mx=j-(cells-1)/2;element.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*width,top:-i*height}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:width,height:height,left:left+(show?mx*width:0),top:top+(show?my*height:0),opacity:show?0:1}).animate({left:left+(show?0:mx*width),top:top+(show?0:my*height),opacity:show?1:0},options.duration||500,options.easing,childComplete);}}
function animComplete(){element.css({visibility:"visible"});$(pieces).remove();done();}});var effectsEffectFade=$.effects.define("fade","toggle",function(options,done){var show=options.mode==="show";$(this).css("opacity",show?0:1).animate({opacity:show?1:0},{queue:false,duration:options.duration,easing:options.easing,complete:done});});var effectsEffectFold=$.effects.define("fold","hide",function(options,done){var element=$(this),mode=options.mode,show=mode==="show",hide=mode==="hide",size=options.size||15,percent=/([0-9]+)%/.exec(size),horizFirst=!!options.horizFirst,ref=horizFirst?["right","bottom"]:["bottom","right"],duration=options.duration/2,placeholder=$.effects.createPlaceholder(element),start=element.cssClip(),animation1={clip:$.extend({},start)},animation2={clip:$.extend({},start)},distance=[start[ref[0]],start[ref[1]]],queuelen=element.queue().length;if(percent){size=parseInt(percent[1],10)/100*distance[hide?0:1];}
animation1.clip[ref[0]]=size;animation2.clip[ref[0]]=size;animation2.clip[ref[1]]=0;if(show){element.cssClip(animation2.clip);if(placeholder){placeholder.css($.effects.clipToBox(animation2));}
animation2.clip=start;}
element.queue(function(next){if(placeholder){placeholder.animate($.effects.clipToBox(animation1),duration,options.easing).animate($.effects.clipToBox(animation2),duration,options.easing);}
next();}).animate(animation1,duration,options.easing).animate(animation2,duration,options.easing).queue(done);$.effects.unshift(element,queuelen,4);});var effectsEffectHighlight=$.effects.define("highlight","show",function(options,done){var element=$(this),animation={backgroundColor:element.css("backgroundColor")};if(options.mode==="hide"){animation.opacity=0;}
$.effects.saveStyle(element);element.css({backgroundImage:"none",backgroundColor:options.color||"#ffff99"}).animate(animation,{queue:false,duration:options.duration,easing:options.easing,complete:done});});var effectsEffectSize=$.effects.define("size",function(options,done){var baseline,factor,temp,element=$(this),cProps=["fontSize"],vProps=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],hProps=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],mode=options.mode,restore=mode!=="effect",scale=options.scale||"both",origin=options.origin||["middle","center"],position=element.css("position"),pos=element.position(),original=$.effects.scaledDimensions(element),from=options.from||original,to=options.to||$.effects.scaledDimensions(element,0);$.effects.createPlaceholder(element);if(mode==="show"){temp=from;from=to;to=temp;}
factor={from:{y:from.height/original.height,x:from.width/original.width},to:{y:to.height/original.height,x:to.width/original.width}};if(scale==="box"||scale==="both"){if(factor.from.y!==factor.to.y){from=$.effects.setTransition(element,vProps,factor.from.y,from);to=$.effects.setTransition(element,vProps,factor.to.y,to);}
if(factor.from.x!==factor.to.x){from=$.effects.setTransition(element,hProps,factor.from.x,from);to=$.effects.setTransition(element,hProps,factor.to.x,to);}}
if(scale==="content"||scale==="both"){if(factor.from.y!==factor.to.y){from=$.effects.setTransition(element,cProps,factor.from.y,from);to=$.effects.setTransition(element,cProps,factor.to.y,to);}}
if(origin){baseline=$.effects.getBaseline(origin,original);from.top=(original.outerHeight-from.outerHeight)*baseline.y+pos.top;from.left=(original.outerWidth-from.outerWidth)*baseline.x+pos.left;to.top=(original.outerHeight-to.outerHeight)*baseline.y+pos.top;to.left=(original.outerWidth-to.outerWidth)*baseline.x+pos.left;}
element.css(from);if(scale==="content"||scale==="both"){vProps=vProps.concat(["marginTop","marginBottom"]).concat(cProps);hProps=hProps.concat(["marginLeft","marginRight"]);element.find("*[width]").each(function(){var child=$(this),childOriginal=$.effects.scaledDimensions(child),childFrom={height:childOriginal.height*factor.from.y,width:childOriginal.width*factor.from.x,outerHeight:childOriginal.outerHeight*factor.from.y,outerWidth:childOriginal.outerWidth*factor.from.x},childTo={height:childOriginal.height*factor.to.y,width:childOriginal.width*factor.to.x,outerHeight:childOriginal.height*factor.to.y,outerWidth:childOriginal.width*factor.to.x};if(factor.from.y!==factor.to.y){childFrom=$.effects.setTransition(child,vProps,factor.from.y,childFrom);childTo=$.effects.setTransition(child,vProps,factor.to.y,childTo);}
if(factor.from.x!==factor.to.x){childFrom=$.effects.setTransition(child,hProps,factor.from.x,childFrom);childTo=$.effects.setTransition(child,hProps,factor.to.x,childTo);}
if(restore){$.effects.saveStyle(child);}
child.css(childFrom);child.animate(childTo,options.duration,options.easing,function(){if(restore){$.effects.restoreStyle(child);}});});}
element.animate(to,{queue:false,duration:options.duration,easing:options.easing,complete:function(){var offset=element.offset();if(to.opacity===0){element.css("opacity",from.opacity);}
if(!restore){element.css("position",position==="static"?"relative":position).offset(offset);$.effects.saveStyle(element);}
done();}});});var effectsEffectScale=$.effects.define("scale",function(options,done){var el=$(this),mode=options.mode,percent=parseInt(options.percent,10)||(parseInt(options.percent,10)===0?0:(mode!=="effect"?0:100)),newOptions=$.extend(true,{from:$.effects.scaledDimensions(el),to:$.effects.scaledDimensions(el,percent,options.direction||"both"),origin:options.origin||["middle","center"]},options);if(options.fade){newOptions.from.opacity=1;newOptions.to.opacity=0;}
$.effects.effect.size.call(this,newOptions,done);});var effectsEffectPuff=$.effects.define("puff","hide",function(options,done){var newOptions=$.extend(true,{},options,{fade:true,percent:parseInt(options.percent,10)||150});$.effects.effect.scale.call(this,newOptions,done);});var effectsEffectPulsate=$.effects.define("pulsate","show",function(options,done){var element=$(this),mode=options.mode,show=mode==="show",hide=mode==="hide",showhide=show||hide,anims=((options.times||5)*2)+(showhide?1:0),duration=options.duration/anims,animateTo=0,i=1,queuelen=element.queue().length;if(show||!element.is(":visible")){element.css("opacity",0).show();animateTo=1;}
for(;i<anims;i++){element.animate({opacity:animateTo},duration,options.easing);animateTo=1-animateTo;}
element.animate({opacity:animateTo},duration,options.easing);element.queue(done);$.effects.unshift(element,queuelen,anims+1);});var effectsEffectShake=$.effects.define("shake",function(options,done){var i=1,element=$(this),direction=options.direction||"left",distance=options.distance||20,times=options.times||3,anims=times*2+1,speed=Math.round(options.duration/anims),ref=(direction==="up"||direction==="down")?"top":"left",positiveMotion=(direction==="up"||direction==="left"),animation={},animation1={},animation2={},queuelen=element.queue().length;$.effects.createPlaceholder(element);animation[ref]=(positiveMotion?"-=":"+=")+distance;animation1[ref]=(positiveMotion?"+=":"-=")+distance*2;animation2[ref]=(positiveMotion?"-=":"+=")+distance*2;element.animate(animation,speed,options.easing);for(;i<times;i++){element.animate(animation1,speed,options.easing).animate(animation2,speed,options.easing);}
element.animate(animation1,speed,options.easing).animate(animation,speed/2,options.easing).queue(done);$.effects.unshift(element,queuelen,anims+1);});var effectsEffectSlide=$.effects.define("slide","show",function(options,done){var startClip,startRef,element=$(this),map={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},mode=options.mode,direction=options.direction||"left",ref=(direction==="up"||direction==="down")?"top":"left",positiveMotion=(direction==="up"||direction==="left"),distance=options.distance||element[ref==="top"?"outerHeight":"outerWidth"](true),animation={};$.effects.createPlaceholder(element);startClip=element.cssClip();startRef=element.position()[ref];animation[ref]=(positiveMotion?-1:1)*distance+startRef;animation.clip=element.cssClip();animation.clip[map[direction][1]]=animation.clip[map[direction][0]];if(mode==="show"){element.cssClip(animation.clip);element.css(ref,animation[ref]);animation.clip=startClip;animation[ref]=startRef;}
element.animate(animation,{queue:false,duration:options.duration,easing:options.easing,complete:done});});var effect;if($.uiBackCompat!==false){effect=$.effects.define("transfer",function(options,done){$(this).transfer(options,done);});}
var effectsEffectTransfer=effect;}));
!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,function(t,e,o){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t){var e=getComputedStyle(t)||{},o=e.position;if("fixed"===o)return t;for(var i=t;i=i.parentNode;){var n=void 0;try{n=getComputedStyle(i)}catch(r){}if("undefined"==typeof n||null===n)return i;var s=n,a=s.overflow,f=s.overflowX,h=s.overflowY;if(/(auto|scroll)/.test(a+h+f)&&("absolute"!==o||["relative","absolute","fixed"].indexOf(n.position)>=0))return i}return document.body}function r(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var o=e.documentElement,i={},n=t.getBoundingClientRect();for(var r in n)i[r]=n[r];var s=x(e);return i.top-=s.top,i.left-=s.left,"undefined"==typeof i.width&&(i.width=document.body.scrollWidth-i.left-i.right),"undefined"==typeof i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-o.clientTop,i.left=i.left-o.clientLeft,i.right=e.body.clientWidth-i.width-i.left,i.bottom=e.body.clientHeight-i.height-i.top,i}function s(t){return t.offsetParent||document.documentElement}function a(){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");f(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var o=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;o===i&&(i=e.clientWidth),document.body.removeChild(e);var n=o-i;return{width:n,height:n}}function f(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var o in e)({}).hasOwnProperty.call(e,o)&&(t[o]=e[o])}),t}function h(t,e){if("undefined"!=typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var o=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),i=u(t).replace(o," ");p(t,i)}}function l(t,e){if("undefined"!=typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{h(t,e);var o=u(t)+(" "+e);p(t,o)}}function d(t,e){if("undefined"!=typeof t.classList)return t.classList.contains(e);var o=u(t);return new RegExp("(^| )"+e+"( |$)","gi").test(o)}function u(t){return t.className instanceof SVGAnimatedString?t.className.baseVal:t.className}function p(t,e){t.setAttribute("class",e)}function c(t,e,o){o.forEach(function(o){-1===e.indexOf(o)&&d(t,o)&&h(t,o)}),e.forEach(function(e){d(t,e)||l(t,e)})}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){var o=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+o>=e&&e>=t-o}function m(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function v(){for(var t={top:0,left:0},e=arguments.length,o=Array(e),i=0;e>i;i++)o[i]=arguments[i];return o.forEach(function(e){var o=e.top,i=e.left;"string"==typeof o&&(o=parseFloat(o,10)),"string"==typeof i&&(i=parseFloat(i,10)),t.top+=o,t.left+=i}),t}function y(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function b(t,e){return"scrollParent"===e?e=t.scrollParent:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),"undefined"!=typeof e.nodeType&&!function(){var t=r(e),o=t,i=getComputedStyle(e);e=[o.left,o.top,t.width+o.left,t.height+o.top],U.forEach(function(t,o){t=t[0].toUpperCase()+t.substr(1),"Top"===t||"Left"===t?e[o]+=parseFloat(i["border"+t+"Width"]):e[o]-=parseFloat(i["border"+t+"Width"])})}(),e}var w=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),C=void 0;"undefined"==typeof C&&(C={modules:[]});var O=function(){var t=0;return function(){return++t}}(),E={},x=function(t){var e=t._tetherZeroElement;"undefined"==typeof e&&(e=t.createElement("div"),e.setAttribute("data-tether-id",O()),f(e.style,{top:0,left:0,position:"absolute"}),t.body.appendChild(e),t._tetherZeroElement=e);var o=e.getAttribute("data-tether-id");if("undefined"==typeof E[o]){E[o]={};var i=e.getBoundingClientRect();for(var n in i)E[o][n]=i[n];T(function(){delete E[o]})}return E[o]},A=[],T=function(t){A.push(t)},S=function(){for(var t=void 0;t=A.pop();)t()},W=function(){function t(){i(this,t)}return w(t,[{key:"on",value:function(t,e,o){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:o,once:i})}},{key:"once",value:function(t,e,o){this.on(t,e,o,!0)}},{key:"off",value:function(t,e){if("undefined"==typeof this.bindings||"undefined"==typeof this.bindings[t])if("undefined"==typeof e)delete this.bindings[t];else for(var o=0;o<this.bindings[t].length;)this.bindings[t][o].handler===e?this.bindings[t].splice(o,1):++o}},{key:"trigger",value:function(t){if("undefined"!=typeof this.bindings&&this.bindings[t]){for(var e=0,o=arguments.length,i=Array(o>1?o-1:0),n=1;o>n;n++)i[n-1]=arguments[n];for(;e<this.bindings[t].length;){var r=this.bindings[t][e],s=r.handler,a=r.ctx,f=r.once,h=a;"undefined"==typeof h&&(h=this),s.apply(h,i),f?this.bindings[t].splice(e,1):++e}}}}]),t}();C.Utils={getScrollParent:n,getBounds:r,getOffsetParent:s,extend:f,addClass:l,removeClass:h,hasClass:d,updateClasses:c,defer:T,flush:S,uniqueId:O,Evented:W,getScrollBarSize:a};var M=function(){function t(t,e){var o=[],i=!0,n=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(o.push(s.value),!e||o.length!==e);i=!0);}catch(f){n=!0,r=f}finally{try{!i&&a["return"]&&a["return"]()}finally{if(n)throw r}}return o}return function(e,o){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}();if("undefined"==typeof C)throw new Error("You must include the utils.js file before tether.js");var P=C.Utils,n=P.getScrollParent,r=P.getBounds,s=P.getOffsetParent,f=P.extend,l=P.addClass,h=P.removeClass,c=P.updateClasses,T=P.defer,S=P.flush,a=P.getScrollBarSize,k=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","webkitTransform","OTransform","MozTransform","msTransform"],o=0;o<e.length;++o){var i=e[o];if(void 0!==t.style[i])return i}}(),B=[],_=function(){B.forEach(function(t){t.position(!1)}),S()};!function(){var t=null,e=null,o=null,i=function n(){return"undefined"!=typeof e&&e>16?(e=Math.min(e-16,250),void(o=setTimeout(n,250))):void("undefined"!=typeof t&&m()-t<10||("undefined"!=typeof o&&(clearTimeout(o),o=null),t=m(),_(),e=m()-t))};"undefined"!=typeof window&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,i)})}();var z={center:"center",left:"right",right:"left"},F={middle:"middle",top:"bottom",bottom:"top"},L={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},Y=function(t,e){var o=t.left,i=t.top;return"auto"===o&&(o=z[e.left]),"auto"===i&&(i=F[e.top]),{left:o,top:i}},H=function(t){var e=t.left,o=t.top;return"undefined"!=typeof L[t.left]&&(e=L[t.left]),"undefined"!=typeof L[t.top]&&(o=L[t.top]),{left:e,top:o}},X=function(t){var e=t.split(" "),o=M(e,2),i=o[0],n=o[1];return{top:i,left:n}},j=X,N=function(){function t(e){var o=this;i(this,t),this.position=this.position.bind(this),B.push(this),this.history=[],this.setOptions(e,!1),C.modules.forEach(function(t){"undefined"!=typeof t.initialize&&t.initialize.call(o)}),this.position()}return w(t,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return"undefined"!=typeof e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,o=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],i={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=f(i,t);var r=this.options,s=r.element,a=r.target,h=r.targetModifier;if(this.element=s,this.target=a,this.targetModifier=h,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if("undefined"==typeof e[t])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),l(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&l(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=j(this.options.targetAttachment),this.attachment=j(this.options.attachment),this.offset=X(this.options.offset),this.targetOffset=X(this.options.targetOffset),"undefined"!=typeof this.scrollParent&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParent=this.target:this.scrollParent=n(this.target),this.options.enabled!==!1&&this.enable(o)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return r(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var t=r(this.target),e={height:t.height,width:t.width,top:t.top,left:t.left};return e.height=Math.min(e.height,t.height-(pageYOffset-t.top)),e.height=Math.min(e.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,t.width-(pageXOffset-t.left)),e.width=Math.min(e.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e}if("scroll-handle"===this.targetModifier){var t=void 0,o=this.target;o===document.body?(o=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=r(o);var i=getComputedStyle(o),n=o.scrollWidth>o.clientWidth||[i.overflow,i.overflowX].indexOf("scroll")>=0||this.target!==document.body,s=0;n&&(s=15);var a=t.height-parseFloat(i.borderTopWidth)-parseFloat(i.borderBottomWidth)-s,e={width:15,height:.975*a*(a/o.scrollHeight),left:t.left+t.width-parseFloat(i.borderLeftWidth)-15},f=0;408>a&&this.target===document.body&&(f=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24));var h=this.target.scrollTop/(o.scrollHeight-a);return e.top=h*(a-e.height-f)+t.top+parseFloat(i.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.options.addTargetClasses!==!1&&l(this.target,this.getClass("enabled")),l(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),t&&this.position()}},{key:"disable",value:function(){h(this.target,this.getClass("enabled")),h(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParent&&this.scrollParent.removeEventListener("scroll",this.position)}},{key:"destroy",value:function(){var t=this;this.disable(),B.forEach(function(e,o){return e===t?void B.splice(o,1):void 0})}},{key:"updateAttachClasses",value:function(t,e){var o=this;t=t||this.attachment,e=e||this.targetAttachment;var i=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var n=this._addAttachClasses;t.top&&n.push(this.getClass("element-attached")+"-"+t.top),t.left&&n.push(this.getClass("element-attached")+"-"+t.left),e.top&&n.push(this.getClass("target-attached")+"-"+e.top),e.left&&n.push(this.getClass("target-attached")+"-"+e.left);var r=[];i.forEach(function(t){r.push(o.getClass("element-attached")+"-"+t),r.push(o.getClass("target-attached")+"-"+t)}),T(function(){"undefined"!=typeof o._addAttachClasses&&(c(o.element,o._addAttachClasses,r),o.options.addTargetClasses!==!1&&c(o.target,o._addAttachClasses,r),delete o._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];if(this.enabled){this.clearCache();var o=Y(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,o);var i=this.cache("element-bounds",function(){return r(t.element)}),n=i.width,f=i.height;if(0===n&&0===f&&"undefined"!=typeof this.lastSize){var h=this.lastSize;n=h.width,f=h.height}else this.lastSize={width:n,height:f};var l=this.cache("target-bounds",function(){return t.getTargetBounds()}),d=l,u=y(H(this.attachment),{width:n,height:f}),p=y(H(o),d),c=y(this.offset,{width:n,height:f}),g=y(this.targetOffset,d);u=v(u,c),p=v(p,g);for(var m=l.left+p.left-u.left,b=l.top+p.top-u.top,w=0;w<C.modules.length;++w){var O=C.modules[w],E=O.position.call(this,{left:m,top:b,targetAttachment:o,targetPos:l,elementPos:i,offset:u,targetOffset:p,manualOffset:c,manualTargetOffset:g,scrollbarSize:A,attachment:this.attachment});if(E===!1)return!1;"undefined"!=typeof E&&"object"==typeof E&&(b=E.top,m=E.left)}var x={page:{top:b,left:m},viewport:{top:b-pageYOffset,bottom:pageYOffset-b-f+innerHeight,left:m-pageXOffset,right:pageXOffset-m-n+innerWidth}},A=void 0;return document.body.scrollWidth>window.innerWidth&&(A=this.cache("scrollbar-size",a),x.viewport.bottom-=A.height),document.body.scrollHeight>window.innerHeight&&(A=this.cache("scrollbar-size",a),x.viewport.right-=A.width),(-1===["","static"].indexOf(document.body.style.position)||-1===["","static"].indexOf(document.body.parentElement.style.position))&&(x.page.bottom=document.body.scrollHeight-b-f,x.page.right=document.body.scrollWidth-m-n),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var e=t.cache("target-offsetparent",function(){return s(t.target)}),o=t.cache("target-offsetparent-bounds",function(){return r(e)}),i=getComputedStyle(e),n=o,a={};if(["Top","Left","Bottom","Right"].forEach(function(t){a[t.toLowerCase()]=parseFloat(i["border"+t+"Width"])}),o.right=document.body.scrollWidth-o.left-n.width+a.right,o.bottom=document.body.scrollHeight-o.top-n.height+a.bottom,x.page.top>=o.top+a.top&&x.page.bottom>=o.bottom&&x.page.left>=o.left+a.left&&x.page.right>=o.right){var f=e.scrollTop,h=e.scrollLeft;x.offset={top:x.page.top-o.top+f-a.top,left:x.page.left-o.left+h-a.left}}}(),this.move(x),this.history.unshift(x),this.history.length>3&&this.history.pop(),e&&S(),!0}}},{key:"move",value:function(t){var e=this;if("undefined"!=typeof this.element.parentNode){var o={};for(var i in t){o[i]={};for(var n in t[i]){for(var r=!1,a=0;a<this.history.length;++a){var h=this.history[a];if("undefined"!=typeof h[i]&&!g(h[i][n],t[i][n])){r=!0;break}}r||(o[i][n]=!0)}}var l={top:"",left:"",right:"",bottom:""},d=function(t,o){var i="undefined"!=typeof e.options.optimizations,n=i?e.options.optimizations.gpu:null;if(n!==!1){var r=void 0,s=void 0;t.top?(l.top=0,r=o.top):(l.bottom=0,r=-o.bottom),t.left?(l.left=0,s=o.left):(l.right=0,s=-o.right),l[k]="translateX("+Math.round(s)+"px) translateY("+Math.round(r)+"px)","msTransform"!==k&&(l[k]+=" translateZ(0)")}else t.top?l.top=o.top+"px":l.bottom=o.bottom+"px",t.left?l.left=o.left+"px":l.right=o.right+"px"},u=!1;if((o.page.top||o.page.bottom)&&(o.page.left||o.page.right)?(l.position="absolute",d(o.page,t.page)):(o.viewport.top||o.viewport.bottom)&&(o.viewport.left||o.viewport.right)?(l.position="fixed",d(o.viewport,t.viewport)):"undefined"!=typeof o.offset&&o.offset.top&&o.offset.left?!function(){l.position="absolute";var i=e.cache("target-offsetparent",function(){return s(e.target)});s(e.element)!==i&&T(function(){e.element.parentNode.removeChild(e.element),i.appendChild(e.element)}),d(o.offset,t.offset),u=!0}():(l.position="absolute",d({top:!0,left:!0},t.page)),!u){for(var p=!0,c=this.element.parentNode;c&&"BODY"!==c.tagName;){if("static"!==getComputedStyle(c).position){p=!1;break}c=c.parentNode}p||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element))}var m={},v=!1;for(var n in l){var y=l[n],b=this.element.style[n];""!==b&&""!==y&&["top","left","bottom","right"].indexOf(n)>=0&&(b=parseFloat(b),y=parseFloat(y)),b!==y&&(v=!0,m[n]=y)}v&&T(function(){f(e.element.style,m)})}}}]),t}();N.modules=[],C.position=_;var R=f(N,C),M=function(){function t(t,e){var o=[],i=!0,n=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(o.push(s.value),!e||o.length!==e);i=!0);}catch(f){n=!0,r=f}finally{try{!i&&a["return"]&&a["return"]()}finally{if(n)throw r}}return o}return function(e,o){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=C.Utils,r=P.getBounds,f=P.extend,c=P.updateClasses,T=P.defer,U=["left","top","right","bottom"];C.modules.push({position:function(t){var e=this,o=t.top,i=t.left,n=t.targetAttachment;if(!this.options.constraints)return!0;var s=this.cache("element-bounds",function(){return r(e.element)}),a=s.height,h=s.width;if(0===h&&0===a&&"undefined"!=typeof this.lastSize){var l=this.lastSize;h=l.width,a=l.height}var d=this.cache("target-bounds",function(){return e.getTargetBounds()}),u=d.height,p=d.width,g=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,o=t.pinnedClass;e&&g.push(e),o&&g.push(o)}),g.forEach(function(t){["left","top","right","bottom"].forEach(function(e){g.push(t+"-"+e)})});var m=[],v=f({},n),y=f({},this.attachment);return this.options.constraints.forEach(function(t){var r=t.to,s=t.attachment,f=t.pin;"undefined"==typeof s&&(s="");var l=void 0,d=void 0;if(s.indexOf(" ")>=0){var c=s.split(" "),g=M(c,2);d=g[0],l=g[1]}else l=d=s;var w=b(e,r);("target"===d||"both"===d)&&(o<w[1]&&"top"===v.top&&(o+=u,v.top="bottom"),o+a>w[3]&&"bottom"===v.top&&(o-=u,v.top="top")),"together"===d&&(o<w[1]&&"top"===v.top&&("bottom"===y.top?(o+=u,v.top="bottom",o+=a,y.top="top"):"top"===y.top&&(o+=u,v.top="bottom",o-=a,y.top="bottom")),o+a>w[3]&&"bottom"===v.top&&("top"===y.top?(o-=u,v.top="top",o-=a,y.top="bottom"):"bottom"===y.top&&(o-=u,v.top="top",o+=a,y.top="top")),"middle"===v.top&&(o+a>w[3]&&"top"===y.top?(o-=a,y.top="bottom"):o<w[1]&&"bottom"===y.top&&(o+=a,y.top="top"))),("target"===l||"both"===l)&&(i<w[0]&&"left"===v.left&&(i+=p,v.left="right"),i+h>w[2]&&"right"===v.left&&(i-=p,v.left="left")),"together"===l&&(i<w[0]&&"left"===v.left?"right"===y.left?(i+=p,v.left="right",i+=h,y.left="left"):"left"===y.left&&(i+=p,v.left="right",i-=h,y.left="right"):i+h>w[2]&&"right"===v.left?"left"===y.left?(i-=p,v.left="left",i-=h,y.left="right"):"right"===y.left&&(i-=p,v.left="left",i+=h,y.left="left"):"center"===v.left&&(i+h>w[2]&&"left"===y.left?(i-=h,y.left="right"):i<w[0]&&"right"===y.left&&(i+=h,y.left="left"))),("element"===d||"both"===d)&&(o<w[1]&&"bottom"===y.top&&(o+=a,y.top="top"),o+a>w[3]&&"top"===y.top&&(o-=a,y.top="bottom")),("element"===l||"both"===l)&&(i<w[0]&&("right"===y.left?(i+=h,y.left="left"):"center"===y.left&&(i+=h/2,y.left="left")),i+h>w[2]&&("left"===y.left?(i-=h,y.left="right"):"center"===y.left&&(i-=h/2,y.left="right"))),"string"==typeof f?f=f.split(",").map(function(t){return t.trim()}):f===!0&&(f=["top","left","right","bottom"]),f=f||[];var C=[],O=[];o<w[1]&&(f.indexOf("top")>=0?(o=w[1],C.push("top")):O.push("top")),o+a>w[3]&&(f.indexOf("bottom")>=0?(o=w[3]-a,C.push("bottom")):O.push("bottom")),i<w[0]&&(f.indexOf("left")>=0?(i=w[0],C.push("left")):O.push("left")),i+h>w[2]&&(f.indexOf("right")>=0?(i=w[2]-h,C.push("right")):O.push("right")),C.length&&!function(){var t=void 0;t="undefined"!=typeof e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),m.push(t),C.forEach(function(e){m.push(t+"-"+e)})}(),O.length&&!function(){var t=void 0;t="undefined"!=typeof e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),m.push(t),O.forEach(function(e){m.push(t+"-"+e)})}(),(C.indexOf("left")>=0||C.indexOf("right")>=0)&&(y.left=v.left=!1),(C.indexOf("top")>=0||C.indexOf("bottom")>=0)&&(y.top=v.top=!1),(v.top!==n.top||v.left!==n.left||y.top!==e.attachment.top||y.left!==e.attachment.left)&&e.updateAttachClasses(y,v)}),T(function(){e.options.addTargetClasses!==!1&&c(e.target,m,g),c(e.element,m,g)}),{top:o,left:i}}});var P=C.Utils,r=P.getBounds,c=P.updateClasses,T=P.defer;C.modules.push({position:function(t){var e=this,o=t.top,i=t.left,n=this.cache("element-bounds",function(){return r(e.element)}),s=n.height,a=n.width,f=this.getTargetBounds(),h=o+s,l=i+a,d=[];o<=f.bottom&&h>=f.top&&["left","right"].forEach(function(t){var e=f[t];(e===i||e===l)&&d.push(t)}),i<=f.right&&l>=f.left&&["top","bottom"].forEach(function(t){var e=f[t];(e===o||e===h)&&d.push(t)});var u=[],p=[],g=["left","top","right","bottom"];return u.push(this.getClass("abutted")),g.forEach(function(t){u.push(e.getClass("abutted")+"-"+t)}),d.length&&p.push(this.getClass("abutted")),d.forEach(function(t){p.push(e.getClass("abutted")+"-"+t)}),T(function(){e.options.addTargetClasses!==!1&&c(e.target,p,u),c(e.element,p,u)}),!0}});var M=function(){function t(t,e){var o=[],i=!0,n=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(o.push(s.value),!e||o.length!==e);i=!0);}catch(f){n=!0,r=f}finally{try{!i&&a["return"]&&a["return"]()}finally{if(n)throw r}}return o}return function(e,o){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return C.modules.push({position:function(t){var e=t.top,o=t.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:e,left:o}));var n=void 0,r=void 0;if("string"==typeof i){i=i.split(" "),i[1]=i[1]||i[0];var s=i,a=M(s,2);n=a[0],r=a[1],n=parseFloat(n,10),r=parseFloat(r,10)}else n=i.top,r=i.left;return e+=n,o+=r,{top:e,left:o}}}}),R});
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");+function(t){var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(jQuery),+function(){function t(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){function e(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(t){return(t[0]||t).nodeType}function i(){return{bindType:a.end,delegateType:a.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function o(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in h)if(void 0!==t.style[e])return{end:h[e]};return!1}function r(e){var n=this,i=!1;return t(this).one(c.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||c.triggerTransitionEnd(n)},e),this}function s(){a=o(),t.fn.emulateTransitionEnd=r,c.supportsTransitionEnd()&&(t.event.special[c.TRANSITION_END]=i())}var a=!1,l=1e6,h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do t+=~~(Math.random()*l);while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(a.end)},supportsTransitionEnd:function(){return Boolean(a)},typeCheckConfig:function(t,i,o){for(var r in o)if(o.hasOwnProperty(r)){var s=o[r],a=i[r],l=a&&n(a)?"element":e(a);if(!new RegExp(s).test(l))throw new Error(t.toUpperCase()+": "+('Option "'+r+'" provided type "'+l+'" ')+('but expected type "'+s+'".'))}}};return s(),c}(jQuery),s=(function(t){var e="alert",i="4.0.0-alpha.6",s="bs.alert",a="."+s,l=".data-api",h=t.fn[e],c=150,u={DISMISS:'[data-dismiss="alert"]'},d={CLOSE:"close"+a,CLOSED:"closed"+a,CLICK_DATA_API:"click"+a+l},f={ALERT:"alert",FADE:"fade",SHOW:"show"},_=function(){function e(t){n(this,e),this._element=t}return e.prototype.close=function(t){t=t||this._element;var e=this._getRootElement(t),n=this._triggerCloseEvent(e);n.isDefaultPrevented()||this._removeElement(e)},e.prototype.dispose=function(){t.removeData(this._element,s),this._element=null},e.prototype._getRootElement=function(e){var n=r.getSelectorFromElement(e),i=!1;return n&&(i=t(n)[0]),i||(i=t(e).closest("."+f.ALERT)[0]),i},e.prototype._triggerCloseEvent=function(e){var n=t.Event(d.CLOSE);return t(e).trigger(n),n},e.prototype._removeElement=function(e){var n=this;return t(e).removeClass(f.SHOW),r.supportsTransitionEnd()&&t(e).hasClass(f.FADE)?void t(e).one(r.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(c):void this._destroyElement(e)},e.prototype._destroyElement=function(e){t(e).detach().trigger(d.CLOSED).remove()},e._jQueryInterface=function(n){return this.each(function(){var i=t(this),o=i.data(s);o||(o=new e(this),i.data(s,o)),"close"===n&&o[n](this)})},e._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},o(e,null,[{key:"VERSION",get:function(){return i}}]),e}();return t(document).on(d.CLICK_DATA_API,u.DISMISS,_._handleDismiss(new _)),t.fn[e]=_._jQueryInterface,t.fn[e].Constructor=_,t.fn[e].noConflict=function(){return t.fn[e]=h,_._jQueryInterface},_}(jQuery),function(t){var e="button",i="4.0.0-alpha.6",r="bs.button",s="."+r,a=".data-api",l=t.fn[e],h={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},c={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},u={CLICK_DATA_API:"click"+s+a,FOCUS_BLUR_DATA_API:"focus"+s+a+" "+("blur"+s+a)},d=function(){function e(t){n(this,e),this._element=t}return e.prototype.toggle=function(){var e=!0,n=t(this._element).closest(c.DATA_TOGGLE)[0];if(n){var i=t(this._element).find(c.INPUT)[0];if(i){if("radio"===i.type)if(i.checked&&t(this._element).hasClass(h.ACTIVE))e=!1;else{var o=t(n).find(c.ACTIVE)[0];o&&t(o).removeClass(h.ACTIVE)}e&&(i.checked=!t(this._element).hasClass(h.ACTIVE),t(i).trigger("change")),i.focus()}}this._element.setAttribute("aria-pressed",!t(this._element).hasClass(h.ACTIVE)),e&&t(this._element).toggleClass(h.ACTIVE)},e.prototype.dispose=function(){t.removeData(this._element,r),this._element=null},e._jQueryInterface=function(n){return this.each(function(){var i=t(this).data(r);i||(i=new e(this),t(this).data(r,i)),"toggle"===n&&i[n]()})},o(e,null,[{key:"VERSION",get:function(){return i}}]),e}();return t(document).on(u.CLICK_DATA_API,c.DATA_TOGGLE_CARROT,function(e){e.preventDefault();var n=e.target;t(n).hasClass(h.BUTTON)||(n=t(n).closest(c.BUTTON)),d._jQueryInterface.call(t(n),"toggle")}).on(u.FOCUS_BLUR_DATA_API,c.DATA_TOGGLE_CARROT,function(e){var n=t(e.target).closest(c.BUTTON)[0];t(n).toggleClass(h.FOCUS,/^focus(in)?$/.test(e.type))}),t.fn[e]=d._jQueryInterface,t.fn[e].Constructor=d,t.fn[e].noConflict=function(){return t.fn[e]=l,d._jQueryInterface},d}(jQuery),function(t){var e="carousel",s="4.0.0-alpha.6",a="bs.carousel",l="."+a,h=".data-api",c=t.fn[e],u=600,d=37,f=39,_={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},g={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},p={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},m={SLIDE:"slide"+l,SLID:"slid"+l,KEYDOWN:"keydown"+l,MOUSEENTER:"mouseenter"+l,MOUSELEAVE:"mouseleave"+l,LOAD_DATA_API:"load"+l+h,CLICK_DATA_API:"click"+l+h},E={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},v={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},T=function(){function h(e,i){n(this,h),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this._config=this._getConfig(i),this._element=t(e)[0],this._indicatorsElement=t(this._element).find(v.INDICATORS)[0],this._addEventListeners()}return h.prototype.next=function(){if(this._isSliding)throw new Error("Carousel is sliding");this._slide(p.NEXT)},h.prototype.nextWhenVisible=function(){document.hidden||this.next()},h.prototype.prev=function(){if(this._isSliding)throw new Error("Carousel is sliding");this._slide(p.PREVIOUS)},h.prototype.pause=function(e){e||(this._isPaused=!0),t(this._element).find(v.NEXT_PREV)[0]&&r.supportsTransitionEnd()&&(r.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},h.prototype.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},h.prototype.to=function(e){var n=this;this._activeElement=t(this._element).find(v.ACTIVE_ITEM)[0];var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0)){if(this._isSliding)return void t(this._element).one(m.SLID,function(){return n.to(e)});if(i===e)return this.pause(),void this.cycle();var o=e>i?p.NEXT:p.PREVIOUS;this._slide(o,this._items[e])}},h.prototype.dispose=function(){t(this._element).off(l),t.removeData(this._element,a),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},h.prototype._getConfig=function(n){return n=t.extend({},_,n),r.typeCheckConfig(e,n,g),n},h.prototype._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(m.KEYDOWN,function(t){return e._keydown(t)}),"hover"!==this._config.pause||"ontouchstart"in document.documentElement||t(this._element).on(m.MOUSEENTER,function(t){return e.pause(t)}).on(m.MOUSELEAVE,function(t){return e.cycle(t)})},h.prototype._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case d:t.preventDefault(),this.prev();break;case f:t.preventDefault(),this.next();break;default:return}},h.prototype._getItemIndex=function(e){return this._items=t.makeArray(t(e).parent().find(v.ITEM)),this._items.indexOf(e)},h.prototype._getItemByDirection=function(t,e){var n=t===p.NEXT,i=t===p.PREVIOUS,o=this._getItemIndex(e),r=this._items.length-1,s=i&&0===o||n&&o===r;if(s&&!this._config.wrap)return e;var a=t===p.PREVIOUS?-1:1,l=(o+a)%this._items.length;return l===-1?this._items[this._items.length-1]:this._items[l]},h.prototype._triggerSlideEvent=function(e,n){var i=t.Event(m.SLIDE,{relatedTarget:e,direction:n});return t(this._element).trigger(i),i},h.prototype._setActiveIndicatorElement=function(e){if(this._indicatorsElement){t(this._indicatorsElement).find(v.ACTIVE).removeClass(E.ACTIVE);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&t(n).addClass(E.ACTIVE)}},h.prototype._slide=function(e,n){var i=this,o=t(this._element).find(v.ACTIVE_ITEM)[0],s=n||o&&this._getItemByDirection(e,o),a=Boolean(this._interval),l=void 0,h=void 0,c=void 0;if(e===p.NEXT?(l=E.LEFT,h=E.NEXT,c=p.LEFT):(l=E.RIGHT,h=E.PREV,c=p.RIGHT),s&&t(s).hasClass(E.ACTIVE))return void(this._isSliding=!1);var d=this._triggerSlideEvent(s,c);if(!d.isDefaultPrevented()&&o&&s){this._isSliding=!0,a&&this.pause(),this._setActiveIndicatorElement(s);var f=t.Event(m.SLID,{relatedTarget:s,direction:c});r.supportsTransitionEnd()&&t(this._element).hasClass(E.SLIDE)?(t(s).addClass(h),r.reflow(s),t(o).addClass(l),t(s).addClass(l),t(o).one(r.TRANSITION_END,function(){t(s).removeClass(l+" "+h).addClass(E.ACTIVE),t(o).removeClass(E.ACTIVE+" "+h+" "+l),i._isSliding=!1,setTimeout(function(){return t(i._element).trigger(f)},0)}).emulateTransitionEnd(u)):(t(o).removeClass(E.ACTIVE),t(s).addClass(E.ACTIVE),this._isSliding=!1,t(this._element).trigger(f)),a&&this.cycle()}},h._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(a),o=t.extend({},_,t(this).data());"object"===("undefined"==typeof e?"undefined":i(e))&&t.extend(o,e);var r="string"==typeof e?e:o.slide;if(n||(n=new h(this,o),t(this).data(a,n)),"number"==typeof e)n.to(e);else if("string"==typeof r){if(void 0===n[r])throw new Error('No method named "'+r+'"');n[r]()}else o.interval&&(n.pause(),n.cycle())})},h._dataApiClickHandler=function(e){var n=r.getSelectorFromElement(this);if(n){var i=t(n)[0];if(i&&t(i).hasClass(E.CAROUSEL)){var o=t.extend({},t(i).data(),t(this).data()),s=this.getAttribute("data-slide-to");s&&(o.interval=!1),h._jQueryInterface.call(t(i),o),s&&t(i).data(a).to(s),e.preventDefault()}}},o(h,null,[{key:"VERSION",get:function(){return s}},{key:"Default",get:function(){return _}}]),h}();return t(document).on(m.CLICK_DATA_API,v.DATA_SLIDE,T._dataApiClickHandler),t(window).on(m.LOAD_DATA_API,function(){t(v.DATA_RIDE).each(function(){var e=t(this);T._jQueryInterface.call(e,e.data())})}),t.fn[e]=T._jQueryInterface,t.fn[e].Constructor=T,t.fn[e].noConflict=function(){return t.fn[e]=c,T._jQueryInterface},T}(jQuery),function(t){var e="collapse",s="4.0.0-alpha.6",a="bs.collapse",l="."+a,h=".data-api",c=t.fn[e],u=600,d={toggle:!0,parent:""},f={toggle:"boolean",parent:"string"},_={SHOW:"show"+l,SHOWN:"shown"+l,HIDE:"hide"+l,HIDDEN:"hidden"+l,CLICK_DATA_API:"click"+l+h},g={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},p={WIDTH:"width",HEIGHT:"height"},m={ACTIVES:".card > .show, .card > .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},E=function(){function l(e,i){n(this,l),this._isTransitioning=!1,this._element=e,this._config=this._getConfig(i),this._triggerArray=t.makeArray(t('[data-toggle="collapse"][href="#'+e.id+'"],'+('[data-toggle="collapse"][data-target="#'+e.id+'"]'))),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return l.prototype.toggle=function(){t(this._element).hasClass(g.SHOW)?this.hide():this.show()},l.prototype.show=function(){var e=this;if(this._isTransitioning)throw new Error("Collapse is transitioning");if(!t(this._element).hasClass(g.SHOW)){var n=void 0,i=void 0;if(this._parent&&(n=t.makeArray(t(this._parent).find(m.ACTIVES)),n.length||(n=null)),!(n&&(i=t(n).data(a),i&&i._isTransitioning))){var o=t.Event(_.SHOW);if(t(this._element).trigger(o),!o.isDefaultPrevented()){n&&(l._jQueryInterface.call(t(n),"hide"),i||t(n).data(a,null));var s=this._getDimension();t(this._element).removeClass(g.COLLAPSE).addClass(g.COLLAPSING),this._element.style[s]=0,this._element.setAttribute("aria-expanded",!0),this._triggerArray.length&&t(this._triggerArray).removeClass(g.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var h=function(){t(e._element).removeClass(g.COLLAPSING).addClass(g.COLLAPSE).addClass(g.SHOW),e._element.style[s]="",e.setTransitioning(!1),t(e._element).trigger(_.SHOWN)};if(!r.supportsTransitionEnd())return void h();var c=s[0].toUpperCase()+s.slice(1),d="scroll"+c;t(this._element).one(r.TRANSITION_END,h).emulateTransitionEnd(u),this._element.style[s]=this._element[d]+"px"}}}},l.prototype.hide=function(){var e=this;if(this._isTransitioning)throw new Error("Collapse is transitioning");if(t(this._element).hasClass(g.SHOW)){var n=t.Event(_.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension(),o=i===p.WIDTH?"offsetWidth":"offsetHeight";this._element.style[i]=this._element[o]+"px",r.reflow(this._element),t(this._element).addClass(g.COLLAPSING).removeClass(g.COLLAPSE).removeClass(g.SHOW),this._element.setAttribute("aria-expanded",!1),this._triggerArray.length&&t(this._triggerArray).addClass(g.COLLAPSED).attr("aria-expanded",!1),this.setTransitioning(!0);var s=function(){e.setTransitioning(!1),t(e._element).removeClass(g.COLLAPSING).addClass(g.COLLAPSE).trigger(_.HIDDEN)};return this._element.style[i]="",r.supportsTransitionEnd()?void t(this._element).one(r.TRANSITION_END,s).emulateTransitionEnd(u):void s()}}},l.prototype.setTransitioning=function(t){this._isTransitioning=t},l.prototype.dispose=function(){t.removeData(this._element,a),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},l.prototype._getConfig=function(n){return n=t.extend({},d,n),n.toggle=Boolean(n.toggle),r.typeCheckConfig(e,n,f),n},l.prototype._getDimension=function(){var e=t(this._element).hasClass(p.WIDTH);return e?p.WIDTH:p.HEIGHT},l.prototype._getParent=function(){var e=this,n=t(this._config.parent)[0],i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return t(n).find(i).each(function(t,n){e._addAriaAndCollapsedClass(l._getTargetFromElement(n),[n])}),n},l.prototype._addAriaAndCollapsedClass=function(e,n){if(e){var i=t(e).hasClass(g.SHOW);e.setAttribute("aria-expanded",i),n.length&&t(n).toggleClass(g.COLLAPSED,!i).attr("aria-expanded",i)}},l._getTargetFromElement=function(e){var n=r.getSelectorFromElement(e);return n?t(n)[0]:null},l._jQueryInterface=function(e){return this.each(function(){var n=t(this),o=n.data(a),r=t.extend({},d,n.data(),"object"===("undefined"==typeof e?"undefined":i(e))&&e);if(!o&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),o||(o=new l(this,r),n.data(a,o)),"string"==typeof e){if(void 0===o[e])throw new Error('No method named "'+e+'"');o[e]()}})},o(l,null,[{key:"VERSION",get:function(){return s}},{key:"Default",get:function(){return d}}]),l}();return t(document).on(_.CLICK_DATA_API,m.DATA_TOGGLE,function(e){e.preventDefault();var n=E._getTargetFromElement(this),i=t(n).data(a),o=i?"toggle":t(this).data();E._jQueryInterface.call(t(n),o)}),t.fn[e]=E._jQueryInterface,t.fn[e].Constructor=E,t.fn[e].noConflict=function(){return t.fn[e]=c,E._jQueryInterface},E}(jQuery),function(t){var e="dropdown",i="4.0.0-alpha.6",s="bs.dropdown",a="."+s,l=".data-api",h=t.fn[e],c=27,u=38,d=40,f=3,_={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,CLICK:"click"+a,CLICK_DATA_API:"click"+a+l,FOCUSIN_DATA_API:"focusin"+a+l,KEYDOWN_DATA_API:"keydown"+a+l},g={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",SHOW:"show"},p={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},m=function(){function e(t){n(this,e),this._element=t,this._addEventListeners()}return e.prototype.toggle=function(){if(this.disabled||t(this).hasClass(g.DISABLED))return!1;var n=e._getParentFromElement(this),i=t(n).hasClass(g.SHOW);if(e._clearMenus(),i)return!1;if("ontouchstart"in document.documentElement&&!t(n).closest(p.NAVBAR_NAV).length){var o=document.createElement("div");o.className=g.BACKDROP,t(o).insertBefore(this),t(o).on("click",e._clearMenus)}var r={relatedTarget:this},s=t.Event(_.SHOW,r);return t(n).trigger(s),!s.isDefaultPrevented()&&(this.focus(),this.setAttribute("aria-expanded",!0),t(n).toggleClass(g.SHOW),t(n).trigger(t.Event(_.SHOWN,r)),!1)},e.prototype.dispose=function(){t.removeData(this._element,s),t(this._element).off(a),this._element=null},e.prototype._addEventListeners=function(){t(this._element).on(_.CLICK,this.toggle)},e._jQueryInterface=function(n){return this.each(function(){var i=t(this).data(s);if(i||(i=new e(this),t(this).data(s,i)),"string"==typeof n){if(void 0===i[n])throw new Error('No method named "'+n+'"');i[n].call(this)}})},e._clearMenus=function(n){if(!n||n.which!==f){var i=t(p.BACKDROP)[0];i&&i.parentNode.removeChild(i);for(var o=t.makeArray(t(p.DATA_TOGGLE)),r=0;r<o.length;r++){var s=e._getParentFromElement(o[r]),a={relatedTarget:o[r]};if(t(s).hasClass(g.SHOW)&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"focusin"===n.type)&&t.contains(s,n.target))){var l=t.Event(_.HIDE,a);t(s).trigger(l),l.isDefaultPrevented()||(o[r].setAttribute("aria-expanded","false"),t(s).removeClass(g.SHOW).trigger(t.Event(_.HIDDEN,a)))}}}},e._getParentFromElement=function(e){var n=void 0,i=r.getSelectorFromElement(e);return i&&(n=t(i)[0]),n||e.parentNode},e._dataApiKeydownHandler=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!t(this).hasClass(g.DISABLED))){var i=e._getParentFromElement(this),o=t(i).hasClass(g.SHOW);if(!o&&n.which!==c||o&&n.which===c){if(n.which===c){var r=t(i).find(p.DATA_TOGGLE)[0];t(r).trigger("focus")}return void t(this).trigger("click")}var s=t(i).find(p.VISIBLE_ITEMS).get();if(s.length){var a=s.indexOf(n.target);n.which===u&&a>0&&a--,n.which===d&&a<s.length-1&&a++,a<0&&(a=0),s[a].focus()}}},o(e,null,[{key:"VERSION",get:function(){return i}}]),e}();return t(document).on(_.KEYDOWN_DATA_API,p.DATA_TOGGLE,m._dataApiKeydownHandler).on(_.KEYDOWN_DATA_API,p.ROLE_MENU,m._dataApiKeydownHandler).on(_.KEYDOWN_DATA_API,p.ROLE_LISTBOX,m._dataApiKeydownHandler).on(_.CLICK_DATA_API+" "+_.FOCUSIN_DATA_API,m._clearMenus).on(_.CLICK_DATA_API,p.DATA_TOGGLE,m.prototype.toggle).on(_.CLICK_DATA_API,p.FORM_CHILD,function(t){t.stopPropagation()}),t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=h,m._jQueryInterface},m}(jQuery),function(t){var e="modal",s="4.0.0-alpha.6",a="bs.modal",l="."+a,h=".data-api",c=t.fn[e],u=300,d=150,f=27,_={backdrop:!0,keyboard:!0,focus:!0,show:!0},g={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},p={HIDE:"hide"+l,HIDDEN:"hidden"+l,SHOW:"show"+l,SHOWN:"shown"+l,FOCUSIN:"focusin"+l,RESIZE:"resize"+l,CLICK_DISMISS:"click.dismiss"+l,KEYDOWN_DISMISS:"keydown.dismiss"+l,MOUSEUP_DISMISS:"mouseup.dismiss"+l,MOUSEDOWN_DISMISS:"mousedown.dismiss"+l,CLICK_DATA_API:"click"+l+h},m={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},E={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"},v=function(){function h(e,i){n(this,h),this._config=this._getConfig(i),this._element=e,this._dialog=t(e).find(E.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return h.prototype.toggle=function(t){return this._isShown?this.hide():this.show(t)},h.prototype.show=function(e){var n=this;if(this._isTransitioning)throw new Error("Modal is transitioning");r.supportsTransitionEnd()&&t(this._element).hasClass(m.FADE)&&(this._isTransitioning=!0);var i=t.Event(p.SHOW,{relatedTarget:e});t(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),t(document.body).addClass(m.OPEN),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(p.CLICK_DISMISS,E.DATA_DISMISS,function(t){return n.hide(t)}),t(this._dialog).on(p.MOUSEDOWN_DISMISS,function(){t(n._element).one(p.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))},h.prototype.hide=function(e){var n=this;if(e&&e.preventDefault(),this._isTransitioning)throw new Error("Modal is transitioning");var i=r.supportsTransitionEnd()&&t(this._element).hasClass(m.FADE);i&&(this._isTransitioning=!0);var o=t.Event(p.HIDE);t(this._element).trigger(o),this._isShown&&!o.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),t(document).off(p.FOCUSIN),t(this._element).removeClass(m.SHOW),t(this._element).off(p.CLICK_DISMISS),t(this._dialog).off(p.MOUSEDOWN_DISMISS),i?t(this._element).one(r.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(u):this._hideModal())},h.prototype.dispose=function(){t.removeData(this._element,a),t(window,document,this._element,this._backdrop).off(l),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._originalBodyPadding=null,this._scrollbarWidth=null},h.prototype._getConfig=function(n){return n=t.extend({},_,n),r.typeCheckConfig(e,n,g),n},h.prototype._showElement=function(e){var n=this,i=r.supportsTransitionEnd()&&t(this._element).hasClass(m.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&r.reflow(this._element),t(this._element).addClass(m.SHOW),this._config.focus&&this._enforceFocus();var o=t.Event(p.SHOWN,{relatedTarget:e}),s=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(o)};i?t(this._dialog).one(r.TRANSITION_END,s).emulateTransitionEnd(u):s()},h.prototype._enforceFocus=function(){var e=this;t(document).off(p.FOCUSIN).on(p.FOCUSIN,function(n){document===n.target||e._element===n.target||t(e._element).has(n.target).length||e._element.focus()})},h.prototype._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(p.KEYDOWN_DISMISS,function(t){t.which===f&&e.hide()}):this._isShown||t(this._element).off(p.KEYDOWN_DISMISS)},h.prototype._setResizeEvent=function(){var e=this;this._isShown?t(window).on(p.RESIZE,function(t){return e._handleUpdate(t)}):t(window).off(p.RESIZE)},h.prototype._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden","true"),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(m.OPEN),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(p.HIDDEN)})},h.prototype._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},h.prototype._showBackdrop=function(e){var n=this,i=t(this._element).hasClass(m.FADE)?m.FADE:"";if(this._isShown&&this._config.backdrop){var o=r.supportsTransitionEnd()&&i;if(this._backdrop=document.createElement("div"),this._backdrop.className=m.BACKDROP,i&&t(this._backdrop).addClass(i),t(this._backdrop).appendTo(document.body),t(this._element).on(p.CLICK_DISMISS,function(t){return n._ignoreBackdropClick?void(n._ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide()))}),o&&r.reflow(this._backdrop),t(this._backdrop).addClass(m.SHOW),!e)return;if(!o)return void e();t(this._backdrop).one(r.TRANSITION_END,e).emulateTransitionEnd(d)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(m.SHOW);var s=function(){n._removeBackdrop(),e&&e()};r.supportsTransitionEnd()&&t(this._element).hasClass(m.FADE)?t(this._backdrop).one(r.TRANSITION_END,s).emulateTransitionEnd(d):s()}else e&&e()},h.prototype._handleUpdate=function(){this._adjustDialog()},h.prototype._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},h.prototype._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},h.prototype._checkScrollbar=function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},h.prototype._setScrollbar=function(){var e=parseInt(t(E.FIXED_CONTENT).css("padding-right")||0,10);this._originalBodyPadding=document.body.style.paddingRight||"",this._isBodyOverflowing&&(document.body.style.paddingRight=e+this._scrollbarWidth+"px")},h.prototype._resetScrollbar=function(){document.body.style.paddingRight=this._originalBodyPadding},h.prototype._getScrollbarWidth=function(){var t=document.createElement("div");t.className=m.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},h._jQueryInterface=function(e,n){return this.each(function(){var o=t(this).data(a),r=t.extend({},h.Default,t(this).data(),"object"===("undefined"==typeof e?"undefined":i(e))&&e);if(o||(o=new h(this,r),t(this).data(a,o)),"string"==typeof e){if(void 0===o[e])throw new Error('No method named "'+e+'"');o[e](n)}else r.show&&o.show(n)})},o(h,null,[{key:"VERSION",get:function(){return s}},{key:"Default",get:function(){return _}}]),h}();return t(document).on(p.CLICK_DATA_API,E.DATA_TOGGLE,function(e){var n=this,i=void 0,o=r.getSelectorFromElement(this);o&&(i=t(o)[0]);var s=t(i).data(a)?"toggle":t.extend({},t(i).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var l=t(i).one(p.SHOW,function(e){e.isDefaultPrevented()||l.one(p.HIDDEN,function(){t(n).is(":visible")&&n.focus()})});v._jQueryInterface.call(t(i),s,this)}),t.fn[e]=v._jQueryInterface,t.fn[e].Constructor=v,t.fn[e].noConflict=function(){return t.fn[e]=c,v._jQueryInterface},v}(jQuery),function(t){var e="scrollspy",s="4.0.0-alpha.6",a="bs.scrollspy",l="."+a,h=".data-api",c=t.fn[e],u={offset:10,method:"auto",target:""},d={offset:"number",method:"string",target:"(string|element)"},f={ACTIVATE:"activate"+l,SCROLL:"scroll"+l,LOAD_DATA_API:"load"+l+h},_={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",NAV_LINK:"nav-link",NAV:"nav",ACTIVE:"active"},g={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",LIST_ITEM:".list-item",LI:"li",LI_DROPDOWN:"li.dropdown",NAV_LINKS:".nav-link",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},p={OFFSET:"offset",POSITION:"position"},m=function(){function h(e,i){var o=this;n(this,h),this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(i),this._selector=this._config.target+" "+g.NAV_LINKS+","+(this._config.target+" "+g.DROPDOWN_ITEMS),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(f.SCROLL,function(t){return o._process(t)}),this.refresh(),this._process()}return h.prototype.refresh=function(){var e=this,n=this._scrollElement!==this._scrollElement.window?p.POSITION:p.OFFSET,i="auto"===this._config.method?n:this._config.method,o=i===p.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var s=t.makeArray(t(this._selector));s.map(function(e){var n=void 0,s=r.getSelectorFromElement(e);return s&&(n=t(s)[0]),n&&(n.offsetWidth||n.offsetHeight)?[t(n)[i]().top+o,s]:null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},h.prototype.dispose=function(){t.removeData(this._element,a),t(this._scrollElement).off(l),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},h.prototype._getConfig=function(n){if(n=t.extend({},u,n),"string"!=typeof n.target){var i=t(n.target).attr("id");i||(i=r.getUID(e),t(n.target).attr("id",i)),n.target="#"+i}return r.typeCheckConfig(e,n,d),n},h.prototype._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},h.prototype._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},h.prototype._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.offsetHeight},h.prototype._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];return void(this._activeTarget!==i&&this._activate(i))}if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;){var r=this._activeTarget!==this._targets[o]&&t>=this._offsets[o]&&(void 0===this._offsets[o+1]||t<this._offsets[o+1]);r&&this._activate(this._targets[o])}},h.prototype._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",");n=n.map(function(t){return t+'[data-target="'+e+'"],'+(t+'[href="'+e+'"]')});var i=t(n.join(","));i.hasClass(_.DROPDOWN_ITEM)?(i.closest(g.DROPDOWN).find(g.DROPDOWN_TOGGLE).addClass(_.ACTIVE),i.addClass(_.ACTIVE)):i.parents(g.LI).find("> "+g.NAV_LINKS).addClass(_.ACTIVE),t(this._scrollElement).trigger(f.ACTIVATE,{relatedTarget:e})},h.prototype._clear=function(){t(this._selector).filter(g.ACTIVE).removeClass(_.ACTIVE)},h._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(a),o="object"===("undefined"==typeof e?"undefined":i(e))&&e;if(n||(n=new h(this,o),t(this).data(a,n)),"string"==typeof e){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},o(h,null,[{key:"VERSION",get:function(){return s}},{key:"Default",get:function(){return u}}]),h}();return t(window).on(f.LOAD_DATA_API,function(){for(var e=t.makeArray(t(g.DATA_SPY)),n=e.length;n--;){var i=t(e[n]);m._jQueryInterface.call(i,i.data())}}),t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=c,m._jQueryInterface},m}(jQuery),function(t){var e="tab",i="4.0.0-alpha.6",s="bs.tab",a="."+s,l=".data-api",h=t.fn[e],c=150,u={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,CLICK_DATA_API:"click"+a+l},d={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},f={A:"a",LI:"li",DROPDOWN:".dropdown",LIST:"ul:not(.dropdown-menu), ol:not(.dropdown-menu), nav:not(.dropdown-menu)",FADE_CHILD:"> .nav-item .fade, > .fade",ACTIVE:".active",ACTIVE_CHILD:"> .nav-item > .active, > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},_=function(){function e(t){n(this,e),this._element=t}return e.prototype.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(d.ACTIVE)||t(this._element).hasClass(d.DISABLED))){var n=void 0,i=void 0,o=t(this._element).closest(f.LIST)[0],s=r.getSelectorFromElement(this._element);o&&(i=t.makeArray(t(o).find(f.ACTIVE)),i=i[i.length-1]);var a=t.Event(u.HIDE,{relatedTarget:this._element}),l=t.Event(u.SHOW,{relatedTarget:i});if(i&&t(i).trigger(a),t(this._element).trigger(l),!l.isDefaultPrevented()&&!a.isDefaultPrevented()){s&&(n=t(s)[0]),this._activate(this._element,o);var h=function(){var n=t.Event(u.HIDDEN,{relatedTarget:e._element}),o=t.Event(u.SHOWN,{relatedTarget:i});t(i).trigger(n),t(e._element).trigger(o)};n?this._activate(n,n.parentNode,h):h()}}},e.prototype.dispose=function(){t.removeClass(this._element,s),this._element=null},e.prototype._activate=function(e,n,i){var o=this,s=t(n).find(f.ACTIVE_CHILD)[0],a=i&&r.supportsTransitionEnd()&&(s&&t(s).hasClass(d.FADE)||Boolean(t(n).find(f.FADE_CHILD)[0])),l=function(){return o._transitionComplete(e,s,a,i)};s&&a?t(s).one(r.TRANSITION_END,l).emulateTransitionEnd(c):l(),s&&t(s).removeClass(d.SHOW)},e.prototype._transitionComplete=function(e,n,i,o){if(n){t(n).removeClass(d.ACTIVE);var s=t(n.parentNode).find(f.DROPDOWN_ACTIVE_CHILD)[0];s&&t(s).removeClass(d.ACTIVE),n.setAttribute("aria-expanded",!1)}if(t(e).addClass(d.ACTIVE),e.setAttribute("aria-expanded",!0),i?(r.reflow(e),t(e).addClass(d.SHOW)):t(e).removeClass(d.FADE),e.parentNode&&t(e.parentNode).hasClass(d.DROPDOWN_MENU)){var a=t(e).closest(f.DROPDOWN)[0];a&&t(a).find(f.DROPDOWN_TOGGLE).addClass(d.ACTIVE),e.setAttribute("aria-expanded",!0)}o&&o()},e._jQueryInterface=function(n){return this.each(function(){var i=t(this),o=i.data(s);if(o||(o=new e(this),i.data(s,o)),"string"==typeof n){if(void 0===o[n])throw new Error('No method named "'+n+'"');o[n]()}})},o(e,null,[{key:"VERSION",get:function(){return i}}]),e}();return t(document).on(u.CLICK_DATA_API,f.DATA_TOGGLE,function(e){e.preventDefault(),_._jQueryInterface.call(t(this),"show")}),t.fn[e]=_._jQueryInterface,t.fn[e].Constructor=_,t.fn[e].noConflict=function(){return t.fn[e]=h,_._jQueryInterface},_}(jQuery),function(t){if("undefined"==typeof Tether)throw new Error("Bootstrap tooltips require Tether (http://tether.io/)");var e="tooltip",s="4.0.0-alpha.6",a="bs.tooltip",l="."+a,h=t.fn[e],c=150,u="bs-tether",d={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:"0 0",constraints:[],container:!1},f={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"string",constraints:"array",container:"(string|element|boolean)"},_={TOP:"bottom center",RIGHT:"middle left",BOTTOM:"top center",LEFT:"middle right"},g={SHOW:"show",OUT:"out"},p={HIDE:"hide"+l,HIDDEN:"hidden"+l,SHOW:"show"+l,SHOWN:"shown"+l,INSERTED:"inserted"+l,CLICK:"click"+l,FOCUSIN:"focusin"+l,FOCUSOUT:"focusout"+l,MOUSEENTER:"mouseenter"+l,MOUSELEAVE:"mouseleave"+l},m={FADE:"fade",SHOW:"show"},E={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner"},v={element:!1,enabled:!1},T={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},I=function(){function h(t,e){n(this,h),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._isTransitioning=!1,this._tether=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}return h.prototype.enable=function(){this._isEnabled=!0},h.prototype.disable=function(){this._isEnabled=!1},h.prototype.toggleEnabled=function(){this._isEnabled=!this._isEnabled},h.prototype.toggle=function(e){if(e){var n=this.constructor.DATA_KEY,i=t(e.currentTarget).data(n);i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(t(this.getTipElement()).hasClass(m.SHOW))return void this._leave(null,this);this._enter(null,this)}},h.prototype.dispose=function(){clearTimeout(this._timeout),this.cleanupTether(),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._tether=null,this.element=null,this.config=null,this.tip=null},h.prototype.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var n=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){if(this._isTransitioning)throw new Error("Tooltip is transitioning");t(this.element).trigger(n);var i=t.contains(this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!i)return;var o=this.getTipElement(),s=r.getUID(this.constructor.NAME);o.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&t(o).addClass(m.FADE);var a="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,l=this._getAttachment(a),c=this.config.container===!1?document.body:t(this.config.container);t(o).data(this.constructor.DATA_KEY,this).appendTo(c),t(this.element).trigger(this.constructor.Event.INSERTED),this._tether=new Tether({attachment:l,element:o,target:this.element,classes:v,classPrefix:u,offset:this.config.offset,constraints:this.config.constraints,addTargetClasses:!1}),r.reflow(o),this._tether.position(),t(o).addClass(m.SHOW);var d=function(){var n=e._hoverState;e._hoverState=null,e._isTransitioning=!1,t(e.element).trigger(e.constructor.Event.SHOWN),n===g.OUT&&e._leave(null,e)};if(r.supportsTransitionEnd()&&t(this.tip).hasClass(m.FADE))return this._isTransitioning=!0,void t(this.tip).one(r.TRANSITION_END,d).emulateTransitionEnd(h._TRANSITION_DURATION);d()}},h.prototype.hide=function(e){var n=this,i=this.getTipElement(),o=t.Event(this.constructor.Event.HIDE);if(this._isTransitioning)throw new Error("Tooltip is transitioning");var s=function(){n._hoverState!==g.SHOW&&i.parentNode&&i.parentNode.removeChild(i),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),n._isTransitioning=!1,n.cleanupTether(),e&&e()};t(this.element).trigger(o),o.isDefaultPrevented()||(t(i).removeClass(m.SHOW),this._activeTrigger[T.CLICK]=!1,this._activeTrigger[T.FOCUS]=!1,this._activeTrigger[T.HOVER]=!1,r.supportsTransitionEnd()&&t(this.tip).hasClass(m.FADE)?(this._isTransitioning=!0,t(i).one(r.TRANSITION_END,s).emulateTransitionEnd(c)):s(),this._hoverState="")},h.prototype.isWithContent=function(){return Boolean(this.getTitle())},h.prototype.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0]},h.prototype.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(E.TOOLTIP_INNER),this.getTitle()),e.removeClass(m.FADE+" "+m.SHOW),this.cleanupTether()},h.prototype.setElementContent=function(e,n){var o=this.config.html;"object"===("undefined"==typeof n?"undefined":i(n))&&(n.nodeType||n.jquery)?o?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[o?"html":"text"](n)},h.prototype.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},h.prototype.cleanupTether=function(){this._tether&&this._tether.destroy()},h.prototype._getAttachment=function(t){return _[t.toUpperCase()]},h.prototype._setListeners=function(){var e=this,n=this.config.trigger.split(" ");n.forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(n!==T.MANUAL){var i=n===T.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,o=n===T.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(i,e.config.selector,function(t){return e._enter(t)}).on(o,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=t.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},h.prototype._fixTitle=function(){var t=i(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},h.prototype._enter=function(e,n){var i=this.constructor.DATA_KEY;return n=n||t(e.currentTarget).data(i),n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusin"===e.type?T.FOCUS:T.HOVER]=!0),t(n.getTipElement()).hasClass(m.SHOW)||n._hoverState===g.SHOW?void(n._hoverState=g.SHOW):(clearTimeout(n._timeout),n._hoverState=g.SHOW,n.config.delay&&n.config.delay.show?void(n._timeout=setTimeout(function(){n._hoverState===g.SHOW&&n.show()},n.config.delay.show)):void n.show())},h.prototype._leave=function(e,n){var i=this.constructor.DATA_KEY;if(n=n||t(e.currentTarget).data(i),n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusout"===e.type?T.FOCUS:T.HOVER]=!1),!n._isWithActiveTrigger())return clearTimeout(n._timeout),n._hoverState=g.OUT,n.config.delay&&n.config.delay.hide?void(n._timeout=setTimeout(function(){n._hoverState===g.OUT&&n.hide()},n.config.delay.hide)):void n.hide()},h.prototype._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},h.prototype._getConfig=function(n){return n=t.extend({},this.constructor.Default,t(this.element).data(),n),n.delay&&"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),r.typeCheckConfig(e,n,this.constructor.DefaultType),n},h.prototype._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},h._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(a),o="object"===("undefined"==typeof e?"undefined":i(e))&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new h(this,o),t(this).data(a,n)),"string"==typeof e)){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},o(h,null,[{key:"VERSION",get:function(){return s}},{key:"Default",get:function(){return d}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return a}},{key:"Event",get:function(){return p}},{key:"EVENT_KEY",get:function(){return l}},{key:"DefaultType",get:function(){return f}}]),h}();return t.fn[e]=I._jQueryInterface,t.fn[e].Constructor=I,t.fn[e].noConflict=function(){return t.fn[e]=h,I._jQueryInterface},I}(jQuery));(function(r){var a="popover",l="4.0.0-alpha.6",h="bs.popover",c="."+h,u=r.fn[a],d=r.extend({},s.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),f=r.extend({},s.DefaultType,{content:"(string|element|function)"}),_={FADE:"fade",SHOW:"show"},g={TITLE:".popover-title",CONTENT:".popover-content"},p={HIDE:"hide"+c,HIDDEN:"hidden"+c,SHOW:"show"+c,SHOWN:"shown"+c,INSERTED:"inserted"+c,CLICK:"click"+c,FOCUSIN:"focusin"+c,FOCUSOUT:"focusout"+c,MOUSEENTER:"mouseenter"+c,MOUSELEAVE:"mouseleave"+c},m=function(s){function u(){return n(this,u),t(this,s.apply(this,arguments))}return e(u,s),u.prototype.isWithContent=function(){return this.getTitle()||this._getContent()},u.prototype.getTipElement=function(){return this.tip=this.tip||r(this.config.template)[0]},u.prototype.setContent=function(){var t=r(this.getTipElement());this.setElementContent(t.find(g.TITLE),this.getTitle()),this.setElementContent(t.find(g.CONTENT),this._getContent()),t.removeClass(_.FADE+" "+_.SHOW),this.cleanupTether()},u.prototype._getContent=function(){return this.element.getAttribute("data-content")||("function"==typeof this.config.content?this.config.content.call(this.element):this.config.content)},u._jQueryInterface=function(t){return this.each(function(){var e=r(this).data(h),n="object"===("undefined"==typeof t?"undefined":i(t))?t:null;if((e||!/destroy|hide/.test(t))&&(e||(e=new u(this,n),r(this).data(h,e)),"string"==typeof t)){if(void 0===e[t])throw new Error('No method named "'+t+'"');e[t]()}})},o(u,null,[{key:"VERSION",get:function(){return l}},{key:"Default",get:function(){return d}},{key:"NAME",get:function(){return a}},{key:"DATA_KEY",get:function(){return h}},{key:"Event",get:function(){return p}},{key:"EVENT_KEY",get:function(){return c}},{key:"DefaultType",get:function(){return f}}]),u}(s);return r.fn[a]=m._jQueryInterface,r.fn[a].Constructor=m,r.fn[a].noConflict=function(){return r.fn[a]=u,m._jQueryInterface},m})(jQuery)}();
(function(window,document,undefined){'use strict';function minErr(module,ErrorConstructor){ErrorConstructor=ErrorConstructor||Error;return function(){var code=arguments[0],prefix='['+(module?module+':':'')+code+'] ',template=arguments[1],templateArgs=arguments,message,i;message=prefix+template.replace(/\{\d+\}/g,function(match){var index=+match.slice(1,-1),arg;if(index+2<templateArgs.length){return toDebugString(templateArgs[index+2]);}
return match;});message=message+'\nhttp://errors.angularjs.org/1.3.15/'+
(module?module+'/':'')+code;for(i=2;i<arguments.length;i++){message=message+(i==2?'?':'&')+'p'+(i-2)+'='+
encodeURIComponent(toDebugString(arguments[i]));}
return new ErrorConstructor(message);};}
var REGEX_STRING_REGEXP=/^\/(.+)\/([a-z]*)$/;var VALIDITY_STATE_PROPERTY='validity';var lowercase=function(string){return isString(string)?string.toLowerCase():string;};var hasOwnProperty=Object.prototype.hasOwnProperty;var uppercase=function(string){return isString(string)?string.toUpperCase():string;};var manualLowercase=function(s){return isString(s)?s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(ch.charCodeAt(0)|32);}):s;};var manualUppercase=function(s){return isString(s)?s.replace(/[a-z]/g,function(ch){return String.fromCharCode(ch.charCodeAt(0)&~32);}):s;};if('i'!=='I'.toLowerCase()){lowercase=manualLowercase;uppercase=manualUppercase;}
var
msie,jqLite,jQuery,slice=[].slice,splice=[].splice,push=[].push,toString=Object.prototype.toString,ngMinErr=minErr('ng'),angular=window.angular||(window.angular={}),angularModule,uid=0;msie=document.documentMode;function isArrayLike(obj){if(obj==null||isWindow(obj)){return false;}
var length=obj.length;if(obj.nodeType===NODE_TYPE_ELEMENT&&length){return true;}
return isString(obj)||isArray(obj)||length===0||typeof length==='number'&&length>0&&(length-1)in obj;}
function forEach(obj,iterator,context){var key,length;if(obj){if(isFunction(obj)){for(key in obj){if(key!='prototype'&&key!='length'&&key!='name'&&(!obj.hasOwnProperty||obj.hasOwnProperty(key))){iterator.call(context,obj[key],key,obj);}}}else if(isArray(obj)||isArrayLike(obj)){var isPrimitive=typeof obj!=='object';for(key=0,length=obj.length;key<length;key++){if(isPrimitive||key in obj){iterator.call(context,obj[key],key,obj);}}}else if(obj.forEach&&obj.forEach!==forEach){obj.forEach(iterator,context,obj);}else{for(key in obj){if(obj.hasOwnProperty(key)){iterator.call(context,obj[key],key,obj);}}}}
return obj;}
function sortedKeys(obj){return Object.keys(obj).sort();}
function forEachSorted(obj,iterator,context){var keys=sortedKeys(obj);for(var i=0;i<keys.length;i++){iterator.call(context,obj[keys[i]],keys[i]);}
return keys;}
function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value);};}
function nextUid(){return++uid;}
function setHashKey(obj,h){if(h){obj.$$hashKey=h;}else{delete obj.$$hashKey;}}
function extend(dst){var h=dst.$$hashKey;for(var i=1,ii=arguments.length;i<ii;i++){var obj=arguments[i];if(obj){var keys=Object.keys(obj);for(var j=0,jj=keys.length;j<jj;j++){var key=keys[j];dst[key]=obj[key];}}}
setHashKey(dst,h);return dst;}
function int(str){return parseInt(str,10);}
function inherit(parent,extra){return extend(Object.create(parent),extra);}
function noop(){}
noop.$inject=[];function identity($){return $;}
identity.$inject=[];function valueFn(value){return function(){return value;};}
function isUndefined(value){return typeof value==='undefined';}
function isDefined(value){return typeof value!=='undefined';}
function isObject(value){return value!==null&&typeof value==='object';}
function isString(value){return typeof value==='string';}
function isNumber(value){return typeof value==='number';}
function isDate(value){return toString.call(value)==='[object Date]';}
var isArray=Array.isArray;function isFunction(value){return typeof value==='function';}
function isRegExp(value){return toString.call(value)==='[object RegExp]';}
function isWindow(obj){return obj&&obj.window===obj;}
function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch;}
function isFile(obj){return toString.call(obj)==='[object File]';}
function isFormData(obj){return toString.call(obj)==='[object FormData]';}
function isBlob(obj){return toString.call(obj)==='[object Blob]';}
function isBoolean(value){return typeof value==='boolean';}
function isPromiseLike(obj){return obj&&isFunction(obj.then);}
var trim=function(value){return isString(value)?value.trim():value;};var escapeForRegexp=function(s){return s.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,'\\$1').replace(/\x08/g,'\\x08');};function isElement(node){return!!(node&&(node.nodeName||(node.prop&&node.attr&&node.find)));}
function makeMap(str){var obj={},items=str.split(","),i;for(i=0;i<items.length;i++)
obj[items[i]]=true;return obj;}
function nodeName_(element){return lowercase(element.nodeName||(element[0]&&element[0].nodeName));}
function includes(array,obj){return Array.prototype.indexOf.call(array,obj)!=-1;}
function arrayRemove(array,value){var index=array.indexOf(value);if(index>=0)
array.splice(index,1);return value;}
function copy(source,destination,stackSource,stackDest){if(isWindow(source)||isScope(source)){throw ngMinErr('cpws',"Can't copy! Making copies of Window or Scope instances is not supported.");}
if(!destination){destination=source;if(source){if(isArray(source)){destination=copy(source,[],stackSource,stackDest);}else if(isDate(source)){destination=new Date(source.getTime());}else if(isRegExp(source)){destination=new RegExp(source.source,source.toString().match(/[^\/]*$/)[0]);destination.lastIndex=source.lastIndex;}else if(isObject(source)){var emptyObject=Object.create(Object.getPrototypeOf(source));destination=copy(source,emptyObject,stackSource,stackDest);}}}else{if(source===destination)throw ngMinErr('cpi',"Can't copy! Source and destination are identical.");stackSource=stackSource||[];stackDest=stackDest||[];if(isObject(source)){var index=stackSource.indexOf(source);if(index!==-1)return stackDest[index];stackSource.push(source);stackDest.push(destination);}
var result;if(isArray(source)){destination.length=0;for(var i=0;i<source.length;i++){result=copy(source[i],null,stackSource,stackDest);if(isObject(source[i])){stackSource.push(source[i]);stackDest.push(result);}
destination.push(result);}}else{var h=destination.$$hashKey;if(isArray(destination)){destination.length=0;}else{forEach(destination,function(value,key){delete destination[key];});}
for(var key in source){if(source.hasOwnProperty(key)){result=copy(source[key],null,stackSource,stackDest);if(isObject(source[key])){stackSource.push(source[key]);stackDest.push(result);}
destination[key]=result;}}
setHashKey(destination,h);}}
return destination;}
function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++){dst[i]=src[i];}}else if(isObject(src)){dst=dst||{};for(var key in src){if(!(key.charAt(0)==='$'&&key.charAt(1)==='$')){dst[key]=src[key];}}}
return dst||src;}
function equals(o1,o2){if(o1===o2)return true;if(o1===null||o2===null)return false;if(o1!==o1&&o2!==o2)return true;var t1=typeof o1,t2=typeof o2,length,key,keySet;if(t1==t2){if(t1=='object'){if(isArray(o1)){if(!isArray(o2))return false;if((length=o1.length)==o2.length){for(key=0;key<length;key++){if(!equals(o1[key],o2[key]))return false;}
return true;}}else if(isDate(o1)){if(!isDate(o2))return false;return equals(o1.getTime(),o2.getTime());}else if(isRegExp(o1)){return isRegExp(o2)?o1.toString()==o2.toString():false;}else{if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2)||isDate(o2)||isRegExp(o2))return false;keySet={};for(key in o1){if(key.charAt(0)==='$'||isFunction(o1[key]))continue;if(!equals(o1[key],o2[key]))return false;keySet[key]=true;}
for(key in o2){if(!keySet.hasOwnProperty(key)&&key.charAt(0)!=='$'&&o2[key]!==undefined&&!isFunction(o2[key]))return false;}
return true;}}}
return false;}
var csp=function(){if(isDefined(csp.isActive_))return csp.isActive_;var active=!!(document.querySelector('[ng-csp]')||document.querySelector('[data-ng-csp]'));if(!active){try{new Function('');}catch(e){active=true;}}
return(csp.isActive_=active);};function concat(array1,array2,index){return array1.concat(slice.call(array2,index));}
function sliceArgs(args,startIndex){return slice.call(args,startIndex||0);}
function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];if(isFunction(fn)&&!(fn instanceof RegExp)){return curryArgs.length?function(){return arguments.length?fn.apply(self,concat(curryArgs,arguments,0)):fn.apply(self,curryArgs);}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self);};}else{return fn;}}
function toJsonReplacer(key,value){var val=value;if(typeof key==='string'&&key.charAt(0)==='$'&&key.charAt(1)==='$'){val=undefined;}else if(isWindow(value)){val='$WINDOW';}else if(value&&document===value){val='$DOCUMENT';}else if(isScope(value)){val='$SCOPE';}
return val;}
function toJson(obj,pretty){if(typeof obj==='undefined')return undefined;if(!isNumber(pretty)){pretty=pretty?2:null;}
return JSON.stringify(obj,toJsonReplacer,pretty);}
function fromJson(json){return isString(json)?JSON.parse(json):json;}
function startingTag(element){element=jqLite(element).clone();try{element.empty();}catch(e){}
var elemHtml=jqLite('<div>').append(element).html();try{return element[0].nodeType===NODE_TYPE_TEXT?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(match,nodeName){return'<'+lowercase(nodeName);});}catch(e){return lowercase(elemHtml);}}
function tryDecodeURIComponent(value){try{return decodeURIComponent(value);}catch(e){}}
function parseKeyValue(keyValue){var obj={},key_value,key;forEach((keyValue||"").split('&'),function(keyValue){if(keyValue){key_value=keyValue.replace(/\+/g,'%20').split('=');key=tryDecodeURIComponent(key_value[0]);if(isDefined(key)){var val=isDefined(key_value[1])?tryDecodeURIComponent(key_value[1]):true;if(!hasOwnProperty.call(obj,key)){obj[key]=val;}else if(isArray(obj[key])){obj[key].push(val);}else{obj[key]=[obj[key],val];}}}});return obj;}
function toKeyValue(obj){var parts=[];forEach(obj,function(value,key){if(isArray(value)){forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,true)+
(arrayValue===true?'':'='+encodeUriQuery(arrayValue,true)));});}else{parts.push(encodeUriQuery(key,true)+
(value===true?'':'='+encodeUriQuery(value,true)));}});return parts.length?parts.join('&'):'';}
function encodeUriSegment(val){return encodeUriQuery(val,true).replace(/%26/gi,'&').replace(/%3D/gi,'=').replace(/%2B/gi,'+');}
function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,'@').replace(/%3A/gi,':').replace(/%24/g,'$').replace(/%2C/gi,',').replace(/%3B/gi,';').replace(/%20/g,(pctEncodeSpaces?'%20':'+'));}
var ngAttrPrefixes=['ng-','data-ng-','ng:','x-ng-'];function getNgAttribute(element,ngAttr){var attr,i,ii=ngAttrPrefixes.length;element=jqLite(element);for(i=0;i<ii;++i){attr=ngAttrPrefixes[i]+ngAttr;if(isString(attr=element.attr(attr))){return attr;}}
return null;}
function angularInit(element,bootstrap){var appElement,module,config={};forEach(ngAttrPrefixes,function(prefix){var name=prefix+'app';if(!appElement&&element.hasAttribute&&element.hasAttribute(name)){appElement=element;module=element.getAttribute(name);}});forEach(ngAttrPrefixes,function(prefix){var name=prefix+'app';var candidate;if(!appElement&&(candidate=element.querySelector('['+name.replace(':','\\:')+']'))){appElement=candidate;module=candidate.getAttribute(name);}});if(appElement){config.strictDi=getNgAttribute(appElement,"strict-di")!==null;bootstrap(appElement,module?[module]:[],config);}}
function bootstrap(element,modules,config){if(!isObject(config))config={};var defaultConfig={strictDi:false};config=extend(defaultConfig,config);var doBootstrap=function(){element=jqLite(element);if(element.injector()){var tag=(element[0]===document)?'document':startingTag(element);throw ngMinErr('btstrpd',"App Already Bootstrapped with this Element '{0}'",tag.replace(/</,'&lt;').replace(/>/,'&gt;'));}
modules=modules||[];modules.unshift(['$provide',function($provide){$provide.value('$rootElement',element);}]);if(config.debugInfoEnabled){modules.push(['$compileProvider',function($compileProvider){$compileProvider.debugInfoEnabled(true);}]);}
modules.unshift('ng');var injector=createInjector(modules,config.strictDi);injector.invoke(['$rootScope','$rootElement','$compile','$injector',function bootstrapApply(scope,element,compile,injector){scope.$apply(function(){element.data('$injector',injector);compile(element)(scope);});}]);return injector;};var NG_ENABLE_DEBUG_INFO=/^NG_ENABLE_DEBUG_INFO!/;var NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;if(window&&NG_ENABLE_DEBUG_INFO.test(window.name)){config.debugInfoEnabled=true;window.name=window.name.replace(NG_ENABLE_DEBUG_INFO,'');}
if(window&&!NG_DEFER_BOOTSTRAP.test(window.name)){return doBootstrap();}
window.name=window.name.replace(NG_DEFER_BOOTSTRAP,'');angular.resumeBootstrap=function(extraModules){forEach(extraModules,function(module){modules.push(module);});return doBootstrap();};if(isFunction(angular.resumeDeferredBootstrap)){angular.resumeDeferredBootstrap();}}
function reloadWithDebugInfo(){window.name='NG_ENABLE_DEBUG_INFO!'+window.name;window.location.reload();}
function getTestability(rootElement){var injector=angular.element(rootElement).injector();if(!injector){throw ngMinErr('test','no injector found for element argument to getTestability');}
return injector.get('$$testability');}
var SNAKE_CASE_REGEXP=/[A-Z]/g;function snake_case(name,separator){separator=separator||'_';return name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:'')+letter.toLowerCase();});}
var bindJQueryFired=false;var skipDestroyOnNextJQueryCleanData;function bindJQuery(){var originalCleanData;if(bindJQueryFired){return;}
jQuery=window.jQuery;if(jQuery&&jQuery.fn.on){jqLite=jQuery;extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData});originalCleanData=jQuery.cleanData;jQuery.cleanData=function(elems){var events;if(!skipDestroyOnNextJQueryCleanData){for(var i=0,elem;(elem=elems[i])!=null;i++){events=jQuery._data(elem,"events");if(events&&events.$destroy){jQuery(elem).triggerHandler('$destroy');}}}else{skipDestroyOnNextJQueryCleanData=false;}
originalCleanData(elems);};}else{jqLite=JQLite;}
angular.element=jqLite;bindJQueryFired=true;}
function assertArg(arg,name,reason){if(!arg){throw ngMinErr('areq',"Argument '{0}' is {1}",(name||'?'),(reason||"required"));}
return arg;}
function assertArgFn(arg,name,acceptArrayAnnotation){if(acceptArrayAnnotation&&isArray(arg)){arg=arg[arg.length-1];}
assertArg(isFunction(arg),name,'not a function, got '+
(arg&&typeof arg==='object'?arg.constructor.name||'Object':typeof arg));return arg;}
function assertNotHasOwnProperty(name,context){if(name==='hasOwnProperty'){throw ngMinErr('badname',"hasOwnProperty is not a valid {0} name",context);}}
function getter(obj,path,bindFnToScope){if(!path)return obj;var keys=path.split('.');var key;var lastInstance=obj;var len=keys.length;for(var i=0;i<len;i++){key=keys[i];if(obj){obj=(lastInstance=obj)[key];}}
if(!bindFnToScope&&isFunction(obj)){return bind(lastInstance,obj);}
return obj;}
function getBlockNodes(nodes){var node=nodes[0];var endNode=nodes[nodes.length-1];var blockNodes=[node];do{node=node.nextSibling;if(!node)break;blockNodes.push(node);}while(node!==endNode);return jqLite(blockNodes);}
function createMap(){return Object.create(null);}
var NODE_TYPE_ELEMENT=1;var NODE_TYPE_TEXT=3;var NODE_TYPE_COMMENT=8;var NODE_TYPE_DOCUMENT=9;var NODE_TYPE_DOCUMENT_FRAGMENT=11;function setupModuleLoader(window){var $injectorMinErr=minErr('$injector');var ngMinErr=minErr('ng');function ensure(obj,name,factory){return obj[name]||(obj[name]=factory());}
var angular=ensure(window,'angular',Object);angular.$$minErr=angular.$$minErr||minErr;return ensure(angular,'module',function(){var modules={};return function module(name,requires,configFn){var assertNotHasOwnProperty=function(name,context){if(name==='hasOwnProperty'){throw ngMinErr('badname','hasOwnProperty is not a valid {0} name',context);}};assertNotHasOwnProperty(name,'module');if(requires&&modules.hasOwnProperty(name)){modules[name]=null;}
return ensure(modules,name,function(){if(!requires){throw $injectorMinErr('nomod',"Module '{0}' is not available! You either misspelled "+"the module name or forgot to load it. If registering a module ensure that you "+"specify the dependencies as the second argument.",name);}
var invokeQueue=[];var configBlocks=[];var runBlocks=[];var config=invokeLater('$injector','invoke','push',configBlocks);var moduleInstance={_invokeQueue:invokeQueue,_configBlocks:configBlocks,_runBlocks:runBlocks,requires:requires,name:name,provider:invokeLater('$provide','provider'),factory:invokeLater('$provide','factory'),service:invokeLater('$provide','service'),value:invokeLater('$provide','value'),constant:invokeLater('$provide','constant','unshift'),animation:invokeLater('$animateProvider','register'),filter:invokeLater('$filterProvider','register'),controller:invokeLater('$controllerProvider','register'),directive:invokeLater('$compileProvider','directive'),config:config,run:function(block){runBlocks.push(block);return this;}};if(configFn){config(configFn);}
return moduleInstance;function invokeLater(provider,method,insertMethod,queue){if(!queue)queue=invokeQueue;return function(){queue[insertMethod||'push']([provider,method,arguments]);return moduleInstance;};}});};});}
function serializeObject(obj){var seen=[];return JSON.stringify(obj,function(key,val){val=toJsonReplacer(key,val);if(isObject(val)){if(seen.indexOf(val)>=0)return'<<already seen>>';seen.push(val);}
return val;});}
function toDebugString(obj){if(typeof obj==='function'){return obj.toString().replace(/ \{[\s\S]*$/,'');}else if(typeof obj==='undefined'){return'undefined';}else if(typeof obj!=='string'){return serializeObject(obj);}
return obj;}
var version={full:'1.3.15',major:1,minor:3,dot:15,codeName:'locality-filtration'};function publishExternalAPI(angular){extend(angular,{'bootstrap':bootstrap,'copy':copy,'extend':extend,'equals':equals,'element':jqLite,'forEach':forEach,'injector':createInjector,'noop':noop,'bind':bind,'toJson':toJson,'fromJson':fromJson,'identity':identity,'isUndefined':isUndefined,'isDefined':isDefined,'isString':isString,'isFunction':isFunction,'isObject':isObject,'isNumber':isNumber,'isElement':isElement,'isArray':isArray,'version':version,'isDate':isDate,'lowercase':lowercase,'uppercase':uppercase,'callbacks':{counter:0},'getTestability':getTestability,'$$minErr':minErr,'$$csp':csp,'reloadWithDebugInfo':reloadWithDebugInfo});angularModule=setupModuleLoader(window);try{angularModule('ngLocale');}catch(e){angularModule('ngLocale',[]).provider('$locale',$LocaleProvider);}
angularModule('ng',['ngLocale'],['$provide',function ngModule($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider});$provide.provider('$compile',$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,style:styleDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,pattern:patternDirective,ngPattern:patternDirective,required:requiredDirective,ngRequired:requiredDirective,minlength:minlengthDirective,ngMinlength:minlengthDirective,maxlength:maxlengthDirective,ngMaxlength:maxlengthDirective,ngValue:ngValueDirective,ngModelOptions:ngModelOptionsDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives);$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpBackend:$HttpBackendProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$asyncCallback:$$AsyncCallbackProvider,$$jqLite:$$jqLiteProvider});}]);}
JQLite.expando='ng339';var jqCache=JQLite.cache={},jqId=1,addEventListenerFn=function(element,type,fn){element.addEventListener(type,fn,false);},removeEventListenerFn=function(element,type,fn){element.removeEventListener(type,fn,false);};JQLite._data=function(node){return this.cache[node[this.expando]]||{};};function jqNextId(){return++jqId;}
var SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g;var MOZ_HACK_REGEXP=/^moz([A-Z])/;var MOUSE_EVENT_MAP={mouseleave:"mouseout",mouseenter:"mouseover"};var jqLiteMinErr=minErr('jqLite');function camelCase(name){return name.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter;}).replace(MOZ_HACK_REGEXP,'Moz$1');}
var SINGLE_TAG_REGEXP=/^<(\w+)\s*\/?>(?:<\/\1>|)$/;var HTML_REGEXP=/<|&#?\w+;/;var TAG_NAME_REGEXP=/<([\w:]+)/;var XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;var wrapMap={'option':[1,'<select multiple="multiple">','</select>'],'thead':[1,'<table>','</table>'],'col':[2,'<table><colgroup>','</colgroup></table>'],'tr':[2,'<table><tbody>','</tbody></table>'],'td':[3,'<table><tbody><tr>','</tr></tbody></table>'],'_default':[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html);}
function jqLiteAcceptsData(node){var nodeType=node.nodeType;return nodeType===NODE_TYPE_ELEMENT||!nodeType||nodeType===NODE_TYPE_DOCUMENT;}
function jqLiteBuildFragment(html,context){var tmp,tag,wrap,fragment=context.createDocumentFragment(),nodes=[],i;if(jqLiteIsTextNode(html)){nodes.push(context.createTextNode(html));}else{tmp=tmp||fragment.appendChild(context.createElement("div"));tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+html.replace(XHTML_TAG_REGEXP,"<$1></$2>")+wrap[2];i=wrap[0];while(i--){tmp=tmp.lastChild;}
nodes=concat(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent="";}
fragment.textContent="";fragment.innerHTML="";forEach(nodes,function(node){fragment.appendChild(node);});return fragment;}
function jqLiteParseHTML(html,context){context=context||document;var parsed;if((parsed=SINGLE_TAG_REGEXP.exec(html))){return[context.createElement(parsed[1])];}
if((parsed=jqLiteBuildFragment(html,context))){return parsed.childNodes;}
return[];}
function JQLite(element){if(element instanceof JQLite){return element;}
var argIsString;if(isString(element)){element=trim(element);argIsString=true;}
if(!(this instanceof JQLite)){if(argIsString&&element.charAt(0)!='<'){throw jqLiteMinErr('nosel','Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element');}
return new JQLite(element);}
if(argIsString){jqLiteAddNodes(this,jqLiteParseHTML(element));}else{jqLiteAddNodes(this,element);}}
function jqLiteClone(element){return element.cloneNode(true);}
function jqLiteDealoc(element,onlyDescendants){if(!onlyDescendants)jqLiteRemoveData(element);if(element.querySelectorAll){var descendants=element.querySelectorAll('*');for(var i=0,l=descendants.length;i<l;i++){jqLiteRemoveData(descendants[i]);}}}
function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr('offargs','jqLite#off() does not support the `selector` argument');var expandoStore=jqLiteExpandoStore(element);var events=expandoStore&&expandoStore.events;var handle=expandoStore&&expandoStore.handle;if(!handle)return;if(!type){for(type in events){if(type!=='$destroy'){removeEventListenerFn(element,type,handle);}
delete events[type];}}else{forEach(type.split(' '),function(type){if(isDefined(fn)){var listenerFns=events[type];arrayRemove(listenerFns||[],fn);if(listenerFns&&listenerFns.length>0){return;}}
removeEventListenerFn(element,type,handle);delete events[type];});}}
function jqLiteRemoveData(element,name){var expandoId=element.ng339;var expandoStore=expandoId&&jqCache[expandoId];if(expandoStore){if(name){delete expandoStore.data[name];return;}
if(expandoStore.handle){if(expandoStore.events.$destroy){expandoStore.handle({},'$destroy');}
jqLiteOff(element);}
delete jqCache[expandoId];element.ng339=undefined;}}
function jqLiteExpandoStore(element,createIfNecessary){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];if(createIfNecessary&&!expandoStore){element.ng339=expandoId=jqNextId();expandoStore=jqCache[expandoId]={events:{},data:{},handle:undefined};}
return expandoStore;}
function jqLiteData(element,key,value){if(jqLiteAcceptsData(element)){var isSimpleSetter=isDefined(value);var isSimpleGetter=!isSimpleSetter&&key&&!isObject(key);var massGetter=!key;var expandoStore=jqLiteExpandoStore(element,!isSimpleGetter);var data=expandoStore&&expandoStore.data;if(isSimpleSetter){data[key]=value;}else{if(massGetter){return data;}else{if(isSimpleGetter){return data&&data[key];}else{extend(data,key);}}}}}
function jqLiteHasClass(element,selector){if(!element.getAttribute)return false;return((" "+(element.getAttribute('class')||'')+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1);}
function jqLiteRemoveClass(element,cssClasses){if(cssClasses&&element.setAttribute){forEach(cssClasses.split(' '),function(cssClass){element.setAttribute('class',trim((" "+(element.getAttribute('class')||'')+" ").replace(/[\n\t]/g," ").replace(" "+trim(cssClass)+" "," ")));});}}
function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(' '+(element.getAttribute('class')||'')+' ').replace(/[\n\t]/g," ");forEach(cssClasses.split(' '),function(cssClass){cssClass=trim(cssClass);if(existingClasses.indexOf(' '+cssClass+' ')===-1){existingClasses+=cssClass+' ';}});element.setAttribute('class',trim(existingClasses));}}
function jqLiteAddNodes(root,elements){if(elements){if(elements.nodeType){root[root.length++]=elements;}else{var length=elements.length;if(typeof length==='number'&&elements.window!==elements){if(length){for(var i=0;i<length;i++){root[root.length++]=elements[i];}}}else{root[root.length++]=elements;}}}}
function jqLiteController(element,name){return jqLiteInheritedData(element,'$'+(name||'ngController')+'Controller');}
function jqLiteInheritedData(element,name,value){if(element.nodeType==NODE_TYPE_DOCUMENT){element=element.documentElement;}
var names=isArray(name)?name:[name];while(element){for(var i=0,ii=names.length;i<ii;i++){if((value=jqLite.data(element,names[i]))!==undefined)return value;}
element=element.parentNode||(element.nodeType===NODE_TYPE_DOCUMENT_FRAGMENT&&element.host);}}
function jqLiteEmpty(element){jqLiteDealoc(element,true);while(element.firstChild){element.removeChild(element.firstChild);}}
function jqLiteRemove(element,keepData){if(!keepData)jqLiteDealoc(element);var parent=element.parentNode;if(parent)parent.removeChild(element);}
function jqLiteDocumentLoaded(action,win){win=win||window;if(win.document.readyState==='complete'){win.setTimeout(action);}else{jqLite(win).on('load',action);}}
var JQLitePrototype=JQLite.prototype={ready:function(fn){var fired=false;function trigger(){if(fired)return;fired=true;fn();}
if(document.readyState==='complete'){setTimeout(trigger);}else{this.on('DOMContentLoaded',trigger);JQLite(window).on('load',trigger);}},toString:function(){var value=[];forEach(this,function(e){value.push(''+e);});return'['+value.join(', ')+']';},eq:function(index){return(index>=0)?jqLite(this[index]):jqLite(this[this.length+index]);},length:0,push:push,sort:[].sort,splice:[].splice};var BOOLEAN_ATTR={};forEach('multiple,selected,checked,disabled,readOnly,required,open'.split(','),function(value){BOOLEAN_ATTR[lowercase(value)]=value;});var BOOLEAN_ELEMENTS={};forEach('input,select,option,textarea,button,form,details'.split(','),function(value){BOOLEAN_ELEMENTS[value]=true;});var ALIASED_ATTR={'ngMinlength':'minlength','ngMaxlength':'maxlength','ngMin':'min','ngMax':'max','ngPattern':'pattern'};function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[nodeName_(element)]&&booleanAttr;}
function getAliasedAttrName(element,name){var nodeName=element.nodeName;return(nodeName==='INPUT'||nodeName==='TEXTAREA')&&ALIASED_ATTR[name];}
forEach({data:jqLiteData,removeData:jqLiteRemoveData},function(fn,name){JQLite[name]=fn;});forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite.data(element,'$scope')||jqLiteInheritedData(element.parentNode||element,['$isolateScope','$scope']);},isolateScope:function(element){return jqLite.data(element,'$isolateScope')||jqLite.data(element,'$isolateScopeNoTemplate');},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,'$injector');},removeAttr:function(element,name){element.removeAttribute(name);},hasClass:jqLiteHasClass,css:function(element,name,value){name=camelCase(name);if(isDefined(value)){element.style[name]=value;}else{return element.style[name];}},attr:function(element,name,value){var lowercasedName=lowercase(name);if(BOOLEAN_ATTR[lowercasedName]){if(isDefined(value)){if(!!value){element[name]=true;element.setAttribute(name,lowercasedName);}else{element[name]=false;element.removeAttribute(lowercasedName);}}else{return(element[name]||(element.attributes.getNamedItem(name)||noop).specified)?lowercasedName:undefined;}}else if(isDefined(value)){element.setAttribute(name,value);}else if(element.getAttribute){var ret=element.getAttribute(name,2);return ret===null?undefined:ret;}},prop:function(element,name,value){if(isDefined(value)){element[name]=value;}else{return element[name];}},text:(function(){getText.$dv='';return getText;function getText(element,value){if(isUndefined(value)){var nodeType=element.nodeType;return(nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_TEXT)?element.textContent:'';}
element.textContent=value;}})(),val:function(element,value){if(isUndefined(value)){if(element.multiple&&nodeName_(element)==='select'){var result=[];forEach(element.options,function(option){if(option.selected){result.push(option.value||option.text);}});return result.length===0?null:result;}
return element.value;}
element.value=value;},html:function(element,value){if(isUndefined(value)){return element.innerHTML;}
jqLiteDealoc(element,true);element.innerHTML=value;},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key;var nodeCount=this.length;if(fn!==jqLiteEmpty&&(((fn.length==2&&(fn!==jqLiteHasClass&&fn!==jqLiteController))?arg1:arg2)===undefined)){if(isObject(arg1)){for(i=0;i<nodeCount;i++){if(fn===jqLiteData){fn(this[i],arg1);}else{for(key in arg1){fn(this[i],key,arg1[key]);}}}
return this;}else{var value=fn.$dv;var jj=(value===undefined)?Math.min(nodeCount,1):nodeCount;for(var j=0;j<jj;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue;}
return value;}}else{for(i=0;i<nodeCount;i++){fn(this[i],arg1,arg2);}
return this;}};});function createEventHandler(element,events){var eventHandler=function(event,type){event.isDefaultPrevented=function(){return event.defaultPrevented;};var eventFns=events[type||event.type];var eventFnsLength=eventFns?eventFns.length:0;if(!eventFnsLength)return;if(isUndefined(event.immediatePropagationStopped)){var originalStopImmediatePropagation=event.stopImmediatePropagation;event.stopImmediatePropagation=function(){event.immediatePropagationStopped=true;if(event.stopPropagation){event.stopPropagation();}
if(originalStopImmediatePropagation){originalStopImmediatePropagation.call(event);}};}
event.isImmediatePropagationStopped=function(){return event.immediatePropagationStopped===true;};if((eventFnsLength>1)){eventFns=shallowCopy(eventFns);}
for(var i=0;i<eventFnsLength;i++){if(!event.isImmediatePropagationStopped()){eventFns[i].call(element,event);}}};eventHandler.elem=element;return eventHandler;}
forEach({removeData:jqLiteRemoveData,on:function jqLiteOn(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr('onargs','jqLite#on() does not support the `selector` or `eventData` parameters');if(!jqLiteAcceptsData(element)){return;}
var expandoStore=jqLiteExpandoStore(element,true);var events=expandoStore.events;var handle=expandoStore.handle;if(!handle){handle=expandoStore.handle=createEventHandler(element,events);}
var types=type.indexOf(' ')>=0?type.split(' '):[type];var i=types.length;while(i--){type=types[i];var eventFns=events[type];if(!eventFns){events[type]=[];if(type==='mouseenter'||type==='mouseleave'){jqLiteOn(element,MOUSE_EVENT_MAP[type],function(event){var target=this,related=event.relatedTarget;if(!related||(related!==target&&!target.contains(related))){handle(event,type);}});}else{if(type!=='$destroy'){addEventListenerFn(element,type,handle);}}
eventFns=events[type];}
eventFns.push(fn);}},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element);element.on(type,function onFn(){element.off(type,fn);element.off(type,onFn);});element.on(type,fn);},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element);forEach(new JQLite(replaceNode),function(node){if(index){parent.insertBefore(node,index.nextSibling);}else{parent.replaceChild(node,element);}
index=node;});},children:function(element){var children=[];forEach(element.childNodes,function(element){if(element.nodeType===NODE_TYPE_ELEMENT)
children.push(element);});return children;},contents:function(element){return element.contentDocument||element.childNodes||[];},append:function(element,node){var nodeType=element.nodeType;if(nodeType!==NODE_TYPE_ELEMENT&&nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT)return;node=new JQLite(node);for(var i=0,ii=node.length;i<ii;i++){var child=node[i];element.appendChild(child);}},prepend:function(element,node){if(element.nodeType===NODE_TYPE_ELEMENT){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index);});}},wrap:function(element,wrapNode){wrapNode=jqLite(wrapNode).eq(0).clone()[0];var parent=element.parentNode;if(parent){parent.replaceChild(wrapNode,element);}
wrapNode.appendChild(element);},remove:jqLiteRemove,detach:function(element){jqLiteRemove(element,true);},after:function(element,newElement){var index=element,parent=element.parentNode;newElement=new JQLite(newElement);for(var i=0,ii=newElement.length;i<ii;i++){var node=newElement[i];parent.insertBefore(node,index.nextSibling);index=node;}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){if(selector){forEach(selector.split(' '),function(className){var classCondition=condition;if(isUndefined(classCondition)){classCondition=!jqLiteHasClass(element,className);}
(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className);});}},parent:function(element){var parent=element.parentNode;return parent&&parent.nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT?parent:null;},next:function(element){return element.nextElementSibling;},find:function(element,selector){if(element.getElementsByTagName){return element.getElementsByTagName(selector);}else{return[];}},clone:jqLiteClone,triggerHandler:function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs;var eventName=event.type||event;var expandoStore=jqLiteExpandoStore(element);var events=expandoStore&&expandoStore.events;var eventFns=events&&events[eventName];if(eventFns){dummyEvent={preventDefault:function(){this.defaultPrevented=true;},isDefaultPrevented:function(){return this.defaultPrevented===true;},stopImmediatePropagation:function(){this.immediatePropagationStopped=true;},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===true;},stopPropagation:noop,type:eventName,target:element};if(event.type){dummyEvent=extend(dummyEvent,event);}
eventFnsCopy=shallowCopy(eventFns);handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent];forEach(eventFnsCopy,function(fn){if(!dummyEvent.isImmediatePropagationStopped()){fn.apply(element,handlerArgs);}});}}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){var value;for(var i=0,ii=this.length;i<ii;i++){if(isUndefined(value)){value=fn(this[i],arg1,arg2,arg3);if(isDefined(value)){value=jqLite(value);}}else{jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3));}}
return isDefined(value)?value:this;};JQLite.prototype.bind=JQLite.prototype.on;JQLite.prototype.unbind=JQLite.prototype.off;});function $$jqLiteProvider(){this.$get=function $$jqLite(){return extend(JQLite,{hasClass:function(node,classes){if(node.attr)node=node[0];return jqLiteHasClass(node,classes);},addClass:function(node,classes){if(node.attr)node=node[0];return jqLiteAddClass(node,classes);},removeClass:function(node,classes){if(node.attr)node=node[0];return jqLiteRemoveClass(node,classes);}});};}
function hashKey(obj,nextUidFn){var key=obj&&obj.$$hashKey;if(key){if(typeof key==='function'){key=obj.$$hashKey();}
return key;}
var objType=typeof obj;if(objType=='function'||(objType=='object'&&obj!==null)){key=obj.$$hashKey=objType+':'+(nextUidFn||nextUid)();}else{key=objType+':'+obj;}
return key;}
function HashMap(array,isolatedUid){if(isolatedUid){var uid=0;this.nextUid=function(){return++uid;};}
forEach(array,this.put,this);}
HashMap.prototype={put:function(key,value){this[hashKey(key,this.nextUid)]=value;},get:function(key){return this[hashKey(key,this.nextUid)];},remove:function(key){var value=this[key=hashKey(key,this.nextUid)];delete this[key];return value;}};var FN_ARGS=/^function\s*[^\(]*\(\s*([^\)]*)\)/m;var FN_ARG_SPLIT=/,/;var FN_ARG=/^\s*(_?)(\S+?)\1\s*$/;var STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;var $injectorMinErr=minErr('$injector');function anonFn(fn){var fnText=fn.toString().replace(STRIP_COMMENTS,''),args=fnText.match(FN_ARGS);if(args){return'function('+(args[1]||'').replace(/[\s\r\n]+/,' ')+')';}
return'fn';}
function annotate(fn,strictDi,name){var $inject,fnText,argDecl,last;if(typeof fn==='function'){if(!($inject=fn.$inject)){$inject=[];if(fn.length){if(strictDi){if(!isString(name)||!name){name=fn.name||anonFn(fn);}
throw $injectorMinErr('strictdi','{0} is not using explicit annotation and cannot be invoked in strict mode',name);}
fnText=fn.toString().replace(STRIP_COMMENTS,'');argDecl=fnText.match(FN_ARGS);forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name);});});}
fn.$inject=$inject;}}else if(isArray(fn)){last=fn.length-1;assertArgFn(fn[last],'fn');$inject=fn.slice(0,last);}else{assertArgFn(fn,'fn',true);}
return $inject;}
function createInjector(modulesToLoad,strictDi){strictDi=(strictDi===true);var INSTANTIATING={},providerSuffix='Provider',path=[],loadedModules=new HashMap([],true),providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=(providerCache.$injector=createInternalInjector(providerCache,function(serviceName,caller){if(angular.isString(caller)){path.push(caller);}
throw $injectorMinErr('unpr',"Unknown provider: {0}",path.join(' <- '));})),instanceCache={},instanceInjector=(instanceCache.$injector=createInternalInjector(instanceCache,function(serviceName,caller){var provider=providerInjector.get(serviceName+providerSuffix,caller);return instanceInjector.invoke(provider.$get,provider,undefined,serviceName);}));forEach(loadModules(modulesToLoad),function(fn){instanceInjector.invoke(fn||noop);});return instanceInjector;function supportObject(delegate){return function(key,value){if(isObject(key)){forEach(key,reverseParams(delegate));}else{return delegate(key,value);}};}
function provider(name,provider_){assertNotHasOwnProperty(name,'service');if(isFunction(provider_)||isArray(provider_)){provider_=providerInjector.instantiate(provider_);}
if(!provider_.$get){throw $injectorMinErr('pget',"Provider '{0}' must define $get factory method.",name);}
return providerCache[name+providerSuffix]=provider_;}
function enforceReturnValue(name,factory){return function enforcedReturnValue(){var result=instanceInjector.invoke(factory,this);if(isUndefined(result)){throw $injectorMinErr('undef',"Provider '{0}' must return a value from $get factory method.",name);}
return result;};}
function factory(name,factoryFn,enforce){return provider(name,{$get:enforce!==false?enforceReturnValue(name,factoryFn):factoryFn});}
function service(name,constructor){return factory(name,['$injector',function($injector){return $injector.instantiate(constructor);}]);}
function value(name,val){return factory(name,valueFn(val),false);}
function constant(name,value){assertNotHasOwnProperty(name,'constant');providerCache[name]=value;instanceCache[name]=value;}
function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance});};}
function loadModules(modulesToLoad){var runBlocks=[],moduleFn;forEach(modulesToLoad,function(module){if(loadedModules.get(module))return;loadedModules.put(module,true);function runInvokeQueue(queue){var i,ii;for(i=0,ii=queue.length;i<ii;i++){var invokeArgs=queue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2]);}}
try{if(isString(module)){moduleFn=angularModule(module);runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks);runInvokeQueue(moduleFn._invokeQueue);runInvokeQueue(moduleFn._configBlocks);}else if(isFunction(module)){runBlocks.push(providerInjector.invoke(module));}else if(isArray(module)){runBlocks.push(providerInjector.invoke(module));}else{assertArgFn(module,'module');}}catch(e){if(isArray(module)){module=module[module.length-1];}
if(e.message&&e.stack&&e.stack.indexOf(e.message)==-1){e=e.message+'\n'+e.stack;}
throw $injectorMinErr('modulerr',"Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e);}});return runBlocks;}
function createInternalInjector(cache,factory){function getService(serviceName,caller){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING){throw $injectorMinErr('cdep','Circular dependency found: {0}',serviceName+' <- '+path.join(' <- '));}
return cache[serviceName];}else{try{path.unshift(serviceName);cache[serviceName]=INSTANTIATING;return cache[serviceName]=factory(serviceName,caller);}catch(err){if(cache[serviceName]===INSTANTIATING){delete cache[serviceName];}
throw err;}finally{path.shift();}}}
function invoke(fn,self,locals,serviceName){if(typeof locals==='string'){serviceName=locals;locals=null;}
var args=[],$inject=createInjector.$$annotate(fn,strictDi,serviceName),length,i,key;for(i=0,length=$inject.length;i<length;i++){key=$inject[i];if(typeof key!=='string'){throw $injectorMinErr('itkn','Incorrect injection token! Expected service name as string, got {0}',key);}
args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key,serviceName));}
if(isArray(fn)){fn=fn[length];}
return fn.apply(self,args);}
function instantiate(Type,locals,serviceName){var instance=Object.create((isArray(Type)?Type[Type.length-1]:Type).prototype||null);var returnedValue=invoke(Type,instance,locals,serviceName);return isObject(returnedValue)||isFunction(returnedValue)?returnedValue:instance;}
return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name);}};}}
createInjector.$$annotate=annotate;function $AnchorScrollProvider(){var autoScrollingEnabled=true;this.disableAutoScrolling=function(){autoScrollingEnabled=false;};this.$get=['$window','$location','$rootScope',function($window,$location,$rootScope){var document=$window.document;function getFirstAnchor(list){var result=null;Array.prototype.some.call(list,function(element){if(nodeName_(element)==='a'){result=element;return true;}});return result;}
function getYOffset(){var offset=scroll.yOffset;if(isFunction(offset)){offset=offset();}else if(isElement(offset)){var elem=offset[0];var style=$window.getComputedStyle(elem);if(style.position!=='fixed'){offset=0;}else{offset=elem.getBoundingClientRect().bottom;}}else if(!isNumber(offset)){offset=0;}
return offset;}
function scrollTo(elem){if(elem){elem.scrollIntoView();var offset=getYOffset();if(offset){var elemTop=elem.getBoundingClientRect().top;$window.scrollBy(0,elemTop-offset);}}else{$window.scrollTo(0,0);}}
function scroll(){var hash=$location.hash(),elm;if(!hash)scrollTo(null);else if((elm=document.getElementById(hash)))scrollTo(elm);else if((elm=getFirstAnchor(document.getElementsByName(hash))))scrollTo(elm);else if(hash==='top')scrollTo(null);}
if(autoScrollingEnabled){$rootScope.$watch(function autoScrollWatch(){return $location.hash();},function autoScrollWatchAction(newVal,oldVal){if(newVal===oldVal&&newVal==='')return;jqLiteDocumentLoaded(function(){$rootScope.$evalAsync(scroll);});});}
return scroll;}];}
var $animateMinErr=minErr('$animate');var $AnimateProvider=['$provide',function($provide){this.$$selectors={};this.register=function(name,factory){var key=name+'-animation';if(name&&name.charAt(0)!='.')throw $animateMinErr('notcsel',"Expecting class selector starting with '.' got '{0}'.",name);this.$$selectors[name.substr(1)]=key;$provide.factory(key,factory);};this.classNameFilter=function(expression){if(arguments.length===1){this.$$classNameFilter=(expression instanceof RegExp)?expression:null;}
return this.$$classNameFilter;};this.$get=['$$q','$$asyncCallback','$rootScope',function($$q,$$asyncCallback,$rootScope){var currentDefer;function runAnimationPostDigest(fn){var cancelFn,defer=$$q.defer();defer.promise.$$cancelFn=function ngAnimateMaybeCancel(){cancelFn&&cancelFn();};$rootScope.$$postDigest(function ngAnimatePostDigest(){cancelFn=fn(function ngAnimateNotifyComplete(){defer.resolve();});});return defer.promise;}
function resolveElementClasses(element,classes){var toAdd=[],toRemove=[];var hasClasses=createMap();forEach((element.attr('class')||'').split(/\s+/),function(className){hasClasses[className]=true;});forEach(classes,function(status,className){var hasClass=hasClasses[className];if(status===false&&hasClass){toRemove.push(className);}else if(status===true&&!hasClass){toAdd.push(className);}});return(toAdd.length+toRemove.length)>0&&[toAdd.length?toAdd:null,toRemove.length?toRemove:null];}
function cachedClassManipulation(cache,classes,op){for(var i=0,ii=classes.length;i<ii;++i){var className=classes[i];cache[className]=op;}}
function asyncPromise(){if(!currentDefer){currentDefer=$$q.defer();$$asyncCallback(function(){currentDefer.resolve();currentDefer=null;});}
return currentDefer.promise;}
function applyStyles(element,options){if(angular.isObject(options)){var styles=extend(options.from||{},options.to||{});element.css(styles);}}
return{animate:function(element,from,to){applyStyles(element,{from:from,to:to});return asyncPromise();},enter:function(element,parent,after,options){applyStyles(element,options);after?after.after(element):parent.prepend(element);return asyncPromise();},leave:function(element,options){applyStyles(element,options);element.remove();return asyncPromise();},move:function(element,parent,after,options){return this.enter(element,parent,after,options);},addClass:function(element,className,options){return this.setClass(element,className,[],options);},$$addClassImmediately:function(element,className,options){element=jqLite(element);className=!isString(className)?(isArray(className)?className.join(' '):''):className;forEach(element,function(element){jqLiteAddClass(element,className);});applyStyles(element,options);return asyncPromise();},removeClass:function(element,className,options){return this.setClass(element,[],className,options);},$$removeClassImmediately:function(element,className,options){element=jqLite(element);className=!isString(className)?(isArray(className)?className.join(' '):''):className;forEach(element,function(element){jqLiteRemoveClass(element,className);});applyStyles(element,options);return asyncPromise();},setClass:function(element,add,remove,options){var self=this;var STORAGE_KEY='$$animateClasses';var createdCache=false;element=jqLite(element);var cache=element.data(STORAGE_KEY);if(!cache){cache={classes:{},options:options};createdCache=true;}else if(options&&cache.options){cache.options=angular.extend(cache.options||{},options);}
var classes=cache.classes;add=isArray(add)?add:add.split(' ');remove=isArray(remove)?remove:remove.split(' ');cachedClassManipulation(classes,add,true);cachedClassManipulation(classes,remove,false);if(createdCache){cache.promise=runAnimationPostDigest(function(done){var cache=element.data(STORAGE_KEY);element.removeData(STORAGE_KEY);if(cache){var classes=resolveElementClasses(element,cache.classes);if(classes){self.$$setClassImmediately(element,classes[0],classes[1],cache.options);}}
done();});element.data(STORAGE_KEY,cache);}
return cache.promise;},$$setClassImmediately:function(element,add,remove,options){add&&this.$$addClassImmediately(element,add);remove&&this.$$removeClassImmediately(element,remove);applyStyles(element,options);return asyncPromise();},enabled:noop,cancel:noop};}];}];function $$AsyncCallbackProvider(){this.$get=['$$rAF','$timeout',function($$rAF,$timeout){return $$rAF.supported?function(fn){return $$rAF(fn);}:function(fn){return $timeout(fn,0,false);};}];}
function Browser(window,document,$log,$sniffer){var self=this,rawDocument=document[0],location=window.location,history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=false;var outstandingRequestCount=0;var outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest;self.$$incOutstandingRequestCount=function(){outstandingRequestCount++;};function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1));}finally{outstandingRequestCount--;if(outstandingRequestCount===0){while(outstandingRequestCallbacks.length){try{outstandingRequestCallbacks.pop()();}catch(e){$log.error(e);}}}}}
function getHash(url){var index=url.indexOf('#');return index===-1?'':url.substr(index+1);}
self.notifyWhenNoOutstandingRequests=function(callback){forEach(pollFns,function(pollFn){pollFn();});if(outstandingRequestCount===0){callback();}else{outstandingRequestCallbacks.push(callback);}};var pollFns=[],pollTimeout;self.addPollFn=function(fn){if(isUndefined(pollTimeout))startPoller(100,setTimeout);pollFns.push(fn);return fn;};function startPoller(interval,setTimeout){(function check(){forEach(pollFns,function(pollFn){pollFn();});pollTimeout=setTimeout(check,interval);})();}
var cachedState,lastHistoryState,lastBrowserUrl=location.href,baseElement=document.find('base'),reloadLocation=null;cacheState();lastHistoryState=cachedState;self.url=function(url,replace,state){if(isUndefined(state)){state=null;}
if(location!==window.location)location=window.location;if(history!==window.history)history=window.history;if(url){var sameState=lastHistoryState===state;if(lastBrowserUrl===url&&(!$sniffer.history||sameState)){return self;}
var sameBase=lastBrowserUrl&&stripHash(lastBrowserUrl)===stripHash(url);lastBrowserUrl=url;lastHistoryState=state;if($sniffer.history&&(!sameBase||!sameState)){history[replace?'replaceState':'pushState'](state,'',url);cacheState();lastHistoryState=cachedState;}else{if(!sameBase){reloadLocation=url;}
if(replace){location.replace(url);}else if(!sameBase){location.href=url;}else{location.hash=getHash(url);}}
return self;}else{return reloadLocation||location.href.replace(/%27/g,"'");}};self.state=function(){return cachedState;};var urlChangeListeners=[],urlChangeInit=false;function cacheStateAndFireUrlChange(){cacheState();fireUrlChange();}
function getCurrentState(){try{return history.state;}catch(e){}}
var lastCachedState=null;function cacheState(){cachedState=getCurrentState();cachedState=isUndefined(cachedState)?null:cachedState;if(equals(cachedState,lastCachedState)){cachedState=lastCachedState;}
lastCachedState=cachedState;}
function fireUrlChange(){if(lastBrowserUrl===self.url()&&lastHistoryState===cachedState){return;}
lastBrowserUrl=self.url();lastHistoryState=cachedState;forEach(urlChangeListeners,function(listener){listener(self.url(),cachedState);});}
self.onUrlChange=function(callback){if(!urlChangeInit){if($sniffer.history)jqLite(window).on('popstate',cacheStateAndFireUrlChange);jqLite(window).on('hashchange',cacheStateAndFireUrlChange);urlChangeInit=true;}
urlChangeListeners.push(callback);return callback;};self.$$checkUrlChange=fireUrlChange;self.baseHref=function(){var href=baseElement.attr('href');return href?href.replace(/^(https?\:)?\/\/[^\/]*/,''):'';};var lastCookies={};var lastCookieString='';var cookiePath=self.baseHref();function safeDecodeURIComponent(str){try{return decodeURIComponent(str);}catch(e){return str;}}
self.cookies=function(name,value){var cookieLength,cookieArray,cookie,i,index;if(name){if(value===undefined){rawDocument.cookie=encodeURIComponent(name)+"=;path="+cookiePath+";expires=Thu, 01 Jan 1970 00:00:00 GMT";}else{if(isString(value)){cookieLength=(rawDocument.cookie=encodeURIComponent(name)+'='+encodeURIComponent(value)+';path='+cookiePath).length+1;if(cookieLength>4096){$log.warn("Cookie '"+name+"' possibly not set or overflowed because it was too large ("+
cookieLength+" > 4096 bytes)!");}}}}else{if(rawDocument.cookie!==lastCookieString){lastCookieString=rawDocument.cookie;cookieArray=lastCookieString.split("; ");lastCookies={};for(i=0;i<cookieArray.length;i++){cookie=cookieArray[i];index=cookie.indexOf('=');if(index>0){name=safeDecodeURIComponent(cookie.substring(0,index));if(lastCookies[name]===undefined){lastCookies[name]=safeDecodeURIComponent(cookie.substring(index+1));}}}}
return lastCookies;}};self.defer=function(fn,delay){var timeoutId;outstandingRequestCount++;timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId];completeOutstandingRequest(fn);},delay||0);pendingDeferIds[timeoutId]=true;return timeoutId;};self.defer.cancel=function(deferId){if(pendingDeferIds[deferId]){delete pendingDeferIds[deferId];clearTimeout(deferId);completeOutstandingRequest(noop);return true;}
return false;};}
function $BrowserProvider(){this.$get=['$window','$log','$sniffer','$document',function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer);}];}
function $CacheFactoryProvider(){this.$get=function(){var caches={};function cacheFactory(cacheId,options){if(cacheId in caches){throw minErr('$cacheFactory')('iid',"CacheId '{0}' is already taken!",cacheId);}
var size=0,stats=extend({},options,{id:cacheId}),data={},capacity=(options&&options.capacity)||Number.MAX_VALUE,lruHash={},freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key]||(lruHash[key]={key:key});refresh(lruEntry);}
if(isUndefined(value))return;if(!(key in data))size++;data[key]=value;if(size>capacity){this.remove(staleEnd.key);}
return value;},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry);}
return data[key];},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;if(lruEntry==freshEnd)freshEnd=lruEntry.p;if(lruEntry==staleEnd)staleEnd=lruEntry.n;link(lruEntry.n,lruEntry.p);delete lruHash[key];}
delete data[key];size--;},removeAll:function(){data={};size=0;lruHash={};freshEnd=staleEnd=null;},destroy:function(){data=null;stats=null;lruHash=null;delete caches[cacheId];},info:function(){return extend({},stats,{size:size});}};function refresh(entry){if(entry!=freshEnd){if(!staleEnd){staleEnd=entry;}else if(staleEnd==entry){staleEnd=entry.n;}
link(entry.n,entry.p);link(entry,freshEnd);freshEnd=entry;freshEnd.n=null;}}
function link(nextEntry,prevEntry){if(nextEntry!=prevEntry){if(nextEntry)nextEntry.p=prevEntry;if(prevEntry)prevEntry.n=nextEntry;}}}
cacheFactory.info=function(){var info={};forEach(caches,function(cache,cacheId){info[cacheId]=cache.info();});return info;};cacheFactory.get=function(cacheId){return caches[cacheId];};return cacheFactory;};}
function $TemplateCacheProvider(){this.$get=['$cacheFactory',function($cacheFactory){return $cacheFactory('templates');}];}
var $compileMinErr=minErr('$compile');$CompileProvider.$inject=['$provide','$$sanitizeUriProvider'];function $CompileProvider($provide,$$sanitizeUriProvider){var hasDirectives={},Suffix='Directive',COMMENT_DIRECTIVE_REGEXP=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\w\-]+)(?:\:([^;]+))?;?)/,ALL_OR_NOTHING_ATTRS=makeMap('ngSrc,ngSrcset,src,srcset'),REQUIRE_PREFIX_REGEXP=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/;var EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;function parseIsolateBindings(scope,directiveName){var LOCAL_REGEXP=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/;var bindings={};forEach(scope,function(definition,scopeName){var match=definition.match(LOCAL_REGEXP);if(!match){throw $compileMinErr('iscp',"Invalid isolate scope definition for directive '{0}'."+" Definition: {... {1}: '{2}' ...}",directiveName,scopeName,definition);}
bindings[scopeName]={mode:match[1][0],collection:match[2]==='*',optional:match[3]==='?',attrName:match[4]||scopeName};});return bindings;}
this.directive=function registerDirective(name,directiveFactory){assertNotHasOwnProperty(name,'directive');if(isString(name)){assertArg(directiveFactory,'directiveFactory');if(!hasDirectives.hasOwnProperty(name)){hasDirectives[name]=[];$provide.factory(name+Suffix,['$injector','$exceptionHandler',function($injector,$exceptionHandler){var directives=[];forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);if(isFunction(directive)){directive={compile:valueFn(directive)};}else if(!directive.compile&&directive.link){directive.compile=valueFn(directive.link);}
directive.priority=directive.priority||0;directive.index=index;directive.name=directive.name||name;directive.require=directive.require||(directive.controller&&directive.name);directive.restrict=directive.restrict||'EA';if(isObject(directive.scope)){directive.$$isolateBindings=parseIsolateBindings(directive.scope,directive.name);}
directives.push(directive);}catch(e){$exceptionHandler(e);}});return directives;}]);}
hasDirectives[name].push(directiveFactory);}else{forEach(name,reverseParams(registerDirective));}
return this;};this.aHrefSanitizationWhitelist=function(regexp){if(isDefined(regexp)){$$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp);return this;}else{return $$sanitizeUriProvider.aHrefSanitizationWhitelist();}};this.imgSrcSanitizationWhitelist=function(regexp){if(isDefined(regexp)){$$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp);return this;}else{return $$sanitizeUriProvider.imgSrcSanitizationWhitelist();}};var debugInfoEnabled=true;this.debugInfoEnabled=function(enabled){if(isDefined(enabled)){debugInfoEnabled=enabled;return this;}
return debugInfoEnabled;};this.$get=['$injector','$interpolate','$exceptionHandler','$templateRequest','$parse','$controller','$rootScope','$document','$sce','$animate','$$sanitizeUri',function($injector,$interpolate,$exceptionHandler,$templateRequest,$parse,$controller,$rootScope,$document,$sce,$animate,$$sanitizeUri){var Attributes=function(element,attributesToCopy){if(attributesToCopy){var keys=Object.keys(attributesToCopy);var i,l,key;for(i=0,l=keys.length;i<l;i++){key=keys[i];this[key]=attributesToCopy[key];}}else{this.$attr={};}
this.$$element=element;};Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){if(classVal&&classVal.length>0){$animate.addClass(this.$$element,classVal);}},$removeClass:function(classVal){if(classVal&&classVal.length>0){$animate.removeClass(this.$$element,classVal);}},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses);if(toAdd&&toAdd.length){$animate.addClass(this.$$element,toAdd);}
var toRemove=tokenDifference(oldClasses,newClasses);if(toRemove&&toRemove.length){$animate.removeClass(this.$$element,toRemove);}},$set:function(key,value,writeAttr,attrName){var node=this.$$element[0],booleanKey=getBooleanAttrName(node,key),aliasedKey=getAliasedAttrName(node,key),observer=key,nodeName;if(booleanKey){this.$$element.prop(key,value);attrName=booleanKey;}else if(aliasedKey){this[aliasedKey]=value;observer=aliasedKey;}
this[key]=value;if(attrName){this.$attr[key]=attrName;}else{attrName=this.$attr[key];if(!attrName){this.$attr[key]=attrName=snake_case(key,'-');}}
nodeName=nodeName_(this.$$element);if((nodeName==='a'&&key==='href')||(nodeName==='img'&&key==='src')){this[key]=value=$$sanitizeUri(value,key==='src');}else if(nodeName==='img'&&key==='srcset'){var result="";var trimmedSrcset=trim(value);var srcPattern=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;var pattern=/\s/.test(trimmedSrcset)?srcPattern:/(,)/;var rawUris=trimmedSrcset.split(pattern);var nbrUrisWith2parts=Math.floor(rawUris.length/2);for(var i=0;i<nbrUrisWith2parts;i++){var innerIdx=i*2;result+=$$sanitizeUri(trim(rawUris[innerIdx]),true);result+=(" "+trim(rawUris[innerIdx+1]));}
var lastTuple=trim(rawUris[i*2]).split(/\s/);result+=$$sanitizeUri(trim(lastTuple[0]),true);if(lastTuple.length===2){result+=(" "+trim(lastTuple[1]));}
this[key]=value=result;}
if(writeAttr!==false){if(value===null||value===undefined){this.$$element.removeAttr(attrName);}else{this.$$element.attr(attrName,value);}}
var $$observers=this.$$observers;$$observers&&forEach($$observers[observer],function(fn){try{fn(value);}catch(e){$exceptionHandler(e);}});},$observe:function(key,fn){var attrs=this,$$observers=(attrs.$$observers||(attrs.$$observers=createMap())),listeners=($$observers[key]||($$observers[key]=[]));listeners.push(fn);$rootScope.$evalAsync(function(){if(!listeners.$$inter&&attrs.hasOwnProperty(key)){fn(attrs[key]);}});return function(){arrayRemove(listeners,fn);};}};function safeAddClass($element,className){try{$element.addClass(className);}catch(e){}}
var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate=(startSymbol=='{{'||endSymbol=='}}')?identity:function denormalizeTemplate(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol);},NG_ATTR_BINDING=/^ngAttr[A-Z]/;compile.$$addBindingInfo=debugInfoEnabled?function $$addBindingInfo($element,binding){var bindings=$element.data('$binding')||[];if(isArray(binding)){bindings=bindings.concat(binding);}else{bindings.push(binding);}
$element.data('$binding',bindings);}:noop;compile.$$addBindingClass=debugInfoEnabled?function $$addBindingClass($element){safeAddClass($element,'ng-binding');}:noop;compile.$$addScopeInfo=debugInfoEnabled?function $$addScopeInfo($element,scope,isolated,noTemplate){var dataName=isolated?(noTemplate?'$isolateScopeNoTemplate':'$isolateScope'):'$scope';$element.data(dataName,scope);}:noop;compile.$$addScopeClass=debugInfoEnabled?function $$addScopeClass($element,isolated){safeAddClass($element,isolated?'ng-isolate-scope':'ng-scope');}:noop;return compile;function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){if(!($compileNodes instanceof jqLite)){$compileNodes=jqLite($compileNodes);}
forEach($compileNodes,function(node,index){if(node.nodeType==NODE_TYPE_TEXT&&node.nodeValue.match(/\S+/)){$compileNodes[index]=jqLite(node).wrap('<span></span>').parent()[0];}});var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);compile.$$addScopeClass($compileNodes);var namespace=null;return function publicLinkFn(scope,cloneConnectFn,options){assertArg(scope,'scope');options=options||{};var parentBoundTranscludeFn=options.parentBoundTranscludeFn,transcludeControllers=options.transcludeControllers,futureParentElement=options.futureParentElement;if(parentBoundTranscludeFn&&parentBoundTranscludeFn.$$boundTransclude){parentBoundTranscludeFn=parentBoundTranscludeFn.$$boundTransclude;}
if(!namespace){namespace=detectNamespaceForChildElements(futureParentElement);}
var $linkNode;if(namespace!=='html'){$linkNode=jqLite(wrapTemplate(namespace,jqLite('<div>').append($compileNodes).html()));}else if(cloneConnectFn){$linkNode=JQLitePrototype.clone.call($compileNodes);}else{$linkNode=$compileNodes;}
if(transcludeControllers){for(var controllerName in transcludeControllers){$linkNode.data('$'+controllerName+'Controller',transcludeControllers[controllerName].instance);}}
compile.$$addScopeInfo($linkNode,scope);if(cloneConnectFn)cloneConnectFn($linkNode,scope);if(compositeLinkFn)compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn);return $linkNode;};}
function detectNamespaceForChildElements(parentElement){var node=parentElement&&parentElement[0];if(!node){return'html';}else{return nodeName_(node)!=='foreignobject'&&node.toString().match(/SVG/)?'svg':'html';}}
function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){var linkFns=[],attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,nodeLinkFnFound;for(var i=0;i<nodeList.length;i++){attrs=new Attributes();directives=collectDirectives(nodeList[i],[],attrs,i===0?maxPriority:undefined,ignoreDirective);nodeLinkFn=(directives.length)?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null;if(nodeLinkFn&&nodeLinkFn.scope){compile.$$addScopeClass(attrs.$$element);}
childLinkFn=(nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length)?null:compileNodes(childNodes,nodeLinkFn?((nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude):transcludeFn);if(nodeLinkFn||childLinkFn){linkFns.push(i,nodeLinkFn,childLinkFn);linkFnFound=true;nodeLinkFnFound=nodeLinkFnFound||nodeLinkFn;}
previousCompileContext=null;}
return linkFnFound?compositeLinkFn:null;function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,idx,childBoundTranscludeFn;var stableNodeList;if(nodeLinkFnFound){var nodeListLength=nodeList.length;stableNodeList=new Array(nodeListLength);for(i=0;i<linkFns.length;i+=3){idx=linkFns[i];stableNodeList[idx]=nodeList[idx];}}else{stableNodeList=nodeList;}
for(i=0,ii=linkFns.length;i<ii;){node=stableNodeList[linkFns[i++]];nodeLinkFn=linkFns[i++];childLinkFn=linkFns[i++];if(nodeLinkFn){if(nodeLinkFn.scope){childScope=scope.$new();compile.$$addScopeInfo(jqLite(node),childScope);}else{childScope=scope;}
if(nodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn,nodeLinkFn.elementTranscludeOnThisElement);}else if(!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn){childBoundTranscludeFn=parentBoundTranscludeFn;}else if(!parentBoundTranscludeFn&&transcludeFn){childBoundTranscludeFn=createBoundTranscludeFn(scope,transcludeFn);}else{childBoundTranscludeFn=null;}
nodeLinkFn(childLinkFn,childScope,node,$rootElement,childBoundTranscludeFn);}else if(childLinkFn){childLinkFn(scope,node.childNodes,undefined,parentBoundTranscludeFn);}}}}
function createBoundTranscludeFn(scope,transcludeFn,previousBoundTranscludeFn,elementTransclusion){var boundTranscludeFn=function(transcludedScope,cloneFn,controllers,futureParentElement,containingScope){if(!transcludedScope){transcludedScope=scope.$new(false,containingScope);transcludedScope.$$transcluded=true;}
return transcludeFn(transcludedScope,cloneFn,{parentBoundTranscludeFn:previousBoundTranscludeFn,transcludeControllers:controllers,futureParentElement:futureParentElement});};return boundTranscludeFn;}
function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var nodeType=node.nodeType,attrsMap=attrs.$attr,match,className;switch(nodeType){case NODE_TYPE_ELEMENT:addDirective(directives,directiveNormalize(nodeName_(node)),'E',maxPriority,ignoreDirective);for(var attr,name,nName,ngAttrName,value,isNgAttr,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;j<jj;j++){var attrStartName=false;var attrEndName=false;attr=nAttrs[j];name=attr.name;value=trim(attr.value);ngAttrName=directiveNormalize(name);if(isNgAttr=NG_ATTR_BINDING.test(ngAttrName)){name=name.replace(PREFIX_REGEXP,'').substr(8).replace(/_(.)/g,function(match,letter){return letter.toUpperCase();});}
var directiveNName=ngAttrName.replace(/(Start|End)$/,'');if(directiveIsMultiElement(directiveNName)){if(ngAttrName===directiveNName+'Start'){attrStartName=name;attrEndName=name.substr(0,name.length-5)+'end';name=name.substr(0,name.length-6);}}
nName=directiveNormalize(name.toLowerCase());attrsMap[nName]=name;if(isNgAttr||!attrs.hasOwnProperty(nName)){attrs[nName]=value;if(getBooleanAttrName(node,nName)){attrs[nName]=true;}}
addAttrInterpolateDirective(node,directives,value,nName,isNgAttr);addDirective(directives,nName,'A',maxPriority,ignoreDirective,attrStartName,attrEndName);}
className=node.className;if(isObject(className)){className=className.animVal;}
if(isString(className)&&className!==''){while(match=CLASS_DIRECTIVE_REGEXP.exec(className)){nName=directiveNormalize(match[2]);if(addDirective(directives,nName,'C',maxPriority,ignoreDirective)){attrs[nName]=trim(match[3]);}
className=className.substr(match.index+match[0].length);}}
break;case NODE_TYPE_TEXT:addTextInterpolateDirective(directives,node.nodeValue);break;case NODE_TYPE_COMMENT:try{match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue);if(match){nName=directiveNormalize(match[1]);if(addDirective(directives,nName,'M',maxPriority,ignoreDirective)){attrs[nName]=trim(match[2]);}}}catch(e){}
break;}
directives.sort(byPriority);return directives;}
function groupScan(node,attrStart,attrEnd){var nodes=[];var depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node){throw $compileMinErr('uterdir',"Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd);}
if(node.nodeType==NODE_TYPE_ELEMENT){if(node.hasAttribute(attrStart))depth++;if(node.hasAttribute(attrEnd))depth--;}
nodes.push(node);node=node.nextSibling;}while(depth>0);}else{nodes.push(node);}
return jqLite(nodes);}
function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function(scope,element,attrs,controllers,transcludeFn){element=groupScan(element[0],attrStart,attrEnd);return linkFn(scope,element,attrs,controllers,transcludeFn);};}
function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){previousCompileContext=previousCompileContext||{};var terminalPriority=-Number.MAX_VALUE,newScopeDirective,controllerDirectives=previousCompileContext.controllerDirectives,controllers,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=false,hasTemplate=false,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),directive,directiveName,$template,replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,linkFn,directiveValue;for(var i=0,ii=directives.length;i<ii;i++){directive=directives[i];var attrStart=directive.$$start;var attrEnd=directive.$$end;if(attrStart){$compileNode=groupScan(compileNode,attrStart,attrEnd);}
$template=undefined;if(terminalPriority>directive.priority){break;}
if(directiveValue=directive.scope){if(!directive.templateUrl){if(isObject(directiveValue)){assertNoDuplicate('new/isolated scope',newIsolateScopeDirective||newScopeDirective,directive,$compileNode);newIsolateScopeDirective=directive;}else{assertNoDuplicate('new/isolated scope',newIsolateScopeDirective,directive,$compileNode);}}
newScopeDirective=newScopeDirective||directive;}
directiveName=directive.name;if(!directive.templateUrl&&directive.controller){directiveValue=directive.controller;controllerDirectives=controllerDirectives||{};assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode);controllerDirectives[directiveName]=directive;}
if(directiveValue=directive.transclude){hasTranscludeDirective=true;if(!directive.$$tlb){assertNoDuplicate('transclusion',nonTlbTranscludeDirective,directive,$compileNode);nonTlbTranscludeDirective=directive;}
if(directiveValue=='element'){hasElementTranscludeDirective=true;terminalPriority=directive.priority;$template=$compileNode;$compileNode=templateAttrs.$$element=jqLite(document.createComment(' '+directiveName+': '+
templateAttrs[directiveName]+' '));compileNode=$compileNode[0];replaceWith(jqCollection,sliceArgs($template),compileNode);childTranscludeFn=compile($template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective});}else{$template=jqLite(jqLiteClone(compileNode)).contents();$compileNode.empty();childTranscludeFn=compile($template,transcludeFn);}}
if(directive.template){hasTemplate=true;assertNoDuplicate('template',templateDirective,directive,$compileNode);templateDirective=directive;directiveValue=(isFunction(directive.template))?directive.template($compileNode,templateAttrs):directive.template;directiveValue=denormalizeTemplate(directiveValue);if(directive.replace){replaceDirective=directive;if(jqLiteIsTextNode(directiveValue)){$template=[];}else{$template=removeComments(wrapTemplate(directive.templateNamespace,trim(directiveValue)));}
compileNode=$template[0];if($template.length!=1||compileNode.nodeType!==NODE_TYPE_ELEMENT){throw $compileMinErr('tplrt',"Template for directive '{0}' must have exactly one root element. {1}",directiveName,'');}
replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}};var templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs);var unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));if(newIsolateScopeDirective){markDirectivesAsIsolate(templateDirectives);}
directives=directives.concat(templateDirectives).concat(unprocessedDirectives);mergeTemplateAttributes(templateAttrs,newTemplateAttrs);ii=directives.length;}else{$compileNode.html(directiveValue);}}
if(directive.templateUrl){hasTemplate=true;assertNoDuplicate('template',templateDirective,directive,$compileNode);templateDirective=directive;if(directive.replace){replaceDirective=directive;}
nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective});ii=directives.length;}else if(directive.compile){try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn);if(isFunction(linkFn)){addLinkFns(null,linkFn,attrStart,attrEnd);}else if(linkFn){addLinkFns(linkFn.pre,linkFn.post,attrStart,attrEnd);}}catch(e){$exceptionHandler(e,startingTag($compileNode));}}
if(directive.terminal){nodeLinkFn.terminal=true;terminalPriority=Math.max(terminalPriority,directive.priority);}}
nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===true;nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective;nodeLinkFn.elementTranscludeOnThisElement=hasElementTranscludeDirective;nodeLinkFn.templateOnThisElement=hasTemplate;nodeLinkFn.transclude=childTranscludeFn;previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective;return nodeLinkFn;function addLinkFns(pre,post,attrStart,attrEnd){if(pre){if(attrStart)pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd);pre.require=directive.require;pre.directiveName=directiveName;if(newIsolateScopeDirective===directive||directive.$$isolateScope){pre=cloneAndAnnotateFn(pre,{isolateScope:true});}
preLinkFns.push(pre);}
if(post){if(attrStart)post=groupElementsLinkFnWrapper(post,attrStart,attrEnd);post.require=directive.require;post.directiveName=directiveName;if(newIsolateScopeDirective===directive||directive.$$isolateScope){post=cloneAndAnnotateFn(post,{isolateScope:true});}
postLinkFns.push(post);}}
function getControllers(directiveName,require,$element,elementControllers){var value,retrievalMethod='data',optional=false;var $searchElement=$element;var match;if(isString(require)){match=require.match(REQUIRE_PREFIX_REGEXP);require=require.substring(match[0].length);if(match[3]){if(match[1])match[3]=null;else match[1]=match[3];}
if(match[1]==='^'){retrievalMethod='inheritedData';}else if(match[1]==='^^'){retrievalMethod='inheritedData';$searchElement=$element.parent();}
if(match[2]==='?'){optional=true;}
value=null;if(elementControllers&&retrievalMethod==='data'){if(value=elementControllers[require]){value=value.instance;}}
value=value||$searchElement[retrievalMethod]('$'+require+'Controller');if(!value&&!optional){throw $compileMinErr('ctreq',"Controller '{0}', required by directive '{1}', can't be found!",require,directiveName);}
return value||null;}else if(isArray(require)){value=[];forEach(require,function(require){value.push(getControllers(directiveName,require,$element,elementControllers));});}
return value;}
function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn){var i,ii,linkFn,controller,isolateScope,elementControllers,transcludeFn,$element,attrs;if(compileNode===linkNode){attrs=templateAttrs;$element=templateAttrs.$$element;}else{$element=jqLite(linkNode);attrs=new Attributes($element,templateAttrs);}
if(newIsolateScopeDirective){isolateScope=scope.$new(true);}
if(boundTranscludeFn){transcludeFn=controllersBoundTransclude;transcludeFn.$$boundTransclude=boundTranscludeFn;}
if(controllerDirectives){controllers={};elementControllers={};forEach(controllerDirectives,function(directive){var locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn},controllerInstance;controller=directive.controller;if(controller=='@'){controller=attrs[directive.name];}
controllerInstance=$controller(controller,locals,true,directive.controllerAs);elementControllers[directive.name]=controllerInstance;if(!hasElementTranscludeDirective){$element.data('$'+directive.name+'Controller',controllerInstance.instance);}
controllers[directive.name]=controllerInstance;});}
if(newIsolateScopeDirective){compile.$$addScopeInfo($element,isolateScope,true,!(templateDirective&&(templateDirective===newIsolateScopeDirective||templateDirective===newIsolateScopeDirective.$$originalDirective)));compile.$$addScopeClass($element,true);var isolateScopeController=controllers&&controllers[newIsolateScopeDirective.name];var isolateBindingContext=isolateScope;if(isolateScopeController&&isolateScopeController.identifier&&newIsolateScopeDirective.bindToController===true){isolateBindingContext=isolateScopeController.instance;}
forEach(isolateScope.$$isolateBindings=newIsolateScopeDirective.$$isolateBindings,function(definition,scopeName){var attrName=definition.attrName,optional=definition.optional,mode=definition.mode,lastValue,parentGet,parentSet,compare;switch(mode){case'@':attrs.$observe(attrName,function(value){isolateBindingContext[scopeName]=value;});attrs.$$observers[attrName].$$scope=scope;if(attrs[attrName]){isolateBindingContext[scopeName]=$interpolate(attrs[attrName])(scope);}
break;case'=':if(optional&&!attrs[attrName]){return;}
parentGet=$parse(attrs[attrName]);if(parentGet.literal){compare=equals;}else{compare=function(a,b){return a===b||(a!==a&&b!==b);};}
parentSet=parentGet.assign||function(){lastValue=isolateBindingContext[scopeName]=parentGet(scope);throw $compileMinErr('nonassign',"Expression '{0}' used with directive '{1}' is non-assignable!",attrs[attrName],newIsolateScopeDirective.name);};lastValue=isolateBindingContext[scopeName]=parentGet(scope);var parentValueWatch=function parentValueWatch(parentValue){if(!compare(parentValue,isolateBindingContext[scopeName])){if(!compare(parentValue,lastValue)){isolateBindingContext[scopeName]=parentValue;}else{parentSet(scope,parentValue=isolateBindingContext[scopeName]);}}
return lastValue=parentValue;};parentValueWatch.$stateful=true;var unwatch;if(definition.collection){unwatch=scope.$watchCollection(attrs[attrName],parentValueWatch);}else{unwatch=scope.$watch($parse(attrs[attrName],parentValueWatch),null,parentGet.literal);}
isolateScope.$on('$destroy',unwatch);break;case'&':parentGet=$parse(attrs[attrName]);isolateBindingContext[scopeName]=function(locals){return parentGet(scope,locals);};break;}});}
if(controllers){forEach(controllers,function(controller){controller();});controllers=null;}
for(i=0,ii=preLinkFns.length;i<ii;i++){linkFn=preLinkFns[i];invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn);}
var scopeToChild=scope;if(newIsolateScopeDirective&&(newIsolateScopeDirective.template||newIsolateScopeDirective.templateUrl===null)){scopeToChild=isolateScope;}
childLinkFn&&childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn);for(i=postLinkFns.length-1;i>=0;i--){linkFn=postLinkFns[i];invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn);}
function controllersBoundTransclude(scope,cloneAttachFn,futureParentElement){var transcludeControllers;if(!isScope(scope)){futureParentElement=cloneAttachFn;cloneAttachFn=scope;scope=undefined;}
if(hasElementTranscludeDirective){transcludeControllers=elementControllers;}
if(!futureParentElement){futureParentElement=hasElementTranscludeDirective?$element.parent():$element;}
return boundTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild);}}}
function markDirectivesAsIsolate(directives){for(var j=0,jj=directives.length;j<jj;j++){directives[j]=inherit(directives[j],{$$isolateScope:true});}}
function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name)){for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++){try{directive=directives[i];if((maxPriority===undefined||maxPriority>directive.priority)&&directive.restrict.indexOf(location)!=-1){if(startAttrName){directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName});}
tDirectives.push(directive);match=directive;}}catch(e){$exceptionHandler(e);}}}
return match;}
function directiveIsMultiElement(name){if(hasDirectives.hasOwnProperty(name)){for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++){directive=directives[i];if(directive.multiElement){return true;}}}
return false;}
function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr,$element=dst.$$element;forEach(dst,function(value,key){if(key.charAt(0)!='$'){if(src[key]&&src[key]!==value){value+=(key==='style'?';':' ')+src[key];}
dst.$set(key,value,true,srcAttr[key]);}});forEach(src,function(value,key){if(key=='class'){safeAddClass($element,value);dst['class']=(dst['class']?dst['class']+' ':'')+value;}else if(key=='style'){$element.attr('style',$element.attr('style')+';'+value);dst['style']=(dst['style']?dst['style']+';':'')+value;}else if(key.charAt(0)!='$'&&!dst.hasOwnProperty(key)){dst[key]=value;dstAttr[key]=srcAttr[key];}});}
function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var linkQueue=[],afterTemplateNodeLinkFn,afterTemplateChildLinkFn,beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=inherit(origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=(isFunction(origAsyncDirective.templateUrl))?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl,templateNamespace=origAsyncDirective.templateNamespace;$compileNode.empty();$templateRequest($sce.getTrustedResourceUrl(templateUrl)).then(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;content=denormalizeTemplate(content);if(origAsyncDirective.replace){if(jqLiteIsTextNode(content)){$template=[];}else{$template=removeComments(wrapTemplate(templateNamespace,trim(content)));}
compileNode=$template[0];if($template.length!=1||compileNode.nodeType!==NODE_TYPE_ELEMENT){throw $compileMinErr('tplrt',"Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);}
tempTemplateAttrs={$attr:{}};replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);if(isObject(origAsyncDirective.scope)){markDirectivesAsIsolate(templateDirectives);}
directives=templateDirectives.concat(directives);mergeTemplateAttributes(tAttrs,tempTemplateAttrs);}else{compileNode=beforeTemplateCompileNode;$compileNode.html(content);}
directives.unshift(derivedSyncDirective);afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext);forEach($rootElement,function(node,i){if(node==compileNode){$rootElement[i]=$compileNode[0];}});afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);while(linkQueue.length){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(scope.$$destroyed)continue;if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;if(!(previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace)){linkNode=jqLiteClone(compileNode);}
replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode);safeAddClass(jqLite(linkNode),oldClasses);}
if(afterTemplateNodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn);}else{childBoundTranscludeFn=boundTranscludeFn;}
afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn);}
linkQueue=null;});return function delayedNodeLinkFn(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;if(scope.$$destroyed)return;if(linkQueue){linkQueue.push(scope,node,rootElement,childBoundTranscludeFn);}else{if(afterTemplateNodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn);}
afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn);}};}
function byPriority(a,b){var diff=b.priority-a.priority;if(diff!==0)return diff;if(a.name!==b.name)return(a.name<b.name)?-1:1;return a.index-b.index;}
function assertNoDuplicate(what,previousDirective,directive,element){if(previousDirective){throw $compileMinErr('multidir','Multiple directives [{0}, {1}] asking for {2} on: {3}',previousDirective.name,directive.name,what,startingTag(element));}}
function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,true);if(interpolateFn){directives.push({priority:0,compile:function textInterpolateCompileFn(templateNode){var templateNodeParent=templateNode.parent(),hasCompileParent=!!templateNodeParent.length;if(hasCompileParent)compile.$$addBindingClass(templateNodeParent);return function textInterpolateLinkFn(scope,node){var parent=node.parent();if(!hasCompileParent)compile.$$addBindingClass(parent);compile.$$addBindingInfo(parent,interpolateFn.expressions);scope.$watch(interpolateFn,function interpolateFnWatchAction(value){node[0].nodeValue=value;});};}});}}
function wrapTemplate(type,template){type=lowercase(type||'html');switch(type){case'svg':case'math':var wrapper=document.createElement('div');wrapper.innerHTML='<'+type+'>'+template+'</'+type+'>';return wrapper.childNodes[0].childNodes;default:return template;}}
function getTrustedContext(node,attrNormalizedName){if(attrNormalizedName=="srcdoc"){return $sce.HTML;}
var tag=nodeName_(node);if(attrNormalizedName=="xlinkHref"||(tag=="form"&&attrNormalizedName=="action")||(tag!="img"&&(attrNormalizedName=="src"||attrNormalizedName=="ngSrc"))){return $sce.RESOURCE_URL;}}
function addAttrInterpolateDirective(node,directives,value,name,allOrNothing){var trustedContext=getTrustedContext(node,name);allOrNothing=ALL_OR_NOTHING_ATTRS[name]||allOrNothing;var interpolateFn=$interpolate(value,true,trustedContext,allOrNothing);if(!interpolateFn)return;if(name==="multiple"&&nodeName_(node)==="select"){throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node));}
directives.push({priority:100,compile:function(){return{pre:function attrInterpolatePreLinkFn(scope,element,attr){var $$observers=(attr.$$observers||(attr.$$observers={}));if(EVENT_HANDLER_ATTR_REGEXP.test(name)){throw $compileMinErr('nodomevents',"Interpolations for HTML DOM event attributes are disallowed.  Please use the "+"ng- versions (such as ng-click instead of onclick) instead.");}
var newValue=attr[name];if(newValue!==value){interpolateFn=newValue&&$interpolate(newValue,true,trustedContext,allOrNothing);value=newValue;}
if(!interpolateFn)return;attr[name]=interpolateFn(scope);($$observers[name]||($$observers[name]=[])).$$inter=true;(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function interpolateFnWatchAction(newValue,oldValue){if(name==='class'&&newValue!=oldValue){attr.$updateClass(newValue,oldValue);}else{attr.$set(name,newValue);}});}};}});}
function replaceWith($rootElement,elementsToRemove,newNode){var firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode,i,ii;if($rootElement){for(i=0,ii=$rootElement.length;i<ii;i++){if($rootElement[i]==firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;j<jj;j++,j2++){if(j2<jj){$rootElement[j]=$rootElement[j2];}else{delete $rootElement[j];}}
$rootElement.length-=removeCount-1;if($rootElement.context===firstElementToRemove){$rootElement.context=newNode;}
break;}}}
if(parent){parent.replaceChild(newNode,firstElementToRemove);}
var fragment=document.createDocumentFragment();fragment.appendChild(firstElementToRemove);jqLite(newNode).data(jqLite(firstElementToRemove).data());if(!jQuery){delete jqLite.cache[firstElementToRemove[jqLite.expando]];}else{skipDestroyOnNextJQueryCleanData=true;jQuery.cleanData([firstElementToRemove]);}
for(var k=1,kk=elementsToRemove.length;k<kk;k++){var element=elementsToRemove[k];jqLite(element).remove();fragment.appendChild(element);delete elementsToRemove[k];}
elementsToRemove[0]=newNode;elementsToRemove.length=1;}
function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments);},fn,annotation);}
function invokeLinkFn(linkFn,scope,$element,attrs,controllers,transcludeFn){try{linkFn(scope,$element,attrs,controllers,transcludeFn);}catch(e){$exceptionHandler(e,startingTag($element));}}}];}
var PREFIX_REGEXP=/^((?:x|data)[\:\-_])/i;function directiveNormalize(name){return camelCase(name.replace(PREFIX_REGEXP,''));}
function nodesetLinkingFn(scope,nodeList,rootElement,boundTranscludeFn){}
function directiveLinkingFn(nodesetLinkingFn,scope,node,rootElement,boundTranscludeFn){}
function tokenDifference(str1,str2){var values='',tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){var token=tokens1[i];for(var j=0;j<tokens2.length;j++){if(token==tokens2[j])continue outer;}
values+=(values.length>0?' ':'')+token;}
return values;}
function removeComments(jqNodes){jqNodes=jqLite(jqNodes);var i=jqNodes.length;if(i<=1){return jqNodes;}
while(i--){var node=jqNodes[i];if(node.nodeType===NODE_TYPE_COMMENT){splice.call(jqNodes,i,1);}}
return jqNodes;}
var $controllerMinErr=minErr('$controller');function $ControllerProvider(){var controllers={},globals=false,CNTRL_REG=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(name,constructor){assertNotHasOwnProperty(name,'controller');if(isObject(name)){extend(controllers,name);}else{controllers[name]=constructor;}};this.allowGlobals=function(){globals=true;};this.$get=['$injector','$window',function($injector,$window){return function(expression,locals,later,ident){var instance,match,constructor,identifier;later=later===true;if(ident&&isString(ident)){identifier=ident;}
if(isString(expression)){match=expression.match(CNTRL_REG);if(!match){throw $controllerMinErr('ctrlfmt',"Badly formed controller string '{0}'. "+"Must match `__name__ as __id__` or `__name__`.",expression);}
constructor=match[1],identifier=identifier||match[3];expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,true)||(globals?getter($window,constructor,true):undefined);assertArgFn(expression,constructor,true);}
if(later){var controllerPrototype=(isArray(expression)?expression[expression.length-1]:expression).prototype;instance=Object.create(controllerPrototype||null);if(identifier){addIdentifier(locals,identifier,instance,constructor||expression.name);}
return extend(function(){$injector.invoke(expression,instance,locals,constructor);return instance;},{instance:instance,identifier:identifier});}
instance=$injector.instantiate(expression,locals,constructor);if(identifier){addIdentifier(locals,identifier,instance,constructor||expression.name);}
return instance;};function addIdentifier(locals,identifier,instance,name){if(!(locals&&isObject(locals.$scope))){throw minErr('$controller')('noscp',"Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",name,identifier);}
locals.$scope[identifier]=instance;}}];}
function $DocumentProvider(){this.$get=['$window',function(window){return jqLite(window.document);}];}
function $ExceptionHandlerProvider(){this.$get=['$log',function($log){return function(exception,cause){$log.error.apply($log,arguments);};}];}
var APPLICATION_JSON='application/json';var CONTENT_TYPE_APPLICATION_JSON={'Content-Type':APPLICATION_JSON+';charset=utf-8'};var JSON_START=/^\[|^\{(?!\{)/;var JSON_ENDS={'[':/]$/,'{':/}$/};var JSON_PROTECTION_PREFIX=/^\)\]\}',?\n/;function defaultHttpResponseTransform(data,headers){if(isString(data)){var tempData=data.replace(JSON_PROTECTION_PREFIX,'').trim();if(tempData){var contentType=headers('Content-Type');if((contentType&&(contentType.indexOf(APPLICATION_JSON)===0))||isJsonLike(tempData)){data=fromJson(tempData);}}}
return data;}
function isJsonLike(str){var jsonStart=str.match(JSON_START);return jsonStart&&JSON_ENDS[jsonStart[0]].test(str);}
function parseHeaders(headers){var parsed=createMap(),key,val,i;if(!headers)return parsed;forEach(headers.split('\n'),function(line){i=line.indexOf(':');key=lowercase(trim(line.substr(0,i)));val=trim(line.substr(i+1));if(key){parsed[key]=parsed[key]?parsed[key]+', '+val:val;}});return parsed;}
function headersGetter(headers){var headersObj=isObject(headers)?headers:undefined;return function(name){if(!headersObj)headersObj=parseHeaders(headers);if(name){var value=headersObj[lowercase(name)];if(value===void 0){value=null;}
return value;}
return headersObj;};}
function transformData(data,headers,status,fns){if(isFunction(fns))
return fns(data,headers,status);forEach(fns,function(fn){data=fn(data,headers,status);});return data;}
function isSuccess(status){return 200<=status&&status<300;}
function $HttpProvider(){var defaults=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(d){return isObject(d)&&!isFile(d)&&!isBlob(d)&&!isFormData(d)?toJson(d):d;}],headers:{common:{'Accept':'application/json, text/plain, */*'},post:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),put:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),patch:shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:'XSRF-TOKEN',xsrfHeaderName:'X-XSRF-TOKEN'};var useApplyAsync=false;this.useApplyAsync=function(value){if(isDefined(value)){useApplyAsync=!!value;return this;}
return useApplyAsync;};var interceptorFactories=this.interceptors=[];this.$get=['$httpBackend','$browser','$cacheFactory','$rootScope','$q','$injector',function($httpBackend,$browser,$cacheFactory,$rootScope,$q,$injector){var defaultCache=$cacheFactory('$http');var reversedInterceptors=[];forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory));});function $http(requestConfig){if(!angular.isObject(requestConfig)){throw minErr('$http')('badreq','Http request configuration must be an object.  Received: {0}',requestConfig);}
var config=extend({method:'get',transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse},requestConfig);config.headers=mergeHeaders(requestConfig);config.method=uppercase(config.method);var serverRequest=function(config){var headers=config.headers;var reqData=transformData(config.data,headersGetter(headers),undefined,config.transformRequest);if(isUndefined(reqData)){forEach(headers,function(value,header){if(lowercase(header)==='content-type'){delete headers[header];}});}
if(isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)){config.withCredentials=defaults.withCredentials;}
return sendReq(config,reqData).then(transformResponse,transformResponse);};var chain=[serverRequest,undefined];var promise=$q.when(config);forEach(reversedInterceptors,function(interceptor){if(interceptor.request||interceptor.requestError){chain.unshift(interceptor.request,interceptor.requestError);}
if(interceptor.response||interceptor.responseError){chain.push(interceptor.response,interceptor.responseError);}});while(chain.length){var thenFn=chain.shift();var rejectFn=chain.shift();promise=promise.then(thenFn,rejectFn);}
promise.success=function(fn){promise.then(function(response){fn(response.data,response.status,response.headers,config);});return promise;};promise.error=function(fn){promise.then(null,function(response){fn(response.data,response.status,response.headers,config);});return promise;};return promise;function transformResponse(response){var resp=extend({},response);if(!response.data){resp.data=response.data;}else{resp.data=transformData(response.data,response.headers,response.status,config.transformResponse);}
return(isSuccess(response.status))?resp:$q.reject(resp);}
function executeHeaderFns(headers){var headerContent,processedHeaders={};forEach(headers,function(headerFn,header){if(isFunction(headerFn)){headerContent=headerFn();if(headerContent!=null){processedHeaders[header]=headerContent;}}else{processedHeaders[header]=headerFn;}});return processedHeaders;}
function mergeHeaders(config){var defHeaders=defaults.headers,reqHeaders=extend({},config.headers),defHeaderName,lowercaseDefHeaderName,reqHeaderName;defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders){if(lowercase(reqHeaderName)===lowercaseDefHeaderName){continue defaultHeadersIteration;}}
reqHeaders[defHeaderName]=defHeaders[defHeaderName];}
return executeHeaderFns(reqHeaders);}}
$http.pendingRequests=[];createShortMethods('get','delete','head','jsonp');createShortMethodsWithData('post','put','patch');$http.defaults=defaults;return $http;function createShortMethods(names){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend(config||{},{method:name,url:url}));};});}
function createShortMethodsWithData(name){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend(config||{},{method:name,url:url,data:data}));};});}
function sendReq(config,reqData){var deferred=$q.defer(),promise=deferred.promise,cache,cachedResp,reqHeaders=config.headers,url=buildUrl(config.url,config.params);$http.pendingRequests.push(config);promise.then(removePendingReq,removePendingReq);if((config.cache||defaults.cache)&&config.cache!==false&&(config.method==='GET'||config.method==='JSONP')){cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache;}
if(cache){cachedResp=cache.get(url);if(isDefined(cachedResp)){if(isPromiseLike(cachedResp)){cachedResp.then(resolvePromiseWithResult,resolvePromiseWithResult);}else{if(isArray(cachedResp)){resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3]);}else{resolvePromise(cachedResp,200,{},'OK');}}}else{cache.put(url,promise);}}
if(isUndefined(cachedResp)){var xsrfValue=urlIsSameOrigin(config.url)?$browser.cookies()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;if(xsrfValue){reqHeaders[(config.xsrfHeaderName||defaults.xsrfHeaderName)]=xsrfValue;}
$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType);}
return promise;function done(status,response,headersString,statusText){if(cache){if(isSuccess(status)){cache.put(url,[status,response,parseHeaders(headersString),statusText]);}else{cache.remove(url);}}
function resolveHttpPromise(){resolvePromise(response,status,headersString,statusText);}
if(useApplyAsync){$rootScope.$applyAsync(resolveHttpPromise);}else{resolveHttpPromise();if(!$rootScope.$$phase)$rootScope.$apply();}}
function resolvePromise(response,status,headers,statusText){status=Math.max(status,0);(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config,statusText:statusText});}
function resolvePromiseWithResult(result){resolvePromise(result.data,result.status,shallowCopy(result.headers()),result.statusText);}
function removePendingReq(){var idx=$http.pendingRequests.indexOf(config);if(idx!==-1)$http.pendingRequests.splice(idx,1);}}
function buildUrl(url,params){if(!params)return url;var parts=[];forEachSorted(params,function(value,key){if(value===null||isUndefined(value))return;if(!isArray(value))value=[value];forEach(value,function(v){if(isObject(v)){if(isDate(v)){v=v.toISOString();}else{v=toJson(v);}}
parts.push(encodeUriQuery(key)+'='+
encodeUriQuery(v));});});if(parts.length>0){url+=((url.indexOf('?')==-1)?'?':'&')+parts.join('&');}
return url;}}];}
function createXhr(){return new window.XMLHttpRequest();}
function $HttpBackendProvider(){this.$get=['$browser','$window','$document',function($browser,$window,$document){return createHttpBackend($browser,createXhr,$browser.defer,$window.angular.callbacks,$document[0]);}];}
function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){return function(method,url,post,callback,headers,timeout,withCredentials,responseType){$browser.$$incOutstandingRequestCount();url=url||$browser.url();if(lowercase(method)=='jsonp'){var callbackId='_'+(callbacks.counter++).toString(36);callbacks[callbackId]=function(data){callbacks[callbackId].data=data;callbacks[callbackId].called=true;};var jsonpDone=jsonpReq(url.replace('JSON_CALLBACK','angular.callbacks.'+callbackId),callbackId,function(status,text){completeRequest(callback,status,callbacks[callbackId].data,"",text);callbacks[callbackId]=noop;});}else{var xhr=createXhr();xhr.open(method,url,true);forEach(headers,function(value,key){if(isDefined(value)){xhr.setRequestHeader(key,value);}});xhr.onload=function requestLoaded(){var statusText=xhr.statusText||'';var response=('response'in xhr)?xhr.response:xhr.responseText;var status=xhr.status===1223?204:xhr.status;if(status===0){status=response?200:urlResolve(url).protocol=='file'?404:0;}
completeRequest(callback,status,response,xhr.getAllResponseHeaders(),statusText);};var requestError=function(){completeRequest(callback,-1,null,null,'');};xhr.onerror=requestError;xhr.onabort=requestError;if(withCredentials){xhr.withCredentials=true;}
if(responseType){try{xhr.responseType=responseType;}catch(e){if(responseType!=='json'){throw e;}}}
xhr.send(post||null);}
if(timeout>0){var timeoutId=$browserDefer(timeoutRequest,timeout);}else if(isPromiseLike(timeout)){timeout.then(timeoutRequest);}
function timeoutRequest(){jsonpDone&&jsonpDone();xhr&&xhr.abort();}
function completeRequest(callback,status,response,headersString,statusText){if(timeoutId!==undefined){$browserDefer.cancel(timeoutId);}
jsonpDone=xhr=null;callback(status,response,headersString,statusText);$browser.$$completeOutstandingRequest(noop);}};function jsonpReq(url,callbackId,done){var script=rawDocument.createElement('script'),callback=null;script.type="text/javascript";script.src=url;script.async=true;callback=function(event){removeEventListenerFn(script,"load",callback);removeEventListenerFn(script,"error",callback);rawDocument.body.removeChild(script);script=null;var status=-1;var text="unknown";if(event){if(event.type==="load"&&!callbacks[callbackId].called){event={type:"error"};}
text=event.type;status=event.type==="error"?404:200;}
if(done){done(status,text);}};addEventListenerFn(script,"load",callback);addEventListenerFn(script,"error",callback);rawDocument.body.appendChild(script);return callback;}}
var $interpolateMinErr=minErr('$interpolate');function $InterpolateProvider(){var startSymbol='{{';var endSymbol='}}';this.startSymbol=function(value){if(value){startSymbol=value;return this;}else{return startSymbol;}};this.endSymbol=function(value){if(value){endSymbol=value;return this;}else{return endSymbol;}};this.$get=['$parse','$exceptionHandler','$sce',function($parse,$exceptionHandler,$sce){var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length,escapedStartRegexp=new RegExp(startSymbol.replace(/./g,escape),'g'),escapedEndRegexp=new RegExp(endSymbol.replace(/./g,escape),'g');function escape(ch){return'\\\\\\'+ch;}
function $interpolate(text,mustHaveExpression,trustedContext,allOrNothing){allOrNothing=!!allOrNothing;var startIndex,endIndex,index=0,expressions=[],parseFns=[],textLength=text.length,exp,concat=[],expressionPositions=[];while(index<textLength){if(((startIndex=text.indexOf(startSymbol,index))!=-1)&&((endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))!=-1)){if(index!==startIndex){concat.push(unescapeText(text.substring(index,startIndex)));}
exp=text.substring(startIndex+startSymbolLength,endIndex);expressions.push(exp);parseFns.push($parse(exp,parseStringifyInterceptor));index=endIndex+endSymbolLength;expressionPositions.push(concat.length);concat.push('');}else{if(index!==textLength){concat.push(unescapeText(text.substring(index)));}
break;}}
if(trustedContext&&concat.length>1){throw $interpolateMinErr('noconcat',"Error while interpolating: {0}\nStrict Contextual Escaping disallows "+"interpolations that concatenate multiple expressions when a trusted value is "+"required.  See http://docs.angularjs.org/api/ng.$sce",text);}
if(!mustHaveExpression||expressions.length){var compute=function(values){for(var i=0,ii=expressions.length;i<ii;i++){if(allOrNothing&&isUndefined(values[i]))return;concat[expressionPositions[i]]=values[i];}
return concat.join('');};var getValue=function(value){return trustedContext?$sce.getTrusted(trustedContext,value):$sce.valueOf(value);};var stringify=function(value){if(value==null){return'';}
switch(typeof value){case'string':break;case'number':value=''+value;break;default:value=toJson(value);}
return value;};return extend(function interpolationFn(context){var i=0;var ii=expressions.length;var values=new Array(ii);try{for(;i<ii;i++){values[i]=parseFns[i](context);}
return compute(values);}catch(err){var newErr=$interpolateMinErr('interr',"Can't interpolate: {0}\n{1}",text,err.toString());$exceptionHandler(newErr);}},{exp:text,expressions:expressions,$$watchDelegate:function(scope,listener,objectEquality){var lastValue;return scope.$watchGroup(parseFns,function interpolateFnWatcher(values,oldValues){var currValue=compute(values);if(isFunction(listener)){listener.call(this,currValue,values!==oldValues?lastValue:currValue,scope);}
lastValue=currValue;},objectEquality);}});}
function unescapeText(text){return text.replace(escapedStartRegexp,startSymbol).replace(escapedEndRegexp,endSymbol);}
function parseStringifyInterceptor(value){try{value=getValue(value);return allOrNothing&&!isDefined(value)?value:stringify(value);}catch(err){var newErr=$interpolateMinErr('interr',"Can't interpolate: {0}\n{1}",text,err.toString());$exceptionHandler(newErr);}}}
$interpolate.startSymbol=function(){return startSymbol;};$interpolate.endSymbol=function(){return endSymbol;};return $interpolate;}];}
function $IntervalProvider(){this.$get=['$rootScope','$window','$q','$$q',function($rootScope,$window,$q,$$q){var intervals={};function interval(fn,delay,count,invokeApply){var setInterval=$window.setInterval,clearInterval=$window.clearInterval,iteration=0,skipApply=(isDefined(invokeApply)&&!invokeApply),deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;count=isDefined(count)?count:0;promise.then(null,null,fn);promise.$$intervalId=setInterval(function tick(){deferred.notify(iteration++);if(count>0&&iteration>=count){deferred.resolve(iteration);clearInterval(promise.$$intervalId);delete intervals[promise.$$intervalId];}
if(!skipApply)$rootScope.$apply();},delay);intervals[promise.$$intervalId]=deferred;return promise;}
interval.cancel=function(promise){if(promise&&promise.$$intervalId in intervals){intervals[promise.$$intervalId].reject('canceled');$window.clearInterval(promise.$$intervalId);delete intervals[promise.$$intervalId];return true;}
return false;};return interval;}];}
function $LocaleProvider(){this.$get=function(){return{id:'en-us',NUMBER_FORMATS:{DECIMAL_SEP:'.',GROUP_SEP:',',PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:'',posSuf:'',negPre:'-',negSuf:'',gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:'\u00A4',posSuf:'',negPre:'(\u00A4',negSuf:')',gSize:3,lgSize:3}],CURRENCY_SYM:'$'},DATETIME_FORMATS:{MONTH:'January,February,March,April,May,June,July,August,September,October,November,December'.split(','),SHORTMONTH:'Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec'.split(','),DAY:'Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday'.split(','),SHORTDAY:'Sun,Mon,Tue,Wed,Thu,Fri,Sat'.split(','),AMPMS:['AM','PM'],medium:'MMM d, y h:mm:ss a','short':'M/d/yy h:mm a',fullDate:'EEEE, MMMM d, y',longDate:'MMMM d, y',mediumDate:'MMM d, y',shortDate:'M/d/yy',mediumTime:'h:mm:ss a',shortTime:'h:mm a',ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(num){if(num===1){return'one';}
return'other';}};};}
var PATH_MATCH=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={'http':80,'https':443,'ftp':21};var $locationMinErr=minErr('$location');function encodePath(path){var segments=path.split('/'),i=segments.length;while(i--){segments[i]=encodeUriSegment(segments[i]);}
return segments.join('/');}
function parseAbsoluteUrl(absoluteUrl,locationObj){var parsedUrl=urlResolve(absoluteUrl);locationObj.$$protocol=parsedUrl.protocol;locationObj.$$host=parsedUrl.hostname;locationObj.$$port=int(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null;}
function parseAppUrl(relativeUrl,locationObj){var prefixed=(relativeUrl.charAt(0)!=='/');if(prefixed){relativeUrl='/'+relativeUrl;}
var match=urlResolve(relativeUrl);locationObj.$$path=decodeURIComponent(prefixed&&match.pathname.charAt(0)==='/'?match.pathname.substring(1):match.pathname);locationObj.$$search=parseKeyValue(match.search);locationObj.$$hash=decodeURIComponent(match.hash);if(locationObj.$$path&&locationObj.$$path.charAt(0)!='/'){locationObj.$$path='/'+locationObj.$$path;}}
function beginsWith(begin,whole){if(whole.indexOf(begin)===0){return whole.substr(begin.length);}}
function stripHash(url){var index=url.indexOf('#');return index==-1?url:url.substr(0,index);}
function trimEmptyHash(url){return url.replace(/(#.+)|#$/,'$1');}
function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf('/')+1);}
function serverBase(url){return url.substring(0,url.indexOf('/',url.indexOf('//')+2));}
function LocationHtml5Url(appBase,basePrefix){this.$$html5=true;basePrefix=basePrefix||'';var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this);this.$$parse=function(url){var pathUrl=beginsWith(appBaseNoFile,url);if(!isString(pathUrl)){throw $locationMinErr('ipthprfx','Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile);}
parseAppUrl(pathUrl,this);if(!this.$$path){this.$$path='/';}
this.$$compose();};this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?'#'+encodeUriSegment(this.$$hash):'';this.$$url=encodePath(this.$$path)+(search?'?'+search:'')+hash;this.$$absUrl=appBaseNoFile+this.$$url.substr(1);};this.$$parseLinkUrl=function(url,relHref){if(relHref&&relHref[0]==='#'){this.hash(relHref.slice(1));return true;}
var appUrl,prevAppUrl;var rewrittenUrl;if((appUrl=beginsWith(appBase,url))!==undefined){prevAppUrl=appUrl;if((appUrl=beginsWith(basePrefix,appUrl))!==undefined){rewrittenUrl=appBaseNoFile+(beginsWith('/',appUrl)||appUrl);}else{rewrittenUrl=appBase+prevAppUrl;}}else if((appUrl=beginsWith(appBaseNoFile,url))!==undefined){rewrittenUrl=appBaseNoFile+appUrl;}else if(appBaseNoFile==url+'/'){rewrittenUrl=appBaseNoFile;}
if(rewrittenUrl){this.$$parse(rewrittenUrl);}
return!!rewrittenUrl;};}
function LocationHashbangUrl(appBase,hashPrefix){var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this);this.$$parse=function(url){var withoutBaseUrl=beginsWith(appBase,url)||beginsWith(appBaseNoFile,url);var withoutHashUrl;if(withoutBaseUrl.charAt(0)==='#'){withoutHashUrl=beginsWith(hashPrefix,withoutBaseUrl);if(isUndefined(withoutHashUrl)){withoutHashUrl=withoutBaseUrl;}}else{withoutHashUrl=this.$$html5?withoutBaseUrl:'';}
parseAppUrl(withoutHashUrl,this);this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase);this.$$compose();function removeWindowsDriveName(path,url,base){var windowsFilePathExp=/^\/[A-Z]:(\/.*)/;var firstPathSegmentMatch;if(url.indexOf(base)===0){url=url.replace(base,'');}
if(windowsFilePathExp.exec(url)){return path;}
firstPathSegmentMatch=windowsFilePathExp.exec(path);return firstPathSegmentMatch?firstPathSegmentMatch[1]:path;}};this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?'#'+encodeUriSegment(this.$$hash):'';this.$$url=encodePath(this.$$path)+(search?'?'+search:'')+hash;this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:'');};this.$$parseLinkUrl=function(url,relHref){if(stripHash(appBase)==stripHash(url)){this.$$parse(url);return true;}
return false;};}
function LocationHashbangInHtml5Url(appBase,hashPrefix){this.$$html5=true;LocationHashbangUrl.apply(this,arguments);var appBaseNoFile=stripFile(appBase);this.$$parseLinkUrl=function(url,relHref){if(relHref&&relHref[0]==='#'){this.hash(relHref.slice(1));return true;}
var rewrittenUrl;var appUrl;if(appBase==stripHash(url)){rewrittenUrl=url;}else if((appUrl=beginsWith(appBaseNoFile,url))){rewrittenUrl=appBase+hashPrefix+appUrl;}else if(appBaseNoFile===url+'/'){rewrittenUrl=appBaseNoFile;}
if(rewrittenUrl){this.$$parse(rewrittenUrl);}
return!!rewrittenUrl;};this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?'#'+encodeUriSegment(this.$$hash):'';this.$$url=encodePath(this.$$path)+(search?'?'+search:'')+hash;this.$$absUrl=appBase+hashPrefix+this.$$url;};}
var locationPrototype={$$html5:false,$$replace:false,absUrl:locationGetter('$$absUrl'),url:function(url){if(isUndefined(url))
return this.$$url;var match=PATH_MATCH.exec(url);if(match[1]||url==='')this.path(decodeURIComponent(match[1]));if(match[2]||match[1]||url==='')this.search(match[3]||'');this.hash(match[5]||'');return this;},protocol:locationGetter('$$protocol'),host:locationGetter('$$host'),port:locationGetter('$$port'),path:locationGetterSetter('$$path',function(path){path=path!==null?path.toString():'';return path.charAt(0)=='/'?path:'/'+path;}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search)||isNumber(search)){search=search.toString();this.$$search=parseKeyValue(search);}else if(isObject(search)){search=copy(search,{});forEach(search,function(value,key){if(value==null)delete search[key];});this.$$search=search;}else{throw $locationMinErr('isrcharg','The first argument of the `$location#search()` call must be a string or an object.');}
break;default:if(isUndefined(paramValue)||paramValue===null){delete this.$$search[search];}else{this.$$search[search]=paramValue;}}
this.$$compose();return this;},hash:locationGetterSetter('$$hash',function(hash){return hash!==null?hash.toString():'';}),replace:function(){this.$$replace=true;return this;}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(Location){Location.prototype=Object.create(locationPrototype);Location.prototype.state=function(state){if(!arguments.length)
return this.$$state;if(Location!==LocationHtml5Url||!this.$$html5){throw $locationMinErr('nostate','History API state support is available only '+'in HTML5 mode and only in browsers supporting HTML5 History API');}
this.$$state=isUndefined(state)?null:state;return this;};});function locationGetter(property){return function(){return this[property];};}
function locationGetterSetter(property,preprocess){return function(value){if(isUndefined(value))
return this[property];this[property]=preprocess(value);this.$$compose();return this;};}
function $LocationProvider(){var hashPrefix='',html5Mode={enabled:false,requireBase:true,rewriteLinks:true};this.hashPrefix=function(prefix){if(isDefined(prefix)){hashPrefix=prefix;return this;}else{return hashPrefix;}};this.html5Mode=function(mode){if(isBoolean(mode)){html5Mode.enabled=mode;return this;}else if(isObject(mode)){if(isBoolean(mode.enabled)){html5Mode.enabled=mode.enabled;}
if(isBoolean(mode.requireBase)){html5Mode.requireBase=mode.requireBase;}
if(isBoolean(mode.rewriteLinks)){html5Mode.rewriteLinks=mode.rewriteLinks;}
return this;}else{return html5Mode;}};this.$get=['$rootScope','$browser','$sniffer','$rootElement','$window',function($rootScope,$browser,$sniffer,$rootElement,$window){var $location,LocationMode,baseHref=$browser.baseHref(),initialUrl=$browser.url(),appBase;if(html5Mode.enabled){if(!baseHref&&html5Mode.requireBase){throw $locationMinErr('nobase',"$location in HTML5 mode requires a <base> tag to be present!");}
appBase=serverBase(initialUrl)+(baseHref||'/');LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url;}else{appBase=stripHash(initialUrl);LocationMode=LocationHashbangUrl;}
$location=new LocationMode(appBase,'#'+hashPrefix);$location.$$parseLinkUrl(initialUrl,initialUrl);$location.$$state=$browser.state();var IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;function setBrowserUrlWithFallback(url,replace,state){var oldUrl=$location.url();var oldState=$location.$$state;try{$browser.url(url,replace,state);$location.$$state=$browser.state();}catch(e){$location.url(oldUrl);$location.$$state=oldState;throw e;}}
$rootElement.on('click',function(event){if(!html5Mode.rewriteLinks||event.ctrlKey||event.metaKey||event.shiftKey||event.which==2||event.button==2)return;var elm=jqLite(event.target);while(nodeName_(elm[0])!=='a'){if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;}
var absHref=elm.prop('href');var relHref=elm.attr('href')||elm.attr('xlink:href');if(isObject(absHref)&&absHref.toString()==='[object SVGAnimatedString]'){absHref=urlResolve(absHref.animVal).href;}
if(IGNORE_URI_REGEXP.test(absHref))return;if(absHref&&!elm.attr('target')&&!event.isDefaultPrevented()){if($location.$$parseLinkUrl(absHref,relHref)){event.preventDefault();if($location.absUrl()!=$browser.url()){$rootScope.$apply();$window.angular['ff-684208-preventDefault']=true;}}}});if(trimEmptyHash($location.absUrl())!=trimEmptyHash(initialUrl)){$browser.url($location.absUrl(),true);}
var initializing=true;$browser.onUrlChange(function(newUrl,newState){$rootScope.$evalAsync(function(){var oldUrl=$location.absUrl();var oldState=$location.$$state;var defaultPrevented;$location.$$parse(newUrl);$location.$$state=newState;defaultPrevented=$rootScope.$broadcast('$locationChangeStart',newUrl,oldUrl,newState,oldState).defaultPrevented;if($location.absUrl()!==newUrl)return;if(defaultPrevented){$location.$$parse(oldUrl);$location.$$state=oldState;setBrowserUrlWithFallback(oldUrl,false,oldState);}else{initializing=false;afterLocationChange(oldUrl,oldState);}});if(!$rootScope.$$phase)$rootScope.$digest();});$rootScope.$watch(function $locationWatch(){var oldUrl=trimEmptyHash($browser.url());var newUrl=trimEmptyHash($location.absUrl());var oldState=$browser.state();var currentReplace=$location.$$replace;var urlOrStateChanged=oldUrl!==newUrl||($location.$$html5&&$sniffer.history&&oldState!==$location.$$state);if(initializing||urlOrStateChanged){initializing=false;$rootScope.$evalAsync(function(){var newUrl=$location.absUrl();var defaultPrevented=$rootScope.$broadcast('$locationChangeStart',newUrl,oldUrl,$location.$$state,oldState).defaultPrevented;if($location.absUrl()!==newUrl)return;if(defaultPrevented){$location.$$parse(oldUrl);$location.$$state=oldState;}else{if(urlOrStateChanged){setBrowserUrlWithFallback(newUrl,currentReplace,oldState===$location.$$state?null:$location.$$state);}
afterLocationChange(oldUrl,oldState);}});}
$location.$$replace=false;});return $location;function afterLocationChange(oldUrl,oldState){$rootScope.$broadcast('$locationChangeSuccess',$location.absUrl(),oldUrl,$location.$$state,oldState);}}];}
function $LogProvider(){var debug=true,self=this;this.debugEnabled=function(flag){if(isDefined(flag)){debug=flag;return this;}else{return debug;}};this.$get=['$window',function($window){return{log:consoleLog('log'),info:consoleLog('info'),warn:consoleLog('warn'),error:consoleLog('error'),debug:(function(){var fn=consoleLog('debug');return function(){if(debug){fn.apply(self,arguments);}};}())};function formatError(arg){if(arg instanceof Error){if(arg.stack){arg=(arg.message&&arg.stack.indexOf(arg.message)===-1)?'Error: '+arg.message+'\n'+arg.stack:arg.stack;}else if(arg.sourceURL){arg=arg.message+'\n'+arg.sourceURL+':'+arg.line;}}
return arg;}
function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop,hasApply=false;try{hasApply=!!logFn.apply;}catch(e){}
if(hasApply){return function(){var args=[];forEach(arguments,function(arg){args.push(formatError(arg));});return logFn.apply(console,args);};}
return function(arg1,arg2){logFn(arg1,arg2==null?'':arg2);};}}];}
var $parseMinErr=minErr('$parse');function ensureSafeMemberName(name,fullExpression){if(name==="__defineGetter__"||name==="__defineSetter__"||name==="__lookupGetter__"||name==="__lookupSetter__"||name==="__proto__"){throw $parseMinErr('isecfld','Attempting to access a disallowed field in Angular expressions! '
+'Expression: {0}',fullExpression);}
return name;}
function ensureSafeObject(obj,fullExpression){if(obj){if(obj.constructor===obj){throw $parseMinErr('isecfn','Referencing Function in Angular expressions is disallowed! Expression: {0}',fullExpression);}else if(obj.window===obj){throw $parseMinErr('isecwindow','Referencing the Window in Angular expressions is disallowed! Expression: {0}',fullExpression);}else if(obj.children&&(obj.nodeName||(obj.prop&&obj.attr&&obj.find))){throw $parseMinErr('isecdom','Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}',fullExpression);}else if(obj===Object){throw $parseMinErr('isecobj','Referencing Object in Angular expressions is disallowed! Expression: {0}',fullExpression);}}
return obj;}
var CALL=Function.prototype.call;var APPLY=Function.prototype.apply;var BIND=Function.prototype.bind;function ensureSafeFunction(obj,fullExpression){if(obj){if(obj.constructor===obj){throw $parseMinErr('isecfn','Referencing Function in Angular expressions is disallowed! Expression: {0}',fullExpression);}else if(obj===CALL||obj===APPLY||obj===BIND){throw $parseMinErr('isecff','Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}',fullExpression);}}}
var CONSTANTS=createMap();forEach({'null':function(){return null;},'true':function(){return true;},'false':function(){return false;},'undefined':function(){}},function(constantGetter,name){constantGetter.constant=constantGetter.literal=constantGetter.sharedGetter=true;CONSTANTS[name]=constantGetter;});CONSTANTS['this']=function(self){return self;};CONSTANTS['this'].sharedGetter=true;var OPERATORS=extend(createMap(),{'+':function(self,locals,a,b){a=a(self,locals);b=b(self,locals);if(isDefined(a)){if(isDefined(b)){return a+b;}
return a;}
return isDefined(b)?b:undefined;},'-':function(self,locals,a,b){a=a(self,locals);b=b(self,locals);return(isDefined(a)?a:0)-(isDefined(b)?b:0);},'*':function(self,locals,a,b){return a(self,locals)*b(self,locals);},'/':function(self,locals,a,b){return a(self,locals)/b(self,locals);},'%':function(self,locals,a,b){return a(self,locals)%b(self,locals);},'===':function(self,locals,a,b){return a(self,locals)===b(self,locals);},'!==':function(self,locals,a,b){return a(self,locals)!==b(self,locals);},'==':function(self,locals,a,b){return a(self,locals)==b(self,locals);},'!=':function(self,locals,a,b){return a(self,locals)!=b(self,locals);},'<':function(self,locals,a,b){return a(self,locals)<b(self,locals);},'>':function(self,locals,a,b){return a(self,locals)>b(self,locals);},'<=':function(self,locals,a,b){return a(self,locals)<=b(self,locals);},'>=':function(self,locals,a,b){return a(self,locals)>=b(self,locals);},'&&':function(self,locals,a,b){return a(self,locals)&&b(self,locals);},'||':function(self,locals,a,b){return a(self,locals)||b(self,locals);},'!':function(self,locals,a){return!a(self,locals);},'=':true,'|':true});var ESCAPE={"n":"\n","f":"\f","r":"\r","t":"\t","v":"\v","'":"'",'"':'"'};var Lexer=function(options){this.options=options;};Lexer.prototype={constructor:Lexer,lex:function(text){this.text=text;this.index=0;this.tokens=[];while(this.index<this.text.length){var ch=this.text.charAt(this.index);if(ch==='"'||ch==="'"){this.readString(ch);}else if(this.isNumber(ch)||ch==='.'&&this.isNumber(this.peek())){this.readNumber();}else if(this.isIdent(ch)){this.readIdent();}else if(this.is(ch,'(){}[].,;:?')){this.tokens.push({index:this.index,text:ch});this.index++;}else if(this.isWhitespace(ch)){this.index++;}else{var ch2=ch+this.peek();var ch3=ch2+this.peek(2);var op1=OPERATORS[ch];var op2=OPERATORS[ch2];var op3=OPERATORS[ch3];if(op1||op2||op3){var token=op3?ch3:(op2?ch2:ch);this.tokens.push({index:this.index,text:token,operator:true});this.index+=token.length;}else{this.throwError('Unexpected next character ',this.index,this.index+1);}}}
return this.tokens;},is:function(ch,chars){return chars.indexOf(ch)!==-1;},peek:function(i){var num=i||1;return(this.index+num<this.text.length)?this.text.charAt(this.index+num):false;},isNumber:function(ch){return('0'<=ch&&ch<='9')&&typeof ch==="string";},isWhitespace:function(ch){return(ch===' '||ch==='\r'||ch==='\t'||ch==='\n'||ch==='\v'||ch==='\u00A0');},isIdent:function(ch){return('a'<=ch&&ch<='z'||'A'<=ch&&ch<='Z'||'_'===ch||ch==='$');},isExpOperator:function(ch){return(ch==='-'||ch==='+'||this.isNumber(ch));},throwError:function(error,start,end){end=end||this.index;var colStr=(isDefined(start)?'s '+start+'-'+this.index+' ['+this.text.substring(start,end)+']':' '+end);throw $parseMinErr('lexerr','Lexer Error: {0} at column{1} in expression [{2}].',error,colStr,this.text);},readNumber:function(){var number='';var start=this.index;while(this.index<this.text.length){var ch=lowercase(this.text.charAt(this.index));if(ch=='.'||this.isNumber(ch)){number+=ch;}else{var peekCh=this.peek();if(ch=='e'&&this.isExpOperator(peekCh)){number+=ch;}else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&number.charAt(number.length-1)=='e'){number+=ch;}else if(this.isExpOperator(ch)&&(!peekCh||!this.isNumber(peekCh))&&number.charAt(number.length-1)=='e'){this.throwError('Invalid exponent');}else{break;}}
this.index++;}
this.tokens.push({index:start,text:number,constant:true,value:Number(number)});},readIdent:function(){var start=this.index;while(this.index<this.text.length){var ch=this.text.charAt(this.index);if(!(this.isIdent(ch)||this.isNumber(ch))){break;}
this.index++;}
this.tokens.push({index:start,text:this.text.slice(start,this.index),identifier:true});},readString:function(quote){var start=this.index;this.index++;var string='';var rawString=quote;var escape=false;while(this.index<this.text.length){var ch=this.text.charAt(this.index);rawString+=ch;if(escape){if(ch==='u'){var hex=this.text.substring(this.index+1,this.index+5);if(!hex.match(/[\da-f]{4}/i))
this.throwError('Invalid unicode escape [\\u'+hex+']');this.index+=4;string+=String.fromCharCode(parseInt(hex,16));}else{var rep=ESCAPE[ch];string=string+(rep||ch);}
escape=false;}else if(ch==='\\'){escape=true;}else if(ch===quote){this.index++;this.tokens.push({index:start,text:rawString,constant:true,value:string});return;}else{string+=ch;}
this.index++;}
this.throwError('Unterminated quote',start);}};function isConstant(exp){return exp.constant;}
var Parser=function(lexer,$filter,options){this.lexer=lexer;this.$filter=$filter;this.options=options;};Parser.ZERO=extend(function(){return 0;},{sharedGetter:true,constant:true});Parser.prototype={constructor:Parser,parse:function(text){this.text=text;this.tokens=this.lexer.lex(text);var value=this.statements();if(this.tokens.length!==0){this.throwError('is an unexpected token',this.tokens[0]);}
value.literal=!!value.literal;value.constant=!!value.constant;return value;},primary:function(){var primary;if(this.expect('(')){primary=this.filterChain();this.consume(')');}else if(this.expect('[')){primary=this.arrayDeclaration();}else if(this.expect('{')){primary=this.object();}else if(this.peek().identifier&&this.peek().text in CONSTANTS){primary=CONSTANTS[this.consume().text];}else if(this.peek().identifier){primary=this.identifier();}else if(this.peek().constant){primary=this.constant();}else{this.throwError('not a primary expression',this.peek());}
var next,context;while((next=this.expect('(','[','.'))){if(next.text==='('){primary=this.functionCall(primary,context);context=null;}else if(next.text==='['){context=primary;primary=this.objectIndex(primary);}else if(next.text==='.'){context=primary;primary=this.fieldAccess(primary);}else{this.throwError('IMPOSSIBLE');}}
return primary;},throwError:function(msg,token){throw $parseMinErr('syntax','Syntax Error: Token \'{0}\' {1} at column {2} of the expression [{3}] starting at [{4}].',token.text,msg,(token.index+1),this.text,this.text.substring(token.index));},peekToken:function(){if(this.tokens.length===0)
throw $parseMinErr('ueoe','Unexpected end of expression: {0}',this.text);return this.tokens[0];},peek:function(e1,e2,e3,e4){return this.peekAhead(0,e1,e2,e3,e4);},peekAhead:function(i,e1,e2,e3,e4){if(this.tokens.length>i){var token=this.tokens[i];var t=token.text;if(t===e1||t===e2||t===e3||t===e4||(!e1&&!e2&&!e3&&!e4)){return token;}}
return false;},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);if(token){this.tokens.shift();return token;}
return false;},consume:function(e1){if(this.tokens.length===0){throw $parseMinErr('ueoe','Unexpected end of expression: {0}',this.text);}
var token=this.expect(e1);if(!token){this.throwError('is unexpected, expecting ['+e1+']',this.peek());}
return token;},unaryFn:function(op,right){var fn=OPERATORS[op];return extend(function $parseUnaryFn(self,locals){return fn(self,locals,right);},{constant:right.constant,inputs:[right]});},binaryFn:function(left,op,right,isBranching){var fn=OPERATORS[op];return extend(function $parseBinaryFn(self,locals){return fn(self,locals,left,right);},{constant:left.constant&&right.constant,inputs:!isBranching&&[left,right]});},identifier:function(){var id=this.consume().text;while(this.peek('.')&&this.peekAhead(1).identifier&&!this.peekAhead(2,'(')){id+=this.consume().text+this.consume().text;}
return getterFn(id,this.options,this.text);},constant:function(){var value=this.consume().value;return extend(function $parseConstant(){return value;},{constant:true,literal:true});},statements:function(){var statements=[];while(true){if(this.tokens.length>0&&!this.peek('}',')',';',']'))
statements.push(this.filterChain());if(!this.expect(';')){return(statements.length===1)?statements[0]:function $parseStatements(self,locals){var value;for(var i=0,ii=statements.length;i<ii;i++){value=statements[i](self,locals);}
return value;};}}},filterChain:function(){var left=this.expression();var token;while((token=this.expect('|'))){left=this.filter(left);}
return left;},filter:function(inputFn){var fn=this.$filter(this.consume().text);var argsFn;var args;if(this.peek(':')){argsFn=[];args=[];while(this.expect(':')){argsFn.push(this.expression());}}
var inputs=[inputFn].concat(argsFn||[]);return extend(function $parseFilter(self,locals){var input=inputFn(self,locals);if(args){args[0]=input;var i=argsFn.length;while(i--){args[i+1]=argsFn[i](self,locals);}
return fn.apply(undefined,args);}
return fn(input);},{constant:!fn.$stateful&&inputs.every(isConstant),inputs:!fn.$stateful&&inputs});},expression:function(){return this.assignment();},assignment:function(){var left=this.ternary();var right;var token;if((token=this.expect('='))){if(!left.assign){this.throwError('implies assignment but ['+
this.text.substring(0,token.index)+'] can not be assigned to',token);}
right=this.ternary();return extend(function $parseAssignment(scope,locals){return left.assign(scope,right(scope,locals),locals);},{inputs:[left,right]});}
return left;},ternary:function(){var left=this.logicalOR();var middle;var token;if((token=this.expect('?'))){middle=this.assignment();if(this.consume(':')){var right=this.assignment();return extend(function $parseTernary(self,locals){return left(self,locals)?middle(self,locals):right(self,locals);},{constant:left.constant&&middle.constant&&right.constant});}}
return left;},logicalOR:function(){var left=this.logicalAND();var token;while((token=this.expect('||'))){left=this.binaryFn(left,token.text,this.logicalAND(),true);}
return left;},logicalAND:function(){var left=this.equality();var token;while((token=this.expect('&&'))){left=this.binaryFn(left,token.text,this.equality(),true);}
return left;},equality:function(){var left=this.relational();var token;while((token=this.expect('==','!=','===','!=='))){left=this.binaryFn(left,token.text,this.relational());}
return left;},relational:function(){var left=this.additive();var token;while((token=this.expect('<','>','<=','>='))){left=this.binaryFn(left,token.text,this.additive());}
return left;},additive:function(){var left=this.multiplicative();var token;while((token=this.expect('+','-'))){left=this.binaryFn(left,token.text,this.multiplicative());}
return left;},multiplicative:function(){var left=this.unary();var token;while((token=this.expect('*','/','%'))){left=this.binaryFn(left,token.text,this.unary());}
return left;},unary:function(){var token;if(this.expect('+')){return this.primary();}else if((token=this.expect('-'))){return this.binaryFn(Parser.ZERO,token.text,this.unary());}else if((token=this.expect('!'))){return this.unaryFn(token.text,this.unary());}else{return this.primary();}},fieldAccess:function(object){var getter=this.identifier();return extend(function $parseFieldAccess(scope,locals,self){var o=self||object(scope,locals);return(o==null)?undefined:getter(o);},{assign:function(scope,value,locals){var o=object(scope,locals);if(!o)object.assign(scope,o={},locals);return getter.assign(o,value);}});},objectIndex:function(obj){var expression=this.text;var indexFn=this.expression();this.consume(']');return extend(function $parseObjectIndex(self,locals){var o=obj(self,locals),i=indexFn(self,locals),v;ensureSafeMemberName(i,expression);if(!o)return undefined;v=ensureSafeObject(o[i],expression);return v;},{assign:function(self,value,locals){var key=ensureSafeMemberName(indexFn(self,locals),expression);var o=ensureSafeObject(obj(self,locals),expression);if(!o)obj.assign(self,o={},locals);return o[key]=value;}});},functionCall:function(fnGetter,contextGetter){var argsFn=[];if(this.peekToken().text!==')'){do{argsFn.push(this.expression());}while(this.expect(','));}
this.consume(')');var expressionText=this.text;var args=argsFn.length?[]:null;return function $parseFunctionCall(scope,locals){var context=contextGetter?contextGetter(scope,locals):isDefined(contextGetter)?undefined:scope;var fn=fnGetter(scope,locals,context)||noop;if(args){var i=argsFn.length;while(i--){args[i]=ensureSafeObject(argsFn[i](scope,locals),expressionText);}}
ensureSafeObject(context,expressionText);ensureSafeFunction(fn,expressionText);var v=fn.apply?fn.apply(context,args):fn(args[0],args[1],args[2],args[3],args[4]);if(args){args.length=0;}
return ensureSafeObject(v,expressionText);};},arrayDeclaration:function(){var elementFns=[];if(this.peekToken().text!==']'){do{if(this.peek(']')){break;}
elementFns.push(this.expression());}while(this.expect(','));}
this.consume(']');return extend(function $parseArrayLiteral(self,locals){var array=[];for(var i=0,ii=elementFns.length;i<ii;i++){array.push(elementFns[i](self,locals));}
return array;},{literal:true,constant:elementFns.every(isConstant),inputs:elementFns});},object:function(){var keys=[],valueFns=[];if(this.peekToken().text!=='}'){do{if(this.peek('}')){break;}
var token=this.consume();if(token.constant){keys.push(token.value);}else if(token.identifier){keys.push(token.text);}else{this.throwError("invalid key",token);}
this.consume(':');valueFns.push(this.expression());}while(this.expect(','));}
this.consume('}');return extend(function $parseObjectLiteral(self,locals){var object={};for(var i=0,ii=valueFns.length;i<ii;i++){object[keys[i]]=valueFns[i](self,locals);}
return object;},{literal:true,constant:valueFns.every(isConstant),inputs:valueFns});}};function setter(obj,locals,path,setValue,fullExp){ensureSafeObject(obj,fullExp);ensureSafeObject(locals,fullExp);var element=path.split('.'),key;for(var i=0;element.length>1;i++){key=ensureSafeMemberName(element.shift(),fullExp);var propertyObj=(i===0&&locals&&locals[key])||obj[key];if(!propertyObj){propertyObj={};obj[key]=propertyObj;}
obj=ensureSafeObject(propertyObj,fullExp);}
key=ensureSafeMemberName(element.shift(),fullExp);ensureSafeObject(obj[key],fullExp);obj[key]=setValue;return setValue;}
var getterFnCacheDefault=createMap();var getterFnCacheExpensive=createMap();function isPossiblyDangerousMemberName(name){return name=='constructor';}
function cspSafeGetterFn(key0,key1,key2,key3,key4,fullExp,expensiveChecks){ensureSafeMemberName(key0,fullExp);ensureSafeMemberName(key1,fullExp);ensureSafeMemberName(key2,fullExp);ensureSafeMemberName(key3,fullExp);ensureSafeMemberName(key4,fullExp);var eso=function(o){return ensureSafeObject(o,fullExp);};var eso0=(expensiveChecks||isPossiblyDangerousMemberName(key0))?eso:identity;var eso1=(expensiveChecks||isPossiblyDangerousMemberName(key1))?eso:identity;var eso2=(expensiveChecks||isPossiblyDangerousMemberName(key2))?eso:identity;var eso3=(expensiveChecks||isPossiblyDangerousMemberName(key3))?eso:identity;var eso4=(expensiveChecks||isPossiblyDangerousMemberName(key4))?eso:identity;return function cspSafeGetter(scope,locals){var pathVal=(locals&&locals.hasOwnProperty(key0))?locals:scope;if(pathVal==null)return pathVal;pathVal=eso0(pathVal[key0]);if(!key1)return pathVal;if(pathVal==null)return undefined;pathVal=eso1(pathVal[key1]);if(!key2)return pathVal;if(pathVal==null)return undefined;pathVal=eso2(pathVal[key2]);if(!key3)return pathVal;if(pathVal==null)return undefined;pathVal=eso3(pathVal[key3]);if(!key4)return pathVal;if(pathVal==null)return undefined;pathVal=eso4(pathVal[key4]);return pathVal;};}
function getterFnWithEnsureSafeObject(fn,fullExpression){return function(s,l){return fn(s,l,ensureSafeObject,fullExpression);};}
function getterFn(path,options,fullExp){var expensiveChecks=options.expensiveChecks;var getterFnCache=(expensiveChecks?getterFnCacheExpensive:getterFnCacheDefault);var fn=getterFnCache[path];if(fn)return fn;var pathKeys=path.split('.'),pathKeysLength=pathKeys.length;if(options.csp){if(pathKeysLength<6){fn=cspSafeGetterFn(pathKeys[0],pathKeys[1],pathKeys[2],pathKeys[3],pathKeys[4],fullExp,expensiveChecks);}else{fn=function cspSafeGetter(scope,locals){var i=0,val;do{val=cspSafeGetterFn(pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++],fullExp,expensiveChecks)(scope,locals);locals=undefined;scope=val;}while(i<pathKeysLength);return val;};}}else{var code='';if(expensiveChecks){code+='s = eso(s, fe);\nl = eso(l, fe);\n';}
var needsEnsureSafeObject=expensiveChecks;forEach(pathKeys,function(key,index){ensureSafeMemberName(key,fullExp);var lookupJs=(index?'s':'((l&&l.hasOwnProperty("'+key+'"))?l:s)')+'.'+key;if(expensiveChecks||isPossiblyDangerousMemberName(key)){lookupJs='eso('+lookupJs+', fe)';needsEnsureSafeObject=true;}
code+='if(s == null) return undefined;\n'+'s='+lookupJs+';\n';});code+='return s;';var evaledFnGetter=new Function('s','l','eso','fe',code);evaledFnGetter.toString=valueFn(code);if(needsEnsureSafeObject){evaledFnGetter=getterFnWithEnsureSafeObject(evaledFnGetter,fullExp);}
fn=evaledFnGetter;}
fn.sharedGetter=true;fn.assign=function(self,value,locals){return setter(self,locals,path,value,path);};getterFnCache[path]=fn;return fn;}
var objectValueOf=Object.prototype.valueOf;function getValueOf(value){return isFunction(value.valueOf)?value.valueOf():objectValueOf.call(value);}
function $ParseProvider(){var cacheDefault=createMap();var cacheExpensive=createMap();this.$get=['$filter','$sniffer',function($filter,$sniffer){var $parseOptions={csp:$sniffer.csp,expensiveChecks:false},$parseOptionsExpensive={csp:$sniffer.csp,expensiveChecks:true};function wrapSharedExpression(exp){var wrapped=exp;if(exp.sharedGetter){wrapped=function $parseWrapper(self,locals){return exp(self,locals);};wrapped.literal=exp.literal;wrapped.constant=exp.constant;wrapped.assign=exp.assign;}
return wrapped;}
return function $parse(exp,interceptorFn,expensiveChecks){var parsedExpression,oneTime,cacheKey;switch(typeof exp){case'string':cacheKey=exp=exp.trim();var cache=(expensiveChecks?cacheExpensive:cacheDefault);parsedExpression=cache[cacheKey];if(!parsedExpression){if(exp.charAt(0)===':'&&exp.charAt(1)===':'){oneTime=true;exp=exp.substring(2);}
var parseOptions=expensiveChecks?$parseOptionsExpensive:$parseOptions;var lexer=new Lexer(parseOptions);var parser=new Parser(lexer,$filter,parseOptions);parsedExpression=parser.parse(exp);if(parsedExpression.constant){parsedExpression.$$watchDelegate=constantWatchDelegate;}else if(oneTime){parsedExpression=wrapSharedExpression(parsedExpression);parsedExpression.$$watchDelegate=parsedExpression.literal?oneTimeLiteralWatchDelegate:oneTimeWatchDelegate;}else if(parsedExpression.inputs){parsedExpression.$$watchDelegate=inputsWatchDelegate;}
cache[cacheKey]=parsedExpression;}
return addInterceptor(parsedExpression,interceptorFn);case'function':return addInterceptor(exp,interceptorFn);default:return addInterceptor(noop,interceptorFn);}};function collectExpressionInputs(inputs,list){for(var i=0,ii=inputs.length;i<ii;i++){var input=inputs[i];if(!input.constant){if(input.inputs){collectExpressionInputs(input.inputs,list);}else if(list.indexOf(input)===-1){list.push(input);}}}
return list;}
function expressionInputDirtyCheck(newValue,oldValueOfValue){if(newValue==null||oldValueOfValue==null){return newValue===oldValueOfValue;}
if(typeof newValue==='object'){newValue=getValueOf(newValue);if(typeof newValue==='object'){return false;}}
return newValue===oldValueOfValue||(newValue!==newValue&&oldValueOfValue!==oldValueOfValue);}
function inputsWatchDelegate(scope,listener,objectEquality,parsedExpression){var inputExpressions=parsedExpression.$$inputs||(parsedExpression.$$inputs=collectExpressionInputs(parsedExpression.inputs,[]));var lastResult;if(inputExpressions.length===1){var oldInputValue=expressionInputDirtyCheck;inputExpressions=inputExpressions[0];return scope.$watch(function expressionInputWatch(scope){var newInputValue=inputExpressions(scope);if(!expressionInputDirtyCheck(newInputValue,oldInputValue)){lastResult=parsedExpression(scope);oldInputValue=newInputValue&&getValueOf(newInputValue);}
return lastResult;},listener,objectEquality);}
var oldInputValueOfValues=[];for(var i=0,ii=inputExpressions.length;i<ii;i++){oldInputValueOfValues[i]=expressionInputDirtyCheck;}
return scope.$watch(function expressionInputsWatch(scope){var changed=false;for(var i=0,ii=inputExpressions.length;i<ii;i++){var newInputValue=inputExpressions[i](scope);if(changed||(changed=!expressionInputDirtyCheck(newInputValue,oldInputValueOfValues[i]))){oldInputValueOfValues[i]=newInputValue&&getValueOf(newInputValue);}}
if(changed){lastResult=parsedExpression(scope);}
return lastResult;},listener,objectEquality);}
function oneTimeWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch,lastValue;return unwatch=scope.$watch(function oneTimeWatch(scope){return parsedExpression(scope);},function oneTimeListener(value,old,scope){lastValue=value;if(isFunction(listener)){listener.apply(this,arguments);}
if(isDefined(value)){scope.$$postDigest(function(){if(isDefined(lastValue)){unwatch();}});}},objectEquality);}
function oneTimeLiteralWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch,lastValue;return unwatch=scope.$watch(function oneTimeWatch(scope){return parsedExpression(scope);},function oneTimeListener(value,old,scope){lastValue=value;if(isFunction(listener)){listener.call(this,value,old,scope);}
if(isAllDefined(value)){scope.$$postDigest(function(){if(isAllDefined(lastValue))unwatch();});}},objectEquality);function isAllDefined(value){var allDefined=true;forEach(value,function(val){if(!isDefined(val))allDefined=false;});return allDefined;}}
function constantWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch;return unwatch=scope.$watch(function constantWatch(scope){return parsedExpression(scope);},function constantListener(value,old,scope){if(isFunction(listener)){listener.apply(this,arguments);}
unwatch();},objectEquality);}
function addInterceptor(parsedExpression,interceptorFn){if(!interceptorFn)return parsedExpression;var watchDelegate=parsedExpression.$$watchDelegate;var regularWatch=watchDelegate!==oneTimeLiteralWatchDelegate&&watchDelegate!==oneTimeWatchDelegate;var fn=regularWatch?function regularInterceptedExpression(scope,locals){var value=parsedExpression(scope,locals);return interceptorFn(value,scope,locals);}:function oneTimeInterceptedExpression(scope,locals){var value=parsedExpression(scope,locals);var result=interceptorFn(value,scope,locals);return isDefined(value)?result:value;};if(parsedExpression.$$watchDelegate&&parsedExpression.$$watchDelegate!==inputsWatchDelegate){fn.$$watchDelegate=parsedExpression.$$watchDelegate;}else if(!interceptorFn.$stateful){fn.$$watchDelegate=inputsWatchDelegate;fn.inputs=[parsedExpression];}
return fn;}}];}
function $QProvider(){this.$get=['$rootScope','$exceptionHandler',function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback);},$exceptionHandler);}];}
function $$QProvider(){this.$get=['$browser','$exceptionHandler',function($browser,$exceptionHandler){return qFactory(function(callback){$browser.defer(callback);},$exceptionHandler);}];}
function qFactory(nextTick,exceptionHandler){var $qMinErr=minErr('$q',TypeError);function callOnce(self,resolveFn,rejectFn){var called=false;function wrap(fn){return function(value){if(called)return;called=true;fn.call(self,value);};}
return[wrap(resolveFn),wrap(rejectFn)];}
var defer=function(){return new Deferred();};function Promise(){this.$$state={status:0};}
Promise.prototype={then:function(onFulfilled,onRejected,progressBack){var result=new Deferred();this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([result,onFulfilled,onRejected,progressBack]);if(this.$$state.status>0)scheduleProcessQueue(this.$$state);return result.promise;},"catch":function(callback){return this.then(null,callback);},"finally":function(callback,progressBack){return this.then(function(value){return handleCallback(value,true,callback);},function(error){return handleCallback(error,false,callback);},progressBack);}};function simpleBind(context,fn){return function(value){fn.call(context,value);};}
function processQueue(state){var fn,promise,pending;pending=state.pending;state.processScheduled=false;state.pending=undefined;for(var i=0,ii=pending.length;i<ii;++i){promise=pending[i][0];fn=pending[i][state.status];try{if(isFunction(fn)){promise.resolve(fn(state.value));}else if(state.status===1){promise.resolve(state.value);}else{promise.reject(state.value);}}catch(e){promise.reject(e);exceptionHandler(e);}}}
function scheduleProcessQueue(state){if(state.processScheduled||!state.pending)return;state.processScheduled=true;nextTick(function(){processQueue(state);});}
function Deferred(){this.promise=new Promise();this.resolve=simpleBind(this,this.resolve);this.reject=simpleBind(this,this.reject);this.notify=simpleBind(this,this.notify);}
Deferred.prototype={resolve:function(val){if(this.promise.$$state.status)return;if(val===this.promise){this.$$reject($qMinErr('qcycle',"Expected promise to be resolved with value other than itself '{0}'",val));}else{this.$$resolve(val);}},$$resolve:function(val){var then,fns;fns=callOnce(this,this.$$resolve,this.$$reject);try{if((isObject(val)||isFunction(val)))then=val&&val.then;if(isFunction(then)){this.promise.$$state.status=-1;then.call(val,fns[0],fns[1],this.notify);}else{this.promise.$$state.value=val;this.promise.$$state.status=1;scheduleProcessQueue(this.promise.$$state);}}catch(e){fns[1](e);exceptionHandler(e);}},reject:function(reason){if(this.promise.$$state.status)return;this.$$reject(reason);},$$reject:function(reason){this.promise.$$state.value=reason;this.promise.$$state.status=2;scheduleProcessQueue(this.promise.$$state);},notify:function(progress){var callbacks=this.promise.$$state.pending;if((this.promise.$$state.status<=0)&&callbacks&&callbacks.length){nextTick(function(){var callback,result;for(var i=0,ii=callbacks.length;i<ii;i++){result=callbacks[i][0];callback=callbacks[i][3];try{result.notify(isFunction(callback)?callback(progress):progress);}catch(e){exceptionHandler(e);}}});}}};var reject=function(reason){var result=new Deferred();result.reject(reason);return result.promise;};var makePromise=function makePromise(value,resolved){var result=new Deferred();if(resolved){result.resolve(value);}else{result.reject(value);}
return result.promise;};var handleCallback=function handleCallback(value,isResolved,callback){var callbackOutput=null;try{if(isFunction(callback))callbackOutput=callback();}catch(e){return makePromise(e,false);}
if(isPromiseLike(callbackOutput)){return callbackOutput.then(function(){return makePromise(value,isResolved);},function(error){return makePromise(error,false);});}else{return makePromise(value,isResolved);}};var when=function(value,callback,errback,progressBack){var result=new Deferred();result.resolve(value);return result.promise.then(callback,errback,progressBack);};function all(promises){var deferred=new Deferred(),counter=0,results=isArray(promises)?[]:{};forEach(promises,function(promise,key){counter++;when(promise).then(function(value){if(results.hasOwnProperty(key))return;results[key]=value;if(!(--counter))deferred.resolve(results);},function(reason){if(results.hasOwnProperty(key))return;deferred.reject(reason);});});if(counter===0){deferred.resolve(results);}
return deferred.promise;}
var $Q=function Q(resolver){if(!isFunction(resolver)){throw $qMinErr('norslvr',"Expected resolverFn, got '{0}'",resolver);}
if(!(this instanceof Q)){return new Q(resolver);}
var deferred=new Deferred();function resolveFn(value){deferred.resolve(value);}
function rejectFn(reason){deferred.reject(reason);}
resolver(resolveFn,rejectFn);return deferred.promise;};$Q.defer=defer;$Q.reject=reject;$Q.when=when;$Q.all=all;return $Q;}
function $$RAFProvider(){this.$get=['$window','$timeout',function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame;var cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame;var rafSupported=!!requestAnimationFrame;var raf=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id);};}:function(fn){var timer=$timeout(fn,16.66,false);return function(){$timeout.cancel(timer);};};raf.supported=rafSupported;return raf;}];}
function $RootScopeProvider(){var TTL=10;var $rootScopeMinErr=minErr('$rootScope');var lastDirtyWatch=null;var applyAsyncId=null;this.digestTtl=function(value){if(arguments.length){TTL=value;}
return TTL;};function createChildScopeClass(parent){function ChildScope(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=nextUid();this.$$ChildScope=null;}
ChildScope.prototype=parent;return ChildScope;}
this.$get=['$injector','$exceptionHandler','$parse','$browser',function($injector,$exceptionHandler,$parse,$browser){function destroyChildScope($event){$event.currentScope.$$destroyed=true;}
function Scope(){this.$id=nextUid();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=false;this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings=null;}
Scope.prototype={constructor:Scope,$new:function(isolate,parent){var child;parent=parent||this;if(isolate){child=new Scope();child.$root=this.$root;}else{if(!this.$$ChildScope){this.$$ChildScope=createChildScopeClass(this);}
child=new this.$$ChildScope();}
child.$parent=parent;child.$$prevSibling=parent.$$childTail;if(parent.$$childHead){parent.$$childTail.$$nextSibling=child;parent.$$childTail=child;}else{parent.$$childHead=parent.$$childTail=child;}
if(isolate||parent!=this)child.$on('$destroy',destroyChildScope);return child;},$watch:function(watchExp,listener,objectEquality){var get=$parse(watchExp);if(get.$$watchDelegate){return get.$$watchDelegate(this,listener,objectEquality,get);}
var scope=this,array=scope.$$watchers,watcher={fn:listener,last:initWatchVal,get:get,exp:watchExp,eq:!!objectEquality};lastDirtyWatch=null;if(!isFunction(listener)){watcher.fn=noop;}
if(!array){array=scope.$$watchers=[];}
array.unshift(watcher);return function deregisterWatch(){arrayRemove(array,watcher);lastDirtyWatch=null;};},$watchGroup:function(watchExpressions,listener){var oldValues=new Array(watchExpressions.length);var newValues=new Array(watchExpressions.length);var deregisterFns=[];var self=this;var changeReactionScheduled=false;var firstRun=true;if(!watchExpressions.length){var shouldCall=true;self.$evalAsync(function(){if(shouldCall)listener(newValues,newValues,self);});return function deregisterWatchGroup(){shouldCall=false;};}
if(watchExpressions.length===1){return this.$watch(watchExpressions[0],function watchGroupAction(value,oldValue,scope){newValues[0]=value;oldValues[0]=oldValue;listener(newValues,(value===oldValue)?newValues:oldValues,scope);});}
forEach(watchExpressions,function(expr,i){var unwatchFn=self.$watch(expr,function watchGroupSubAction(value,oldValue){newValues[i]=value;oldValues[i]=oldValue;if(!changeReactionScheduled){changeReactionScheduled=true;self.$evalAsync(watchGroupAction);}});deregisterFns.push(unwatchFn);});function watchGroupAction(){changeReactionScheduled=false;if(firstRun){firstRun=false;listener(newValues,newValues,self);}else{listener(newValues,oldValues,self);}}
return function deregisterWatchGroup(){while(deregisterFns.length){deregisterFns.shift()();}};},$watchCollection:function(obj,listener){$watchCollectionInterceptor.$stateful=true;var self=this;var newValue;var oldValue;var veryOldValue;var trackVeryOldValue=(listener.length>1);var changeDetected=0;var changeDetector=$parse(obj,$watchCollectionInterceptor);var internalArray=[];var internalObject={};var initRun=true;var oldLength=0;function $watchCollectionInterceptor(_value){newValue=_value;var newLength,key,bothNaN,newItem,oldItem;if(isUndefined(newValue))return;if(!isObject(newValue)){if(oldValue!==newValue){oldValue=newValue;changeDetected++;}}else if(isArrayLike(newValue)){if(oldValue!==internalArray){oldValue=internalArray;oldLength=oldValue.length=0;changeDetected++;}
newLength=newValue.length;if(oldLength!==newLength){changeDetected++;oldValue.length=oldLength=newLength;}
for(var i=0;i<newLength;i++){oldItem=oldValue[i];newItem=newValue[i];bothNaN=(oldItem!==oldItem)&&(newItem!==newItem);if(!bothNaN&&(oldItem!==newItem)){changeDetected++;oldValue[i]=newItem;}}}else{if(oldValue!==internalObject){oldValue=internalObject={};oldLength=0;changeDetected++;}
newLength=0;for(key in newValue){if(newValue.hasOwnProperty(key)){newLength++;newItem=newValue[key];oldItem=oldValue[key];if(key in oldValue){bothNaN=(oldItem!==oldItem)&&(newItem!==newItem);if(!bothNaN&&(oldItem!==newItem)){changeDetected++;oldValue[key]=newItem;}}else{oldLength++;oldValue[key]=newItem;changeDetected++;}}}
if(oldLength>newLength){changeDetected++;for(key in oldValue){if(!newValue.hasOwnProperty(key)){oldLength--;delete oldValue[key];}}}}
return changeDetected;}
function $watchCollectionAction(){if(initRun){initRun=false;listener(newValue,newValue,self);}else{listener(newValue,veryOldValue,self);}
if(trackVeryOldValue){if(!isObject(newValue)){veryOldValue=newValue;}else if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(var i=0;i<newValue.length;i++){veryOldValue[i]=newValue[i];}}else{veryOldValue={};for(var key in newValue){if(hasOwnProperty.call(newValue,key)){veryOldValue[key]=newValue[key];}}}}}
return this.$watch(changeDetector,$watchCollectionAction);},$digest:function(){var watch,value,last,watchers,length,dirty,ttl=TTL,next,current,target=this,watchLog=[],logIdx,logMsg,asyncTask;beginPhase('$digest');$browser.$$checkUrlChange();if(this===$rootScope&&applyAsyncId!==null){$browser.defer.cancel(applyAsyncId);flushApplyAsync();}
lastDirtyWatch=null;do{dirty=false;current=target;while(asyncQueue.length){try{asyncTask=asyncQueue.shift();asyncTask.scope.$eval(asyncTask.expression,asyncTask.locals);}catch(e){$exceptionHandler(e);}
lastDirtyWatch=null;}
traverseScopesLoop:do{if((watchers=current.$$watchers)){length=watchers.length;while(length--){try{watch=watchers[length];if(watch){if((value=watch.get(current))!==(last=watch.last)&&!(watch.eq?equals(value,last):(typeof value==='number'&&typeof last==='number'&&isNaN(value)&&isNaN(last)))){dirty=true;lastDirtyWatch=watch;watch.last=watch.eq?copy(value,null):value;watch.fn(value,((last===initWatchVal)?value:last),current);if(ttl<5){logIdx=4-ttl;if(!watchLog[logIdx])watchLog[logIdx]=[];watchLog[logIdx].push({msg:isFunction(watch.exp)?'fn: '+(watch.exp.name||watch.exp.toString()):watch.exp,newVal:value,oldVal:last});}}else if(watch===lastDirtyWatch){dirty=false;break traverseScopesLoop;}}}catch(e){$exceptionHandler(e);}}}
if(!(next=(current.$$childHead||(current!==target&&current.$$nextSibling)))){while(current!==target&&!(next=current.$$nextSibling)){current=current.$parent;}}}while((current=next));if((dirty||asyncQueue.length)&&!(ttl--)){clearPhase();throw $rootScopeMinErr('infdig','{0} $digest() iterations reached. Aborting!\n'+'Watchers fired in the last 5 iterations: {1}',TTL,watchLog);}}while(dirty||asyncQueue.length);clearPhase();while(postDigestQueue.length){try{postDigestQueue.shift()();}catch(e){$exceptionHandler(e);}}},$destroy:function(){if(this.$$destroyed)return;var parent=this.$parent;this.$broadcast('$destroy');this.$$destroyed=true;if(this===$rootScope)return;for(var eventName in this.$$listenerCount){decrementListenerCount(this,this.$$listenerCount[eventName],eventName);}
if(parent.$$childHead==this)parent.$$childHead=this.$$nextSibling;if(parent.$$childTail==this)parent.$$childTail=this.$$prevSibling;if(this.$$prevSibling)this.$$prevSibling.$$nextSibling=this.$$nextSibling;if(this.$$nextSibling)this.$$nextSibling.$$prevSibling=this.$$prevSibling;this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop;this.$on=this.$watch=this.$watchGroup=function(){return noop;};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null;},$eval:function(expr,locals){return $parse(expr)(this,locals);},$evalAsync:function(expr,locals){if(!$rootScope.$$phase&&!asyncQueue.length){$browser.defer(function(){if(asyncQueue.length){$rootScope.$digest();}});}
asyncQueue.push({scope:this,expression:expr,locals:locals});},$$postDigest:function(fn){postDigestQueue.push(fn);},$apply:function(expr){try{beginPhase('$apply');return this.$eval(expr);}catch(e){$exceptionHandler(e);}finally{clearPhase();try{$rootScope.$digest();}catch(e){$exceptionHandler(e);throw e;}}},$applyAsync:function(expr){var scope=this;expr&&applyAsyncQueue.push($applyAsyncExpression);scheduleApplyAsync();function $applyAsyncExpression(){scope.$eval(expr);}},$on:function(name,listener){var namedListeners=this.$$listeners[name];if(!namedListeners){this.$$listeners[name]=namedListeners=[];}
namedListeners.push(listener);var current=this;do{if(!current.$$listenerCount[name]){current.$$listenerCount[name]=0;}
current.$$listenerCount[name]++;}while((current=current.$parent));var self=this;return function(){var indexOfListener=namedListeners.indexOf(listener);if(indexOfListener!==-1){namedListeners[indexOfListener]=null;decrementListenerCount(self,1,name);}};},$emit:function(name,args){var empty=[],namedListeners,scope=this,stopPropagation=false,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=true;},preventDefault:function(){event.defaultPrevented=true;},defaultPrevented:false},listenerArgs=concat([event],arguments,1),i,length;do{namedListeners=scope.$$listeners[name]||empty;event.currentScope=scope;for(i=0,length=namedListeners.length;i<length;i++){if(!namedListeners[i]){namedListeners.splice(i,1);i--;length--;continue;}
try{namedListeners[i].apply(null,listenerArgs);}catch(e){$exceptionHandler(e);}}
if(stopPropagation){event.currentScope=null;return event;}
scope=scope.$parent;}while(scope);event.currentScope=null;return event;},$broadcast:function(name,args){var target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=true;},defaultPrevented:false};if(!target.$$listenerCount[name])return event;var listenerArgs=concat([event],arguments,1),listeners,i,length;while((current=next)){event.currentScope=current;listeners=current.$$listeners[name]||[];for(i=0,length=listeners.length;i<length;i++){if(!listeners[i]){listeners.splice(i,1);i--;length--;continue;}
try{listeners[i].apply(null,listenerArgs);}catch(e){$exceptionHandler(e);}}
if(!(next=((current.$$listenerCount[name]&&current.$$childHead)||(current!==target&&current.$$nextSibling)))){while(current!==target&&!(next=current.$$nextSibling)){current=current.$parent;}}}
event.currentScope=null;return event;}};var $rootScope=new Scope();var asyncQueue=$rootScope.$$asyncQueue=[];var postDigestQueue=$rootScope.$$postDigestQueue=[];var applyAsyncQueue=$rootScope.$$applyAsyncQueue=[];return $rootScope;function beginPhase(phase){if($rootScope.$$phase){throw $rootScopeMinErr('inprog','{0} already in progress',$rootScope.$$phase);}
$rootScope.$$phase=phase;}
function clearPhase(){$rootScope.$$phase=null;}
function decrementListenerCount(current,count,name){do{current.$$listenerCount[name]-=count;if(current.$$listenerCount[name]===0){delete current.$$listenerCount[name];}}while((current=current.$parent));}
function initWatchVal(){}
function flushApplyAsync(){while(applyAsyncQueue.length){try{applyAsyncQueue.shift()();}catch(e){$exceptionHandler(e);}}
applyAsyncId=null;}
function scheduleApplyAsync(){if(applyAsyncId===null){applyAsyncId=$browser.defer(function(){$rootScope.$apply(flushApplyAsync);});}}}];}
function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(regexp){if(isDefined(regexp)){aHrefSanitizationWhitelist=regexp;return this;}
return aHrefSanitizationWhitelist;};this.imgSrcSanitizationWhitelist=function(regexp){if(isDefined(regexp)){imgSrcSanitizationWhitelist=regexp;return this;}
return imgSrcSanitizationWhitelist;};this.$get=function(){return function sanitizeUri(uri,isImage){var regex=isImage?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist;var normalizedVal;normalizedVal=urlResolve(uri).href;if(normalizedVal!==''&&!normalizedVal.match(regex)){return'unsafe:'+normalizedVal;}
return uri;};};}
var $sceMinErr=minErr('$sce');var SCE_CONTEXTS={HTML:'html',CSS:'css',URL:'url',RESOURCE_URL:'resourceUrl',JS:'js'};function adjustMatcher(matcher){if(matcher==='self'){return matcher;}else if(isString(matcher)){if(matcher.indexOf('***')>-1){throw $sceMinErr('iwcard','Illegal sequence *** in string matcher.  String: {0}',matcher);}
matcher=escapeForRegexp(matcher).replace('\\*\\*','.*').replace('\\*','[^:/.?&;]*');return new RegExp('^'+matcher+'$');}else if(isRegExp(matcher)){return new RegExp('^'+matcher.source+'$');}else{throw $sceMinErr('imatcher','Matchers may only be "self", string patterns or RegExp objects');}}
function adjustMatchers(matchers){var adjustedMatchers=[];if(isDefined(matchers)){forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher));});}
return adjustedMatchers;}
function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=['self'],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){if(arguments.length){resourceUrlWhitelist=adjustMatchers(value);}
return resourceUrlWhitelist;};this.resourceUrlBlacklist=function(value){if(arguments.length){resourceUrlBlacklist=adjustMatchers(value);}
return resourceUrlBlacklist;};this.$get=['$injector',function($injector){var htmlSanitizer=function htmlSanitizer(html){throw $sceMinErr('unsafe','Attempting to use an unsafe value in a safe context.');};if($injector.has('$sanitize')){htmlSanitizer=$injector.get('$sanitize');}
function matchUrl(matcher,parsedUrl){if(matcher==='self'){return urlIsSameOrigin(parsedUrl);}else{return!!matcher.exec(parsedUrl.href);}}
function isResourceUrlAllowedByPolicy(url){var parsedUrl=urlResolve(url.toString());var i,n,allowed=false;for(i=0,n=resourceUrlWhitelist.length;i<n;i++){if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=true;break;}}
if(allowed){for(i=0,n=resourceUrlBlacklist.length;i<n;i++){if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=false;break;}}}
return allowed;}
function generateHolderType(Base){var holderType=function TrustedValueHolderType(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue;};};if(Base){holderType.prototype=new Base();}
holderType.prototype.valueOf=function sceValueOf(){return this.$$unwrapTrustedValue();};holderType.prototype.toString=function sceToString(){return this.$$unwrapTrustedValue().toString();};return holderType;}
var trustedValueHolderBase=generateHolderType(),byType={};byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.URL]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]);function trustAs(type,trustedValue){var Constructor=(byType.hasOwnProperty(type)?byType[type]:null);if(!Constructor){throw $sceMinErr('icontext','Attempted to trust a value in invalid context. Context: {0}; Value: {1}',type,trustedValue);}
if(trustedValue===null||trustedValue===undefined||trustedValue===''){return trustedValue;}
if(typeof trustedValue!=='string'){throw $sceMinErr('itype','Attempted to trust a non-string value in a content requiring a string: Context: {0}',type);}
return new Constructor(trustedValue);}
function valueOf(maybeTrusted){if(maybeTrusted instanceof trustedValueHolderBase){return maybeTrusted.$$unwrapTrustedValue();}else{return maybeTrusted;}}
function getTrusted(type,maybeTrusted){if(maybeTrusted===null||maybeTrusted===undefined||maybeTrusted===''){return maybeTrusted;}
var constructor=(byType.hasOwnProperty(type)?byType[type]:null);if(constructor&&maybeTrusted instanceof constructor){return maybeTrusted.$$unwrapTrustedValue();}
if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted)){return maybeTrusted;}else{throw $sceMinErr('insecurl','Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}',maybeTrusted.toString());}}else if(type===SCE_CONTEXTS.HTML){return htmlSanitizer(maybeTrusted);}
throw $sceMinErr('unsafe','Attempting to use an unsafe value in a safe context.');}
return{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf};}];}
function $SceProvider(){var enabled=true;this.enabled=function(value){if(arguments.length){enabled=!!value;}
return enabled;};this.$get=['$parse','$sceDelegate',function($parse,$sceDelegate){if(enabled&&msie<8){throw $sceMinErr('iequirks','Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks '+'mode.  You can fix this by adding the text <!doctype html> to the top of your HTML '+'document.  See http://docs.angularjs.org/api/ng.$sce for more information.');}
var sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled;};sce.trustAs=$sceDelegate.trustAs;sce.getTrusted=$sceDelegate.getTrusted;sce.valueOf=$sceDelegate.valueOf;if(!enabled){sce.trustAs=sce.getTrusted=function(type,value){return value;};sce.valueOf=identity;}
sce.parseAs=function sceParseAs(type,expr){var parsed=$parse(expr);if(parsed.literal&&parsed.constant){return parsed;}else{return $parse(expr,function(value){return sce.getTrusted(type,value);});}};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[camelCase("parse_as_"+lName)]=function(expr){return parse(enumValue,expr);};sce[camelCase("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value);};sce[camelCase("trust_as_"+lName)]=function(value){return trustAs(enumValue,value);};});return sce;}];}
function $SnifferProvider(){this.$get=['$window','$document',function($window,$document){var eventSupport={},android=int((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},vendorPrefix,vendorRegex=/^(Moz|webkit|ms)(?=[A-Z])/,bodyStyle=document.body&&document.body.style,transitions=false,animations=false,match;if(bodyStyle){for(var prop in bodyStyle){if(match=vendorRegex.exec(prop)){vendorPrefix=match[0];vendorPrefix=vendorPrefix.substr(0,1).toUpperCase()+vendorPrefix.substr(1);break;}}
if(!vendorPrefix){vendorPrefix=('WebkitOpacity'in bodyStyle)&&'webkit';}
transitions=!!(('transition'in bodyStyle)||(vendorPrefix+'Transition'in bodyStyle));animations=!!(('animation'in bodyStyle)||(vendorPrefix+'Animation'in bodyStyle));if(android&&(!transitions||!animations)){transitions=isString(document.body.style.webkitTransition);animations=isString(document.body.style.webkitAnimation);}}
return{history:!!($window.history&&$window.history.pushState&&!(android<4)&&!boxee),hasEvent:function(event){if(event==='input'&&msie<=11)return false;if(isUndefined(eventSupport[event])){var divElm=document.createElement('div');eventSupport[event]='on'+event in divElm;}
return eventSupport[event];},csp:csp(),vendorPrefix:vendorPrefix,transitions:transitions,animations:animations,android:android};}];}
var $compileMinErr=minErr('$compile');function $TemplateRequestProvider(){this.$get=['$templateCache','$http','$q',function($templateCache,$http,$q){function handleRequestFn(tpl,ignoreRequestError){handleRequestFn.totalPendingRequests++;var transformResponse=$http.defaults&&$http.defaults.transformResponse;if(isArray(transformResponse)){transformResponse=transformResponse.filter(function(transformer){return transformer!==defaultHttpResponseTransform;});}else if(transformResponse===defaultHttpResponseTransform){transformResponse=null;}
var httpOptions={cache:$templateCache,transformResponse:transformResponse};return $http.get(tpl,httpOptions)
['finally'](function(){handleRequestFn.totalPendingRequests--;}).then(function(response){return response.data;},handleError);function handleError(resp){if(!ignoreRequestError){throw $compileMinErr('tpload','Failed to load template: {0}',tpl);}
return $q.reject(resp);}}
handleRequestFn.totalPendingRequests=0;return handleRequestFn;}];}
function $$TestabilityProvider(){this.$get=['$rootScope','$browser','$location',function($rootScope,$browser,$location){var testability={};testability.findBindings=function(element,expression,opt_exactMatch){var bindings=element.getElementsByClassName('ng-binding');var matches=[];forEach(bindings,function(binding){var dataBinding=angular.element(binding).data('$binding');if(dataBinding){forEach(dataBinding,function(bindingName){if(opt_exactMatch){var matcher=new RegExp('(^|\\s)'+escapeForRegexp(expression)+'(\\s|\\||$)');if(matcher.test(bindingName)){matches.push(binding);}}else{if(bindingName.indexOf(expression)!=-1){matches.push(binding);}}});}});return matches;};testability.findModels=function(element,expression,opt_exactMatch){var prefixes=['ng-','data-ng-','ng\\:'];for(var p=0;p<prefixes.length;++p){var attributeEquals=opt_exactMatch?'=':'*=';var selector='['+prefixes[p]+'model'+attributeEquals+'"'+expression+'"]';var elements=element.querySelectorAll(selector);if(elements.length){return elements;}}};testability.getLocation=function(){return $location.url();};testability.setLocation=function(url){if(url!==$location.url()){$location.url(url);$rootScope.$digest();}};testability.whenStable=function(callback){$browser.notifyWhenNoOutstandingRequests(callback);};return testability;}];}
function $TimeoutProvider(){this.$get=['$rootScope','$browser','$q','$$q','$exceptionHandler',function($rootScope,$browser,$q,$$q,$exceptionHandler){var deferreds={};function timeout(fn,delay,invokeApply){var skipApply=(isDefined(invokeApply)&&!invokeApply),deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise,timeoutId;timeoutId=$browser.defer(function(){try{deferred.resolve(fn());}catch(e){deferred.reject(e);$exceptionHandler(e);}
finally{delete deferreds[promise.$$timeoutId];}
if(!skipApply)$rootScope.$apply();},delay);promise.$$timeoutId=timeoutId;deferreds[timeoutId]=deferred;return promise;}
timeout.cancel=function(promise){if(promise&&promise.$$timeoutId in deferreds){deferreds[promise.$$timeoutId].reject('canceled');delete deferreds[promise.$$timeoutId];return $browser.defer.cancel(promise.$$timeoutId);}
return false;};return timeout;}];}
var urlParsingNode=document.createElement("a");var originUrl=urlResolve(window.location.href);function urlResolve(url){var href=url;if(msie){urlParsingNode.setAttribute("href",href);href=urlParsingNode.href;}
urlParsingNode.setAttribute('href',href);return{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,''):'',host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,''):'',hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,''):'',hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:(urlParsingNode.pathname.charAt(0)==='/')?urlParsingNode.pathname:'/'+urlParsingNode.pathname};}
function urlIsSameOrigin(requestUrl){var parsed=(isString(requestUrl))?urlResolve(requestUrl):requestUrl;return(parsed.protocol===originUrl.protocol&&parsed.host===originUrl.host);}
function $WindowProvider(){this.$get=valueFn(window);}
$FilterProvider.$inject=['$provide'];function $FilterProvider($provide){var suffix='Filter';function register(name,factory){if(isObject(name)){var filters={};forEach(name,function(filter,key){filters[key]=register(key,filter);});return filters;}else{return $provide.factory(name+suffix,factory);}}
this.register=register;this.$get=['$injector',function($injector){return function(name){return $injector.get(name+suffix);};}];register('currency',currencyFilter);register('date',dateFilter);register('filter',filterFilter);register('json',jsonFilter);register('limitTo',limitToFilter);register('lowercase',lowercaseFilter);register('number',numberFilter);register('orderBy',orderByFilter);register('uppercase',uppercaseFilter);}
function filterFilter(){return function(array,expression,comparator){if(!isArray(array))return array;var predicateFn;var matchAgainstAnyProp;switch(typeof expression){case'function':predicateFn=expression;break;case'boolean':case'number':case'string':matchAgainstAnyProp=true;case'object':predicateFn=createPredicateFn(expression,comparator,matchAgainstAnyProp);break;default:return array;}
return array.filter(predicateFn);};}
function createPredicateFn(expression,comparator,matchAgainstAnyProp){var shouldMatchPrimitives=isObject(expression)&&('$'in expression);var predicateFn;if(comparator===true){comparator=equals;}else if(!isFunction(comparator)){comparator=function(actual,expected){if(isObject(actual)||isObject(expected)){return false;}
actual=lowercase(''+actual);expected=lowercase(''+expected);return actual.indexOf(expected)!==-1;};}
predicateFn=function(item){if(shouldMatchPrimitives&&!isObject(item)){return deepCompare(item,expression.$,comparator,false);}
return deepCompare(item,expression,comparator,matchAgainstAnyProp);};return predicateFn;}
function deepCompare(actual,expected,comparator,matchAgainstAnyProp,dontMatchWholeObject){var actualType=(actual!==null)?typeof actual:'null';var expectedType=(expected!==null)?typeof expected:'null';if((expectedType==='string')&&(expected.charAt(0)==='!')){return!deepCompare(actual,expected.substring(1),comparator,matchAgainstAnyProp);}else if(isArray(actual)){return actual.some(function(item){return deepCompare(item,expected,comparator,matchAgainstAnyProp);});}
switch(actualType){case'object':var key;if(matchAgainstAnyProp){for(key in actual){if((key.charAt(0)!=='$')&&deepCompare(actual[key],expected,comparator,true)){return true;}}
return dontMatchWholeObject?false:deepCompare(actual,expected,comparator,false);}else if(expectedType==='object'){for(key in expected){var expectedVal=expected[key];if(isFunction(expectedVal)||isUndefined(expectedVal)){continue;}
var matchAnyProperty=key==='$';var actualVal=matchAnyProperty?actual:actual[key];if(!deepCompare(actualVal,expectedVal,comparator,matchAnyProperty,matchAnyProperty)){return false;}}
return true;}else{return comparator(actual,expected);}
break;case'function':return false;default:return comparator(actual,expected);}}
currencyFilter.$inject=['$locale'];function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol,fractionSize){if(isUndefined(currencySymbol)){currencySymbol=formats.CURRENCY_SYM;}
if(isUndefined(fractionSize)){fractionSize=formats.PATTERNS[1].maxFrac;}
return(amount==null)?amount:formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize).replace(/\u00A4/g,currencySymbol);};}
numberFilter.$inject=['$locale'];function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return(number==null)?number:formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize);};}
var DECIMAL_SEP='.';function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(!isFinite(number)||isObject(number))return'';var isNegative=number<0;number=Math.abs(number);var numStr=number+'',formatedText='',parts=[];var hasExponent=false;if(numStr.indexOf('e')!==-1){var match=numStr.match(/([\d\.]+)e(-?)(\d+)/);if(match&&match[2]=='-'&&match[3]>fractionSize+1){number=0;}else{formatedText=numStr;hasExponent=true;}}
if(!hasExponent){var fractionLen=(numStr.split(DECIMAL_SEP)[1]||'').length;if(isUndefined(fractionSize)){fractionSize=Math.min(Math.max(pattern.minFrac,fractionLen),pattern.maxFrac);}
number=+(Math.round(+(number.toString()+'e'+fractionSize)).toString()+'e'+-fractionSize);var fraction=(''+number).split(DECIMAL_SEP);var whole=fraction[0];fraction=fraction[1]||'';var i,pos=0,lgroup=pattern.lgSize,group=pattern.gSize;if(whole.length>=(lgroup+group)){pos=whole.length-lgroup;for(i=0;i<pos;i++){if((pos-i)%group===0&&i!==0){formatedText+=groupSep;}
formatedText+=whole.charAt(i);}}
for(i=pos;i<whole.length;i++){if((whole.length-i)%lgroup===0&&i!==0){formatedText+=groupSep;}
formatedText+=whole.charAt(i);}
while(fraction.length<fractionSize){fraction+='0';}
if(fractionSize&&fractionSize!=="0")formatedText+=decimalSep+fraction.substr(0,fractionSize);}else{if(fractionSize>0&&number<1){formatedText=number.toFixed(fractionSize);number=parseFloat(formatedText);}}
if(number===0){isNegative=false;}
parts.push(isNegative?pattern.negPre:pattern.posPre,formatedText,isNegative?pattern.negSuf:pattern.posSuf);return parts.join('');}
function padNumber(num,digits,trim){var neg='';if(num<0){neg='-';num=-num;}
num=''+num;while(num.length<digits)num='0'+num;if(trim)
num=num.substr(num.length-digits);return neg+num;}
function dateGetter(name,size,offset,trim){offset=offset||0;return function(date){var value=date['get'+name]();if(offset>0||value>-offset)
value+=offset;if(value===0&&offset==-12)value=12;return padNumber(value,size,trim);};}
function dateStrGetter(name,shortForm){return function(date,formats){var value=date['get'+name]();var get=uppercase(shortForm?('SHORT'+name):name);return formats[get][value];};}
function timeZoneGetter(date){var zone=-1*date.getTimezoneOffset();var paddedZone=(zone>=0)?"+":"";paddedZone+=padNumber(Math[zone>0?'floor':'ceil'](zone/60),2)+
padNumber(Math.abs(zone%60),2);return paddedZone;}
function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=(new Date(year,0,1)).getDay();return new Date(year,0,((dayOfWeekOnFirst<=4)?5:12)-dayOfWeekOnFirst);}
function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()));}
function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),thisThurs=getThursdayThisWeek(date);var diff=+thisThurs-+firstThurs,result=1+Math.round(diff/6.048e8);return padNumber(result,size);};}
function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1];}
function eraGetter(date,formats){return date.getFullYear()<=0?formats.ERAS[0]:formats.ERAS[1];}
function longEraGetter(date,formats){return date.getFullYear()<=0?formats.ERANAMES[0]:formats.ERANAMES[1];}
var DATE_FORMATS={yyyy:dateGetter('FullYear',4),yy:dateGetter('FullYear',2,0,true),y:dateGetter('FullYear',1),MMMM:dateStrGetter('Month'),MMM:dateStrGetter('Month',true),MM:dateGetter('Month',2,1),M:dateGetter('Month',1,1),dd:dateGetter('Date',2),d:dateGetter('Date',1),HH:dateGetter('Hours',2),H:dateGetter('Hours',1),hh:dateGetter('Hours',2,-12),h:dateGetter('Hours',1,-12),mm:dateGetter('Minutes',2),m:dateGetter('Minutes',1),ss:dateGetter('Seconds',2),s:dateGetter('Seconds',1),sss:dateGetter('Milliseconds',3),EEEE:dateStrGetter('Day'),EEE:dateStrGetter('Day',true),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter};var DATE_FORMATS_SPLIT=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,NUMBER_STRING=/^\-?\d+$/;dateFilter.$inject=['$locale'];function dateFilter($locale){var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;if(match[9]){tzHour=int(match[9]+match[10]);tzMin=int(match[9]+match[11]);}
dateSetter.call(date,int(match[1]),int(match[2])-1,int(match[3]));var h=int(match[4]||0)-tzHour;var m=int(match[5]||0)-tzMin;var s=int(match[6]||0);var ms=Math.round(parseFloat('0.'+(match[7]||0))*1000);timeSetter.call(date,h,m,s,ms);return date;}
return string;}
return function(date,format,timezone){var text='',parts=[],fn,match;format=format||'mediumDate';format=$locale.DATETIME_FORMATS[format]||format;if(isString(date)){date=NUMBER_STRING.test(date)?int(date):jsonStringToDate(date);}
if(isNumber(date)){date=new Date(date);}
if(!isDate(date)){return date;}
while(format){match=DATE_FORMATS_SPLIT.exec(format);if(match){parts=concat(parts,match,1);format=parts.pop();}else{parts.push(format);format=null;}}
if(timezone&&timezone==='UTC'){date=new Date(date.getTime());date.setMinutes(date.getMinutes()+date.getTimezoneOffset());}
forEach(parts,function(value){fn=DATE_FORMATS[value];text+=fn?fn(date,$locale.DATETIME_FORMATS):value.replace(/(^'|'$)/g,'').replace(/''/g,"'");});return text;};}
function jsonFilter(){return function(object,spacing){if(isUndefined(spacing)){spacing=2;}
return toJson(object,spacing);};}
var lowercaseFilter=valueFn(lowercase);var uppercaseFilter=valueFn(uppercase);function limitToFilter(){return function(input,limit){if(isNumber(input))input=input.toString();if(!isArray(input)&&!isString(input))return input;if(Math.abs(Number(limit))===Infinity){limit=Number(limit);}else{limit=int(limit);}
if(limit){return limit>0?input.slice(0,limit):input.slice(limit);}else{return isString(input)?"":[];}};}
orderByFilter.$inject=['$parse'];function orderByFilter($parse){return function(array,sortPredicate,reverseOrder){if(!(isArrayLike(array)))return array;sortPredicate=isArray(sortPredicate)?sortPredicate:[sortPredicate];if(sortPredicate.length===0){sortPredicate=['+'];}
sortPredicate=sortPredicate.map(function(predicate){var descending=false,get=predicate||identity;if(isString(predicate)){if((predicate.charAt(0)=='+'||predicate.charAt(0)=='-')){descending=predicate.charAt(0)=='-';predicate=predicate.substring(1);}
if(predicate===''){return reverseComparator(compare,descending);}
get=$parse(predicate);if(get.constant){var key=get();return reverseComparator(function(a,b){return compare(a[key],b[key]);},descending);}}
return reverseComparator(function(a,b){return compare(get(a),get(b));},descending);});return slice.call(array).sort(reverseComparator(comparator,reverseOrder));function comparator(o1,o2){for(var i=0;i<sortPredicate.length;i++){var comp=sortPredicate[i](o1,o2);if(comp!==0)return comp;}
return 0;}
function reverseComparator(comp,descending){return descending?function(a,b){return comp(b,a);}:comp;}
function isPrimitive(value){switch(typeof value){case'number':case'boolean':case'string':return true;default:return false;}}
function objectToString(value){if(value===null)return'null';if(typeof value.valueOf==='function'){value=value.valueOf();if(isPrimitive(value))return value;}
if(typeof value.toString==='function'){value=value.toString();if(isPrimitive(value))return value;}
return'';}
function compare(v1,v2){var t1=typeof v1;var t2=typeof v2;if(t1===t2&&t1==="object"){v1=objectToString(v1);v2=objectToString(v2);}
if(t1===t2){if(t1==="string"){v1=v1.toLowerCase();v2=v2.toLowerCase();}
if(v1===v2)return 0;return v1<v2?-1:1;}else{return t1<t2?-1:1;}}};}
function ngDirective(directive){if(isFunction(directive)){directive={link:directive};}
directive.restrict=directive.restrict||'AC';return valueFn(directive);}
var htmlAnchorDirective=valueFn({restrict:'E',compile:function(element,attr){if(!attr.href&&!attr.xlinkHref&&!attr.name){return function(scope,element){if(element[0].nodeName.toLowerCase()!=='a')return;var href=toString.call(element.prop('href'))==='[object SVGAnimatedString]'?'xlink:href':'href';element.on('click',function(event){if(!element.attr(href)){event.preventDefault();}});};}}});var ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){if(propName=="multiple")return;var normalized=directiveNormalize('ng-'+attrName);ngAttributeAliasDirectives[normalized]=function(){return{restrict:'A',priority:100,link:function(scope,element,attr){scope.$watch(attr[normalized],function ngBooleanAttrWatchAction(value){attr.$set(attrName,!!value);});}};};});forEach(ALIASED_ATTR,function(htmlAttr,ngAttr){ngAttributeAliasDirectives[ngAttr]=function(){return{priority:100,link:function(scope,element,attr){if(ngAttr==="ngPattern"&&attr.ngPattern.charAt(0)=="/"){var match=attr.ngPattern.match(REGEX_STRING_REGEXP);if(match){attr.$set("ngPattern",new RegExp(match[1],match[2]));return;}}
scope.$watch(attr[ngAttr],function ngAttrAliasWatchAction(value){attr.$set(ngAttr,value);});}};};});forEach(['src','srcset','href'],function(attrName){var normalized=directiveNormalize('ng-'+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;if(attrName==='href'&&toString.call(element.prop('href'))==='[object SVGAnimatedString]'){name='xlinkHref';attr.$attr[name]='xlink:href';propName=null;}
attr.$observe(normalized,function(value){if(!value){if(attrName==='href'){attr.$set(name,null);}
return;}
attr.$set(name,value);if(msie&&propName)element.prop(propName,attr[name]);});}};};});var nullFormCtrl={$addControl:noop,$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop},SUBMITTED_CLASS='ng-submitted';function nullFormRenameControl(control,name){control.$name=name;}
FormController.$inject=['$element','$attrs','$scope','$animate','$interpolate'];function FormController(element,attrs,$scope,$animate,$interpolate){var form=this,controls=[];var parentForm=form.$$parentForm=element.parent().controller('form')||nullFormCtrl;form.$error={};form.$$success={};form.$pending=undefined;form.$name=$interpolate(attrs.name||attrs.ngForm||'')($scope);form.$dirty=false;form.$pristine=true;form.$valid=true;form.$invalid=false;form.$submitted=false;parentForm.$addControl(form);form.$rollbackViewValue=function(){forEach(controls,function(control){control.$rollbackViewValue();});};form.$commitViewValue=function(){forEach(controls,function(control){control.$commitViewValue();});};form.$addControl=function(control){assertNotHasOwnProperty(control.$name,'input');controls.push(control);if(control.$name){form[control.$name]=control;}};form.$$renameControl=function(control,newName){var oldName=control.$name;if(form[oldName]===control){delete form[oldName];}
form[newName]=control;control.$name=newName;};form.$removeControl=function(control){if(control.$name&&form[control.$name]===control){delete form[control.$name];}
forEach(form.$pending,function(value,name){form.$setValidity(name,null,control);});forEach(form.$error,function(value,name){form.$setValidity(name,null,control);});forEach(form.$$success,function(value,name){form.$setValidity(name,null,control);});arrayRemove(controls,control);};addSetValidityMethod({ctrl:this,$element:element,set:function(object,property,controller){var list=object[property];if(!list){object[property]=[controller];}else{var index=list.indexOf(controller);if(index===-1){list.push(controller);}}},unset:function(object,property,controller){var list=object[property];if(!list){return;}
arrayRemove(list,controller);if(list.length===0){delete object[property];}},parentForm:parentForm,$animate:$animate});form.$setDirty=function(){$animate.removeClass(element,PRISTINE_CLASS);$animate.addClass(element,DIRTY_CLASS);form.$dirty=true;form.$pristine=false;parentForm.$setDirty();};form.$setPristine=function(){$animate.setClass(element,PRISTINE_CLASS,DIRTY_CLASS+' '+SUBMITTED_CLASS);form.$dirty=false;form.$pristine=true;form.$submitted=false;forEach(controls,function(control){control.$setPristine();});};form.$setUntouched=function(){forEach(controls,function(control){control.$setUntouched();});};form.$setSubmitted=function(){$animate.addClass(element,SUBMITTED_CLASS);form.$submitted=true;parentForm.$setSubmitted();};}
var formDirectiveFactory=function(isNgForm){return['$timeout',function($timeout){var formDirective={name:'form',restrict:isNgForm?'EAC':'E',controller:FormController,compile:function ngFormCompile(formElement,attr){formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS);var nameAttr=attr.name?'name':(isNgForm&&attr.ngForm?'ngForm':false);return{pre:function ngFormPreLink(scope,formElement,attr,controller){if(!('action'in attr)){var handleFormSubmission=function(event){scope.$apply(function(){controller.$commitViewValue();controller.$setSubmitted();});event.preventDefault();};addEventListenerFn(formElement[0],'submit',handleFormSubmission);formElement.on('$destroy',function(){$timeout(function(){removeEventListenerFn(formElement[0],'submit',handleFormSubmission);},0,false);});}
var parentFormCtrl=controller.$$parentForm;if(nameAttr){setter(scope,null,controller.$name,controller,controller.$name);attr.$observe(nameAttr,function(newValue){if(controller.$name===newValue)return;setter(scope,null,controller.$name,undefined,controller.$name);parentFormCtrl.$$renameControl(controller,newValue);setter(scope,null,controller.$name,controller,controller.$name);});}
formElement.on('$destroy',function(){parentFormCtrl.$removeControl(controller);if(nameAttr){setter(scope,null,attr[nameAttr],undefined,controller.$name);}
extend(controller,nullFormCtrl);});}};}};return formDirective;}];};var formDirective=formDirectiveFactory();var ngFormDirective=formDirectiveFactory(true);var ISO_DATE_REGEXP=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/;var URL_REGEXP=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;var EMAIL_REGEXP=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i;var NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/;var DATE_REGEXP=/^(\d{4})-(\d{2})-(\d{2})$/;var DATETIMELOCAL_REGEXP=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var WEEK_REGEXP=/^(\d{4})-W(\d\d)$/;var MONTH_REGEXP=/^(\d{4})-(\d\d)$/;var TIME_REGEXP=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var inputType={'text':textInputType,'date':createDateInputType('date',DATE_REGEXP,createDateParser(DATE_REGEXP,['yyyy','MM','dd']),'yyyy-MM-dd'),'datetime-local':createDateInputType('datetimelocal',DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,['yyyy','MM','dd','HH','mm','ss','sss']),'yyyy-MM-ddTHH:mm:ss.sss'),'time':createDateInputType('time',TIME_REGEXP,createDateParser(TIME_REGEXP,['HH','mm','ss','sss']),'HH:mm:ss.sss'),'week':createDateInputType('week',WEEK_REGEXP,weekParser,'yyyy-Www'),'month':createDateInputType('month',MONTH_REGEXP,createDateParser(MONTH_REGEXP,['yyyy','MM']),'yyyy-MM'),'number':numberInputType,'url':urlInputType,'email':emailInputType,'radio':radioInputType,'checkbox':checkboxInputType,'hidden':noop,'button':noop,'submit':noop,'reset':noop,'file':noop};function stringBasedInputType(ctrl){ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?value:value.toString();});}
function textInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);}
function baseInputType(scope,element,attr,ctrl,$sniffer,$browser){var type=lowercase(element[0].type);if(!$sniffer.android){var composing=false;element.on('compositionstart',function(data){composing=true;});element.on('compositionend',function(){composing=false;listener();});}
var listener=function(ev){if(timeout){$browser.defer.cancel(timeout);timeout=null;}
if(composing)return;var value=element.val(),event=ev&&ev.type;if(type!=='password'&&(!attr.ngTrim||attr.ngTrim!=='false')){value=trim(value);}
if(ctrl.$viewValue!==value||(value===''&&ctrl.$$hasNativeValidators)){ctrl.$setViewValue(value,event);}};if($sniffer.hasEvent('input')){element.on('input',listener);}else{var timeout;var deferListener=function(ev,input,origValue){if(!timeout){timeout=$browser.defer(function(){timeout=null;if(!input||input.value!==origValue){listener(ev);}});}};element.on('keydown',function(event){var key=event.keyCode;if(key===91||(15<key&&key<19)||(37<=key&&key<=40))return;deferListener(event,this,this.value);});if($sniffer.hasEvent('paste')){element.on('paste cut',deferListener);}}
element.on('change',listener);ctrl.$render=function(){element.val(ctrl.$isEmpty(ctrl.$viewValue)?'':ctrl.$viewValue);};}
function weekParser(isoWeek,existingDate){if(isDate(isoWeek)){return isoWeek;}
if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;var parts=WEEK_REGEXP.exec(isoWeek);if(parts){var year=+parts[1],week=+parts[2],hours=0,minutes=0,seconds=0,milliseconds=0,firstThurs=getFirstThursdayOfYear(year),addDays=(week-1)*7;if(existingDate){hours=existingDate.getHours();minutes=existingDate.getMinutes();seconds=existingDate.getSeconds();milliseconds=existingDate.getMilliseconds();}
return new Date(year,0,firstThurs.getDate()+addDays,hours,minutes,seconds,milliseconds);}}
return NaN;}
function createDateParser(regexp,mapping){return function(iso,date){var parts,map;if(isDate(iso)){return iso;}
if(isString(iso)){if(iso.charAt(0)=='"'&&iso.charAt(iso.length-1)=='"'){iso=iso.substring(1,iso.length-1);}
if(ISO_DATE_REGEXP.test(iso)){return new Date(iso);}
regexp.lastIndex=0;parts=regexp.exec(iso);if(parts){parts.shift();if(date){map={yyyy:date.getFullYear(),MM:date.getMonth()+1,dd:date.getDate(),HH:date.getHours(),mm:date.getMinutes(),ss:date.getSeconds(),sss:date.getMilliseconds()/1000};}else{map={yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0};}
forEach(parts,function(part,index){if(index<mapping.length){map[mapping[index]]=+part;}});return new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm,map.ss||0,map.sss*1000||0);}}
return NaN;};}
function createDateInputType(type,regexp,parseDate,format){return function dynamicDateInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter){badInputChecker(scope,element,attr,ctrl);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var timezone=ctrl&&ctrl.$options&&ctrl.$options.timezone;var previousDate;ctrl.$$parserName=type;ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(regexp.test(value)){var parsedDate=parseDate(value,previousDate);if(timezone==='UTC'){parsedDate.setMinutes(parsedDate.getMinutes()-parsedDate.getTimezoneOffset());}
return parsedDate;}
return undefined;});ctrl.$formatters.push(function(value){if(value&&!isDate(value)){throw $ngModelMinErr('datefmt','Expected `{0}` to be a date',value);}
if(isValidDate(value)){previousDate=value;if(previousDate&&timezone==='UTC'){var timezoneOffset=60000*previousDate.getTimezoneOffset();previousDate=new Date(previousDate.getTime()+timezoneOffset);}
return $filter('date')(value,format,timezone);}else{previousDate=null;return'';}});if(isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return!isValidDate(value)||isUndefined(minVal)||parseDate(value)>=minVal;};attr.$observe('min',function(val){minVal=parseObservedDateValue(val);ctrl.$validate();});}
if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return!isValidDate(value)||isUndefined(maxVal)||parseDate(value)<=maxVal;};attr.$observe('max',function(val){maxVal=parseObservedDateValue(val);ctrl.$validate();});}
function isValidDate(value){return value&&!(value.getTime&&value.getTime()!==value.getTime());}
function parseObservedDateValue(val){return isDefined(val)?(isDate(val)?val:parseDate(val)):undefined;}};}
function badInputChecker(scope,element,attr,ctrl){var node=element[0];var nativeValidation=ctrl.$$hasNativeValidators=isObject(node.validity);if(nativeValidation){ctrl.$parsers.push(function(value){var validity=element.prop(VALIDITY_STATE_PROPERTY)||{};return validity.badInput&&!validity.typeMismatch?undefined:value;});}}
function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){badInputChecker(scope,element,attr,ctrl);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);ctrl.$$parserName='number';ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(NUMBER_REGEXP.test(value))return parseFloat(value);return undefined;});ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isNumber(value)){throw $ngModelMinErr('numfmt','Expected `{0}` to be a number',value);}
value=value.toString();}
return value;});if(isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return ctrl.$isEmpty(value)||isUndefined(minVal)||value>=minVal;};attr.$observe('min',function(val){if(isDefined(val)&&!isNumber(val)){val=parseFloat(val,10);}
minVal=isNumber(val)&&!isNaN(val)?val:undefined;ctrl.$validate();});}
if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return ctrl.$isEmpty(value)||isUndefined(maxVal)||value<=maxVal;};attr.$observe('max',function(val){if(isDefined(val)&&!isNumber(val)){val=parseFloat(val,10);}
maxVal=isNumber(val)&&!isNaN(val)?val:undefined;ctrl.$validate();});}}
function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);ctrl.$$parserName='url';ctrl.$validators.url=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||URL_REGEXP.test(value);};}
function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);ctrl.$$parserName='email';ctrl.$validators.email=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value);};}
function radioInputType(scope,element,attr,ctrl){if(isUndefined(attr.name)){element.attr('name',nextUid());}
var listener=function(ev){if(element[0].checked){ctrl.$setViewValue(attr.value,ev&&ev.type);}};element.on('click',listener);ctrl.$render=function(){var value=attr.value;element[0].checked=(value==ctrl.$viewValue);};attr.$observe('value',ctrl.$render);}
function parseConstantExpr($parse,context,name,expression,fallback){var parseFn;if(isDefined(expression)){parseFn=$parse(expression);if(!parseFn.constant){throw minErr('ngModel')('constexpr','Expected constant expression for `{0}`, but saw '+'`{1}`.',name,expression);}
return parseFn(context);}
return fallback;}
function checkboxInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter,$parse){var trueValue=parseConstantExpr($parse,scope,'ngTrueValue',attr.ngTrueValue,true);var falseValue=parseConstantExpr($parse,scope,'ngFalseValue',attr.ngFalseValue,false);var listener=function(ev){ctrl.$setViewValue(element[0].checked,ev&&ev.type);};element.on('click',listener);ctrl.$render=function(){element[0].checked=ctrl.$viewValue;};ctrl.$isEmpty=function(value){return value===false;};ctrl.$formatters.push(function(value){return equals(value,trueValue);});ctrl.$parsers.push(function(value){return value?trueValue:falseValue;});}
var inputDirective=['$browser','$sniffer','$filter','$parse',function($browser,$sniffer,$filter,$parse){return{restrict:'E',require:['?ngModel'],link:{pre:function(scope,element,attr,ctrls){if(ctrls[0]){(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrls[0],$sniffer,$browser,$filter,$parse);}}}};}];var CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/;var ngValueDirective=function(){return{restrict:'A',priority:100,compile:function(tpl,tplAttr){if(CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)){return function ngValueConstantLink(scope,elm,attr){attr.$set('value',scope.$eval(attr.ngValue));};}else{return function ngValueLink(scope,elm,attr){scope.$watch(attr.ngValue,function valueWatchAction(value){attr.$set('value',value);});};}}};};var ngBindDirective=['$compile',function($compile){return{restrict:'AC',compile:function ngBindCompile(templateElement){$compile.$$addBindingClass(templateElement);return function ngBindLink(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBind);element=element[0];scope.$watch(attr.ngBind,function ngBindWatchAction(value){element.textContent=value===undefined?'':value;});};}};}];var ngBindTemplateDirective=['$interpolate','$compile',function($interpolate,$compile){return{compile:function ngBindTemplateCompile(templateElement){$compile.$$addBindingClass(templateElement);return function ngBindTemplateLink(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));$compile.$$addBindingInfo(element,interpolateFn.expressions);element=element[0];attr.$observe('ngBindTemplate',function(value){element.textContent=value===undefined?'':value;});};}};}];var ngBindHtmlDirective=['$sce','$parse','$compile',function($sce,$parse,$compile){return{restrict:'A',compile:function ngBindHtmlCompile(tElement,tAttrs){var ngBindHtmlGetter=$parse(tAttrs.ngBindHtml);var ngBindHtmlWatch=$parse(tAttrs.ngBindHtml,function getStringValue(value){return(value||'').toString();});$compile.$$addBindingClass(tElement);return function ngBindHtmlLink(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBindHtml);scope.$watch(ngBindHtmlWatch,function ngBindHtmlWatchAction(){element.html($sce.getTrustedHtml(ngBindHtmlGetter(scope))||'');});};}};}];var ngChangeDirective=valueFn({restrict:'A',require:'ngModel',link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange);});}});function classDirective(name,selector){name='ngClass'+name;return['$animate',function($animate){return{restrict:'AC',link:function(scope,element,attr){var oldVal;scope.$watch(attr[name],ngClassWatchAction,true);attr.$observe('class',function(value){ngClassWatchAction(scope.$eval(attr[name]));});if(name!=='ngClass'){scope.$watch('$index',function($index,old$index){var mod=$index&1;if(mod!==(old$index&1)){var classes=arrayClasses(scope.$eval(attr[name]));mod===selector?addClasses(classes):removeClasses(classes);}});}
function addClasses(classes){var newClasses=digestClassCounts(classes,1);attr.$addClass(newClasses);}
function removeClasses(classes){var newClasses=digestClassCounts(classes,-1);attr.$removeClass(newClasses);}
function digestClassCounts(classes,count){var classCounts=element.data('$classCounts')||{};var classesToUpdate=[];forEach(classes,function(className){if(count>0||classCounts[className]){classCounts[className]=(classCounts[className]||0)+count;if(classCounts[className]===+(count>0)){classesToUpdate.push(className);}}});element.data('$classCounts',classCounts);return classesToUpdate.join(' ');}
function updateClasses(oldClasses,newClasses){var toAdd=arrayDifference(newClasses,oldClasses);var toRemove=arrayDifference(oldClasses,newClasses);toAdd=digestClassCounts(toAdd,1);toRemove=digestClassCounts(toRemove,-1);if(toAdd&&toAdd.length){$animate.addClass(element,toAdd);}
if(toRemove&&toRemove.length){$animate.removeClass(element,toRemove);}}
function ngClassWatchAction(newVal){if(selector===true||scope.$index%2===selector){var newClasses=arrayClasses(newVal||[]);if(!oldVal){addClasses(newClasses);}else if(!equals(newVal,oldVal)){var oldClasses=arrayClasses(oldVal);updateClasses(oldClasses,newClasses);}}
oldVal=shallowCopy(newVal);}}};function arrayDifference(tokens1,tokens2){var values=[];outer:for(var i=0;i<tokens1.length;i++){var token=tokens1[i];for(var j=0;j<tokens2.length;j++){if(token==tokens2[j])continue outer;}
values.push(token);}
return values;}
function arrayClasses(classVal){if(isArray(classVal)){return classVal;}else if(isString(classVal)){return classVal.split(' ');}else if(isObject(classVal)){var classes=[];forEach(classVal,function(v,k){if(v){classes=classes.concat(k.split(' '));}});return classes;}
return classVal;}}];}
var ngClassDirective=classDirective('',true);var ngClassOddDirective=classDirective('Odd',0);var ngClassEvenDirective=classDirective('Even',1);var ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set('ngCloak',undefined);element.removeClass('ng-cloak');}});var ngControllerDirective=[function(){return{restrict:'A',scope:true,controller:'@',priority:500};}];var ngEventDirectives={};var forceAsyncEvents={'blur':true,'focus':true};forEach('click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste'.split(' '),function(eventName){var directiveName=directiveNormalize('ng-'+eventName);ngEventDirectives[directiveName]=['$parse','$rootScope',function($parse,$rootScope){return{restrict:'A',compile:function($element,attr){var fn=$parse(attr[directiveName],null,true);return function ngEventHandler(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,{$event:event});};if(forceAsyncEvents[eventName]&&$rootScope.$$phase){scope.$evalAsync(callback);}else{scope.$apply(callback);}});};}};}];});var ngIfDirective=['$animate',function($animate){return{multiElement:true,transclude:'element',priority:600,terminal:true,restrict:'A',$$tlb:true,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function ngIfWatchAction(value){if(value){if(!childScope){$transclude(function(clone,newScope){childScope=newScope;clone[clone.length++]=document.createComment(' end ngIf: '+$attr.ngIf+' ');block={clone:clone};$animate.enter(clone,$element.parent(),$element);});}}else{if(previousElements){previousElements.remove();previousElements=null;}
if(childScope){childScope.$destroy();childScope=null;}
if(block){previousElements=getBlockNodes(block.clone);$animate.leave(previousElements).then(function(){previousElements=null;});block=null;}}});}};}];var ngIncludeDirective=['$templateRequest','$anchorScroll','$animate','$sce',function($templateRequest,$anchorScroll,$animate,$sce){return{restrict:'ECA',priority:400,terminal:true,transclude:'element',controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||'',autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var changeCounter=0,currentScope,previousElement,currentElement;var cleanupLastIncludeContent=function(){if(previousElement){previousElement.remove();previousElement=null;}
if(currentScope){currentScope.$destroy();currentScope=null;}
if(currentElement){$animate.leave(currentElement).then(function(){previousElement=null;});previousElement=currentElement;currentElement=null;}};scope.$watch($sce.parseAsResourceUrl(srcExp),function ngIncludeWatchAction(src){var afterAnimation=function(){if(isDefined(autoScrollExp)&&(!autoScrollExp||scope.$eval(autoScrollExp))){$anchorScroll();}};var thisChangeId=++changeCounter;if(src){$templateRequest(src,true).then(function(response){if(thisChangeId!==changeCounter)return;var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent();$animate.enter(clone,null,$element).then(afterAnimation);});currentScope=newScope;currentElement=clone;currentScope.$emit('$includeContentLoaded',src);scope.$eval(onloadExp);},function(){if(thisChangeId===changeCounter){cleanupLastIncludeContent();scope.$emit('$includeContentError',src);}});scope.$emit('$includeContentRequested',src);}else{cleanupLastIncludeContent();ctrl.template=null;}});};}};}];var ngIncludeFillContentDirective=['$compile',function($compile){return{restrict:'ECA',priority:-400,require:'ngInclude',link:function(scope,$element,$attr,ctrl){if(/SVG/.test($element[0].toString())){$element.empty();$compile(jqLiteBuildFragment(ctrl.template,document).childNodes)(scope,function namespaceAdaptedClone(clone){$element.append(clone);},{futureParentElement:$element});return;}
$element.html(ctrl.template);$compile($element.contents())(scope);}};}];var ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit);}};}});var ngListDirective=function(){return{restrict:'A',priority:100,require:'ngModel',link:function(scope,element,attr,ctrl){var ngList=element.attr(attr.$attr.ngList)||', ';var trimValues=attr.ngTrim!=='false';var separator=trimValues?trim(ngList):ngList;var parse=function(viewValue){if(isUndefined(viewValue))return;var list=[];if(viewValue){forEach(viewValue.split(separator),function(value){if(value)list.push(trimValues?trim(value):value);});}
return list;};ctrl.$parsers.push(parse);ctrl.$formatters.push(function(value){if(isArray(value)){return value.join(ngList);}
return undefined;});ctrl.$isEmpty=function(value){return!value||!value.length;};}};};var VALID_CLASS='ng-valid',INVALID_CLASS='ng-invalid',PRISTINE_CLASS='ng-pristine',DIRTY_CLASS='ng-dirty',UNTOUCHED_CLASS='ng-untouched',TOUCHED_CLASS='ng-touched',PENDING_CLASS='ng-pending';var $ngModelMinErr=new minErr('ngModel');var NgModelController=['$scope','$exceptionHandler','$attrs','$element','$parse','$animate','$timeout','$rootScope','$q','$interpolate',function($scope,$exceptionHandler,$attr,$element,$parse,$animate,$timeout,$rootScope,$q,$interpolate){this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$$rawModelValue=undefined;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=true;this.$touched=false;this.$pristine=true;this.$dirty=false;this.$valid=true;this.$invalid=false;this.$error={};this.$$success={};this.$pending=undefined;this.$name=$interpolate($attr.name||'',false)($scope);var parsedNgModel=$parse($attr.ngModel),parsedNgModelAssign=parsedNgModel.assign,ngModelGet=parsedNgModel,ngModelSet=parsedNgModelAssign,pendingDebounce=null,parserValid,ctrl=this;this.$$setOptions=function(options){ctrl.$options=options;if(options&&options.getterSetter){var invokeModelGetter=$parse($attr.ngModel+'()'),invokeModelSetter=$parse($attr.ngModel+'($$$p)');ngModelGet=function($scope){var modelValue=parsedNgModel($scope);if(isFunction(modelValue)){modelValue=invokeModelGetter($scope);}
return modelValue;};ngModelSet=function($scope,newValue){if(isFunction(parsedNgModel($scope))){invokeModelSetter($scope,{$$$p:ctrl.$modelValue});}else{parsedNgModelAssign($scope,ctrl.$modelValue);}};}else if(!parsedNgModel.assign){throw $ngModelMinErr('nonassign',"Expression '{0}' is non-assignable. Element: {1}",$attr.ngModel,startingTag($element));}};this.$render=noop;this.$isEmpty=function(value){return isUndefined(value)||value===''||value===null||value!==value;};var parentForm=$element.inheritedData('$formController')||nullFormCtrl,currentValidationRunId=0;addSetValidityMethod({ctrl:this,$element:$element,set:function(object,property){object[property]=true;},unset:function(object,property){delete object[property];},parentForm:parentForm,$animate:$animate});this.$setPristine=function(){ctrl.$dirty=false;ctrl.$pristine=true;$animate.removeClass($element,DIRTY_CLASS);$animate.addClass($element,PRISTINE_CLASS);};this.$setDirty=function(){ctrl.$dirty=true;ctrl.$pristine=false;$animate.removeClass($element,PRISTINE_CLASS);$animate.addClass($element,DIRTY_CLASS);parentForm.$setDirty();};this.$setUntouched=function(){ctrl.$touched=false;ctrl.$untouched=true;$animate.setClass($element,UNTOUCHED_CLASS,TOUCHED_CLASS);};this.$setTouched=function(){ctrl.$touched=true;ctrl.$untouched=false;$animate.setClass($element,TOUCHED_CLASS,UNTOUCHED_CLASS);};this.$rollbackViewValue=function(){$timeout.cancel(pendingDebounce);ctrl.$viewValue=ctrl.$$lastCommittedViewValue;ctrl.$render();};this.$validate=function(){if(isNumber(ctrl.$modelValue)&&isNaN(ctrl.$modelValue)){return;}
var viewValue=ctrl.$$lastCommittedViewValue;var modelValue=ctrl.$$rawModelValue;var prevValid=ctrl.$valid;var prevModelValue=ctrl.$modelValue;var allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$runValidators(modelValue,viewValue,function(allValid){if(!allowInvalid&&prevValid!==allValid){ctrl.$modelValue=allValid?modelValue:undefined;if(ctrl.$modelValue!==prevModelValue){ctrl.$$writeModelToScope();}}});};this.$$runValidators=function(modelValue,viewValue,doneCallback){currentValidationRunId++;var localValidationRunId=currentValidationRunId;if(!processParseErrors()){validationDone(false);return;}
if(!processSyncValidators()){validationDone(false);return;}
processAsyncValidators();function processParseErrors(){var errorKey=ctrl.$$parserName||'parse';if(parserValid===undefined){setValidity(errorKey,null);}else{if(!parserValid){forEach(ctrl.$validators,function(v,name){setValidity(name,null);});forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null);});}
setValidity(errorKey,parserValid);return parserValid;}
return true;}
function processSyncValidators(){var syncValidatorsValid=true;forEach(ctrl.$validators,function(validator,name){var result=validator(modelValue,viewValue);syncValidatorsValid=syncValidatorsValid&&result;setValidity(name,result);});if(!syncValidatorsValid){forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null);});return false;}
return true;}
function processAsyncValidators(){var validatorPromises=[];var allValid=true;forEach(ctrl.$asyncValidators,function(validator,name){var promise=validator(modelValue,viewValue);if(!isPromiseLike(promise)){throw $ngModelMinErr("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",promise);}
setValidity(name,undefined);validatorPromises.push(promise.then(function(){setValidity(name,true);},function(error){allValid=false;setValidity(name,false);}));});if(!validatorPromises.length){validationDone(true);}else{$q.all(validatorPromises).then(function(){validationDone(allValid);},noop);}}
function setValidity(name,isValid){if(localValidationRunId===currentValidationRunId){ctrl.$setValidity(name,isValid);}}
function validationDone(allValid){if(localValidationRunId===currentValidationRunId){doneCallback(allValid);}}};this.$commitViewValue=function(){var viewValue=ctrl.$viewValue;$timeout.cancel(pendingDebounce);if(ctrl.$$lastCommittedViewValue===viewValue&&(viewValue!==''||!ctrl.$$hasNativeValidators)){return;}
ctrl.$$lastCommittedViewValue=viewValue;if(ctrl.$pristine){this.$setDirty();}
this.$$parseAndValidate();};this.$$parseAndValidate=function(){var viewValue=ctrl.$$lastCommittedViewValue;var modelValue=viewValue;parserValid=isUndefined(modelValue)?undefined:true;if(parserValid){for(var i=0;i<ctrl.$parsers.length;i++){modelValue=ctrl.$parsers[i](modelValue);if(isUndefined(modelValue)){parserValid=false;break;}}}
if(isNumber(ctrl.$modelValue)&&isNaN(ctrl.$modelValue)){ctrl.$modelValue=ngModelGet($scope);}
var prevModelValue=ctrl.$modelValue;var allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$rawModelValue=modelValue;if(allowInvalid){ctrl.$modelValue=modelValue;writeToModelIfNeeded();}
ctrl.$$runValidators(modelValue,ctrl.$$lastCommittedViewValue,function(allValid){if(!allowInvalid){ctrl.$modelValue=allValid?modelValue:undefined;writeToModelIfNeeded();}});function writeToModelIfNeeded(){if(ctrl.$modelValue!==prevModelValue){ctrl.$$writeModelToScope();}}};this.$$writeModelToScope=function(){ngModelSet($scope,ctrl.$modelValue);forEach(ctrl.$viewChangeListeners,function(listener){try{listener();}catch(e){$exceptionHandler(e);}});};this.$setViewValue=function(value,trigger){ctrl.$viewValue=value;if(!ctrl.$options||ctrl.$options.updateOnDefault){ctrl.$$debounceViewValueCommit(trigger);}};this.$$debounceViewValueCommit=function(trigger){var debounceDelay=0,options=ctrl.$options,debounce;if(options&&isDefined(options.debounce)){debounce=options.debounce;if(isNumber(debounce)){debounceDelay=debounce;}else if(isNumber(debounce[trigger])){debounceDelay=debounce[trigger];}else if(isNumber(debounce['default'])){debounceDelay=debounce['default'];}}
$timeout.cancel(pendingDebounce);if(debounceDelay){pendingDebounce=$timeout(function(){ctrl.$commitViewValue();},debounceDelay);}else if($rootScope.$$phase){ctrl.$commitViewValue();}else{$scope.$apply(function(){ctrl.$commitViewValue();});}};$scope.$watch(function ngModelWatch(){var modelValue=ngModelGet($scope);if(modelValue!==ctrl.$modelValue){ctrl.$modelValue=ctrl.$$rawModelValue=modelValue;parserValid=undefined;var formatters=ctrl.$formatters,idx=formatters.length;var viewValue=modelValue;while(idx--){viewValue=formatters[idx](viewValue);}
if(ctrl.$viewValue!==viewValue){ctrl.$viewValue=ctrl.$$lastCommittedViewValue=viewValue;ctrl.$render();ctrl.$$runValidators(modelValue,viewValue,noop);}}
return modelValue;});}];var ngModelDirective=['$rootScope',function($rootScope){return{restrict:'A',require:['ngModel','^?form','^?ngModelOptions'],controller:NgModelController,priority:1,compile:function ngModelCompile(element){element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS);return{pre:function ngModelPreLink(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||nullFormCtrl;modelCtrl.$$setOptions(ctrls[2]&&ctrls[2].$options);formCtrl.$addControl(modelCtrl);attr.$observe('name',function(newValue){if(modelCtrl.$name!==newValue){formCtrl.$$renameControl(modelCtrl,newValue);}});scope.$on('$destroy',function(){formCtrl.$removeControl(modelCtrl);});},post:function ngModelPostLink(scope,element,attr,ctrls){var modelCtrl=ctrls[0];if(modelCtrl.$options&&modelCtrl.$options.updateOn){element.on(modelCtrl.$options.updateOn,function(ev){modelCtrl.$$debounceViewValueCommit(ev&&ev.type);});}
element.on('blur',function(ev){if(modelCtrl.$touched)return;if($rootScope.$$phase){scope.$evalAsync(modelCtrl.$setTouched);}else{scope.$apply(modelCtrl.$setTouched);}});}};}};}];var DEFAULT_REGEXP=/(\s+|^)default(\s+|$)/;var ngModelOptionsDirective=function(){return{restrict:'A',controller:['$scope','$attrs',function($scope,$attrs){var that=this;this.$options=$scope.$eval($attrs.ngModelOptions);if(this.$options.updateOn!==undefined){this.$options.updateOnDefault=false;this.$options.updateOn=trim(this.$options.updateOn.replace(DEFAULT_REGEXP,function(){that.$options.updateOnDefault=true;return' ';}));}else{this.$options.updateOnDefault=true;}}]};};function addSetValidityMethod(context){var ctrl=context.ctrl,$element=context.$element,classCache={},set=context.set,unset=context.unset,parentForm=context.parentForm,$animate=context.$animate;classCache[INVALID_CLASS]=!(classCache[VALID_CLASS]=$element.hasClass(VALID_CLASS));ctrl.$setValidity=setValidity;function setValidity(validationErrorKey,state,controller){if(state===undefined){createAndSet('$pending',validationErrorKey,controller);}else{unsetAndCleanup('$pending',validationErrorKey,controller);}
if(!isBoolean(state)){unset(ctrl.$error,validationErrorKey,controller);unset(ctrl.$$success,validationErrorKey,controller);}else{if(state){unset(ctrl.$error,validationErrorKey,controller);set(ctrl.$$success,validationErrorKey,controller);}else{set(ctrl.$error,validationErrorKey,controller);unset(ctrl.$$success,validationErrorKey,controller);}}
if(ctrl.$pending){cachedToggleClass(PENDING_CLASS,true);ctrl.$valid=ctrl.$invalid=undefined;toggleValidationCss('',null);}else{cachedToggleClass(PENDING_CLASS,false);ctrl.$valid=isObjectEmpty(ctrl.$error);ctrl.$invalid=!ctrl.$valid;toggleValidationCss('',ctrl.$valid);}
var combinedState;if(ctrl.$pending&&ctrl.$pending[validationErrorKey]){combinedState=undefined;}else if(ctrl.$error[validationErrorKey]){combinedState=false;}else if(ctrl.$$success[validationErrorKey]){combinedState=true;}else{combinedState=null;}
toggleValidationCss(validationErrorKey,combinedState);parentForm.$setValidity(validationErrorKey,combinedState,ctrl);}
function createAndSet(name,value,controller){if(!ctrl[name]){ctrl[name]={};}
set(ctrl[name],value,controller);}
function unsetAndCleanup(name,value,controller){if(ctrl[name]){unset(ctrl[name],value,controller);}
if(isObjectEmpty(ctrl[name])){ctrl[name]=undefined;}}
function cachedToggleClass(className,switchValue){if(switchValue&&!classCache[className]){$animate.addClass($element,className);classCache[className]=true;}else if(!switchValue&&classCache[className]){$animate.removeClass($element,className);classCache[className]=false;}}
function toggleValidationCss(validationErrorKey,isValid){validationErrorKey=validationErrorKey?'-'+snake_case(validationErrorKey,'-'):'';cachedToggleClass(VALID_CLASS+validationErrorKey,isValid===true);cachedToggleClass(INVALID_CLASS+validationErrorKey,isValid===false);}}
function isObjectEmpty(obj){if(obj){for(var prop in obj){return false;}}
return true;}
var ngNonBindableDirective=ngDirective({terminal:true,priority:1000});var ngPluralizeDirective=['$locale','$interpolate',function($locale,$interpolate){var BRACE=/{}/g,IS_WHEN=/^when(Minus)?(.+)$/;return{restrict:'EA',link:function(scope,element,attr){var numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),braceReplacement=startSymbol+numberExp+'-'+offset+endSymbol,watchRemover=angular.noop,lastCount;forEach(attr,function(expression,attributeName){var tmpMatch=IS_WHEN.exec(attributeName);if(tmpMatch){var whenKey=(tmpMatch[1]?'-':'')+lowercase(tmpMatch[2]);whens[whenKey]=element.attr(attr.$attr[attributeName]);}});forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,braceReplacement));});scope.$watch(numberExp,function ngPluralizeWatchAction(newVal){var count=parseFloat(newVal);var countIsNaN=isNaN(count);if(!countIsNaN&&!(count in whens)){count=$locale.pluralCat(count-offset);}
if((count!==lastCount)&&!(countIsNaN&&isNaN(lastCount))){watchRemover();watchRemover=scope.$watch(whensExpFns[count],updateElementText);lastCount=count;}});function updateElementText(newText){element.text(newText||'');}}};}];var ngRepeatDirective=['$parse','$animate',function($parse,$animate){var NG_REMOVED='$$NG_REMOVED';var ngRepeatMinErr=minErr('ngRepeat');var updateScope=function(scope,index,valueIdentifier,value,keyIdentifier,key,arrayLength){scope[valueIdentifier]=value;if(keyIdentifier)scope[keyIdentifier]=key;scope.$index=index;scope.$first=(index===0);scope.$last=(index===(arrayLength-1));scope.$middle=!(scope.$first||scope.$last);scope.$odd=!(scope.$even=(index&1)===0);};var getBlockStart=function(block){return block.clone[0];};var getBlockEnd=function(block){return block.clone[block.clone.length-1];};return{restrict:'A',multiElement:true,transclude:'element',priority:1000,terminal:true,$$tlb:true,compile:function ngRepeatCompile($element,$attr){var expression=$attr.ngRepeat;var ngRepeatEndComment=document.createComment(' end ngRepeat: '+expression+' ');var match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match){throw ngRepeatMinErr('iexp',"Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);}
var lhs=match[1];var rhs=match[2];var aliasAs=match[3];var trackByExp=match[4];match=lhs.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!match){throw ngRepeatMinErr('iidexp',"'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs);}
var valueIdentifier=match[3]||match[1];var keyIdentifier=match[2];if(aliasAs&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(aliasAs))){throw ngRepeatMinErr('badident',"alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",aliasAs);}
var trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn;var hashFnLocals={$id:hashKey};if(trackByExp){trackByExpGetter=$parse(trackByExp);}else{trackByIdArrayFn=function(key,value){return hashKey(value);};trackByIdObjFn=function(key){return key;};}
return function ngRepeatLink($scope,$element,$attr,ctrl,$transclude){if(trackByExpGetter){trackByIdExpFn=function(key,value,index){if(keyIdentifier)hashFnLocals[keyIdentifier]=key;hashFnLocals[valueIdentifier]=value;hashFnLocals.$index=index;return trackByExpGetter($scope,hashFnLocals);};}
var lastBlockMap=createMap();$scope.$watchCollection(rhs,function ngRepeatAction(collection){var index,length,previousNode=$element[0],nextNode,nextBlockMap=createMap(),collectionLength,key,value,trackById,trackByIdFn,collectionKeys,block,nextBlockOrder,elementsToRemove;if(aliasAs){$scope[aliasAs]=collection;}
if(isArrayLike(collection)){collectionKeys=collection;trackByIdFn=trackByIdExpFn||trackByIdArrayFn;}else{trackByIdFn=trackByIdExpFn||trackByIdObjFn;collectionKeys=[];for(var itemKey in collection){if(collection.hasOwnProperty(itemKey)&&itemKey.charAt(0)!='$'){collectionKeys.push(itemKey);}}
collectionKeys.sort();}
collectionLength=collectionKeys.length;nextBlockOrder=new Array(collectionLength);for(index=0;index<collectionLength;index++){key=(collection===collectionKeys)?index:collectionKeys[index];value=collection[key];trackById=trackByIdFn(key,value,index);if(lastBlockMap[trackById]){block=lastBlockMap[trackById];delete lastBlockMap[trackById];nextBlockMap[trackById]=block;nextBlockOrder[index]=block;}else if(nextBlockMap[trackById]){forEach(nextBlockOrder,function(block){if(block&&block.scope)lastBlockMap[block.id]=block;});throw ngRepeatMinErr('dupes',"Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,value);}else{nextBlockOrder[index]={id:trackById,scope:undefined,clone:undefined};nextBlockMap[trackById]=true;}}
for(var blockKey in lastBlockMap){block=lastBlockMap[blockKey];elementsToRemove=getBlockNodes(block.clone);$animate.leave(elementsToRemove);if(elementsToRemove[0].parentNode){for(index=0,length=elementsToRemove.length;index<length;index++){elementsToRemove[index][NG_REMOVED]=true;}}
block.scope.$destroy();}
for(index=0;index<collectionLength;index++){key=(collection===collectionKeys)?index:collectionKeys[index];value=collection[key];block=nextBlockOrder[index];if(block.scope){nextNode=previousNode;do{nextNode=nextNode.nextSibling;}while(nextNode&&nextNode[NG_REMOVED]);if(getBlockStart(block)!=nextNode){$animate.move(getBlockNodes(block.clone),null,jqLite(previousNode));}
previousNode=getBlockEnd(block);updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength);}else{$transclude(function ngRepeatTransclude(clone,scope){block.scope=scope;var endNode=ngRepeatEndComment.cloneNode(false);clone[clone.length++]=endNode;$animate.enter(clone,null,jqLite(previousNode));previousNode=endNode;block.clone=clone;nextBlockMap[block.id]=block;updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength);});}}
lastBlockMap=nextBlockMap;});};}};}];var NG_HIDE_CLASS='ng-hide';var NG_HIDE_IN_PROGRESS_CLASS='ng-hide-animate';var ngShowDirective=['$animate',function($animate){return{restrict:'A',multiElement:true,link:function(scope,element,attr){scope.$watch(attr.ngShow,function ngShowWatchAction(value){$animate[value?'removeClass':'addClass'](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS});});}};}];var ngHideDirective=['$animate',function($animate){return{restrict:'A',multiElement:true,link:function(scope,element,attr){scope.$watch(attr.ngHide,function ngHideWatchAction(value){$animate[value?'addClass':'removeClass'](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS});});}};}];var ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watchCollection(attr.ngStyle,function ngStyleWatchAction(newStyles,oldStyles){if(oldStyles&&(newStyles!==oldStyles)){forEach(oldStyles,function(val,style){element.css(style,'');});}
if(newStyles)element.css(newStyles);});});var ngSwitchDirective=['$animate',function($animate){return{restrict:'EA',require:'ngSwitch',controller:['$scope',function ngSwitchController(){this.cases={};}],link:function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousLeaveAnimations=[],selectedScopes=[];var spliceFactory=function(array,index){return function(){array.splice(index,1);};};scope.$watch(watchExpr,function ngSwitchWatchAction(value){var i,ii;for(i=0,ii=previousLeaveAnimations.length;i<ii;++i){$animate.cancel(previousLeaveAnimations[i]);}
previousLeaveAnimations.length=0;for(i=0,ii=selectedScopes.length;i<ii;++i){var selected=getBlockNodes(selectedElements[i].clone);selectedScopes[i].$destroy();var promise=previousLeaveAnimations[i]=$animate.leave(selected);promise.then(spliceFactory(previousLeaveAnimations,i));}
selectedElements.length=0;selectedScopes.length=0;if((selectedTranscludes=ngSwitchController.cases['!'+value]||ngSwitchController.cases['?'])){forEach(selectedTranscludes,function(selectedTransclude){selectedTransclude.transclude(function(caseElement,selectedScope){selectedScopes.push(selectedScope);var anchor=selectedTransclude.element;caseElement[caseElement.length++]=document.createComment(' end ngSwitchWhen: ');var block={clone:caseElement};selectedElements.push(block);$animate.enter(caseElement,anchor.parent(),anchor);});});}});}};}];var ngSwitchWhenDirective=ngDirective({transclude:'element',priority:1200,require:'^ngSwitch',multiElement:true,link:function(scope,element,attrs,ctrl,$transclude){ctrl.cases['!'+attrs.ngSwitchWhen]=(ctrl.cases['!'+attrs.ngSwitchWhen]||[]);ctrl.cases['!'+attrs.ngSwitchWhen].push({transclude:$transclude,element:element});}});var ngSwitchDefaultDirective=ngDirective({transclude:'element',priority:1200,require:'^ngSwitch',multiElement:true,link:function(scope,element,attr,ctrl,$transclude){ctrl.cases['?']=(ctrl.cases['?']||[]);ctrl.cases['?'].push({transclude:$transclude,element:element});}});var ngTranscludeDirective=ngDirective({restrict:'EAC',link:function($scope,$element,$attrs,controller,$transclude){if(!$transclude){throw minErr('ngTransclude')('orphan','Illegal use of ngTransclude directive in the template! '+'No parent directive that requires a transclusion found. '+'Element: {0}',startingTag($element));}
$transclude(function(clone){$element.empty();$element.append(clone);});}});var scriptDirective=['$templateCache',function($templateCache){return{restrict:'E',terminal:true,compile:function(element,attr){if(attr.type=='text/ng-template'){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text);}}};}];var ngOptionsMinErr=minErr('ngOptions');var ngOptionsDirective=valueFn({restrict:'A',terminal:true});var selectDirective=['$compile','$parse',function($compile,$parse){var NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,nullModelCtrl={$setViewValue:noop};return{restrict:'E',require:['select','?ngModel'],controller:['$element','$scope','$attrs',function($element,$scope,$attrs){var self=this,optionsMap={},ngModelCtrl=nullModelCtrl,nullOption,unknownOption;self.databound=$attrs.ngModel;self.init=function(ngModelCtrl_,nullOption_,unknownOption_){ngModelCtrl=ngModelCtrl_;nullOption=nullOption_;unknownOption=unknownOption_;};self.addOption=function(value,element){assertNotHasOwnProperty(value,'"option value"');optionsMap[value]=true;if(ngModelCtrl.$viewValue==value){$element.val(value);if(unknownOption.parent())unknownOption.remove();}
if(element&&element[0].hasAttribute('selected')){element[0].selected=true;}};self.removeOption=function(value){if(this.hasOption(value)){delete optionsMap[value];if(ngModelCtrl.$viewValue===value){this.renderUnknownOption(value);}}};self.renderUnknownOption=function(val){var unknownVal='? '+hashKey(val)+' ?';unknownOption.val(unknownVal);$element.prepend(unknownOption);$element.val(unknownVal);unknownOption.prop('selected',true);};self.hasOption=function(value){return optionsMap.hasOwnProperty(value);};$scope.$on('$destroy',function(){self.renderUnknownOption=noop;});}],link:function(scope,element,attr,ctrls){if(!ctrls[1])return;var selectCtrl=ctrls[0],ngModelCtrl=ctrls[1],multiple=attr.multiple,optionsExp=attr.ngOptions,nullOption=false,emptyOption,renderScheduled=false,optionTemplate=jqLite(document.createElement('option')),optGroupTemplate=jqLite(document.createElement('optgroup')),unknownOption=optionTemplate.clone();for(var i=0,children=element.children(),ii=children.length;i<ii;i++){if(children[i].value===''){emptyOption=nullOption=children.eq(i);break;}}
selectCtrl.init(ngModelCtrl,nullOption,unknownOption);if(multiple){ngModelCtrl.$isEmpty=function(value){return!value||value.length===0;};}
if(optionsExp)setupAsOptions(scope,element,ngModelCtrl);else if(multiple)setupAsMultiple(scope,element,ngModelCtrl);else setupAsSingle(scope,element,ngModelCtrl,selectCtrl);function setupAsSingle(scope,selectElement,ngModelCtrl,selectCtrl){ngModelCtrl.$render=function(){var viewValue=ngModelCtrl.$viewValue;if(selectCtrl.hasOption(viewValue)){if(unknownOption.parent())unknownOption.remove();selectElement.val(viewValue);if(viewValue==='')emptyOption.prop('selected',true);}else{if(isUndefined(viewValue)&&emptyOption){selectElement.val('');}else{selectCtrl.renderUnknownOption(viewValue);}}};selectElement.on('change',function(){scope.$apply(function(){if(unknownOption.parent())unknownOption.remove();ngModelCtrl.$setViewValue(selectElement.val());});});}
function setupAsMultiple(scope,selectElement,ctrl){var lastView;ctrl.$render=function(){var items=new HashMap(ctrl.$viewValue);forEach(selectElement.find('option'),function(option){option.selected=isDefined(items.get(option.value));});};scope.$watch(function selectMultipleWatch(){if(!equals(lastView,ctrl.$viewValue)){lastView=shallowCopy(ctrl.$viewValue);ctrl.$render();}});selectElement.on('change',function(){scope.$apply(function(){var array=[];forEach(selectElement.find('option'),function(option){if(option.selected){array.push(option.value);}});ctrl.$setViewValue(array);});});}
function setupAsOptions(scope,selectElement,ctrl){var match;if(!(match=optionsExp.match(NG_OPTIONS_REGEXP))){throw ngOptionsMinErr('iexp',"Expected expression in form of "+"'_select_ (as _label_)? for (_key_,)?_value_ in _collection_'"+" but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement));}
var displayFn=$parse(match[2]||match[1]),valueName=match[4]||match[6],selectAs=/ as /.test(match[0])&&match[1],selectAsFn=selectAs?$parse(selectAs):null,keyName=match[5],groupByFn=$parse(match[3]||''),valueFn=$parse(match[2]?match[1]:valueName),valuesFn=$parse(match[7]),track=match[8],trackFn=track?$parse(match[8]):null,trackKeysCache={},optionGroupsCache=[[{element:selectElement,label:''}]],locals={};if(nullOption){$compile(nullOption)(scope);nullOption.removeClass('ng-scope');nullOption.remove();}
selectElement.empty();selectElement.on('change',selectionChanged);ctrl.$render=render;scope.$watchCollection(valuesFn,scheduleRendering);scope.$watchCollection(getLabels,scheduleRendering);if(multiple){scope.$watchCollection(function(){return ctrl.$modelValue;},scheduleRendering);}
function callExpression(exprFn,key,value){locals[valueName]=value;if(keyName)locals[keyName]=key;return exprFn(scope,locals);}
function selectionChanged(){scope.$apply(function(){var collection=valuesFn(scope)||[];var viewValue;if(multiple){viewValue=[];forEach(selectElement.val(),function(selectedKey){selectedKey=trackFn?trackKeysCache[selectedKey]:selectedKey;viewValue.push(getViewValue(selectedKey,collection[selectedKey]));});}else{var selectedKey=trackFn?trackKeysCache[selectElement.val()]:selectElement.val();viewValue=getViewValue(selectedKey,collection[selectedKey]);}
ctrl.$setViewValue(viewValue);render();});}
function getViewValue(key,value){if(key==='?'){return undefined;}else if(key===''){return null;}else{var viewValueFn=selectAsFn?selectAsFn:valueFn;return callExpression(viewValueFn,key,value);}}
function getLabels(){var values=valuesFn(scope);var toDisplay;if(values&&isArray(values)){toDisplay=new Array(values.length);for(var i=0,ii=values.length;i<ii;i++){toDisplay[i]=callExpression(displayFn,i,values[i]);}
return toDisplay;}else if(values){toDisplay={};for(var prop in values){if(values.hasOwnProperty(prop)){toDisplay[prop]=callExpression(displayFn,prop,values[prop]);}}}
return toDisplay;}
function createIsSelectedFn(viewValue){var selectedSet;if(multiple){if(trackFn&&isArray(viewValue)){selectedSet=new HashMap([]);for(var trackIndex=0;trackIndex<viewValue.length;trackIndex++){selectedSet.put(callExpression(trackFn,null,viewValue[trackIndex]),true);}}else{selectedSet=new HashMap(viewValue);}}else if(trackFn){viewValue=callExpression(trackFn,null,viewValue);}
return function isSelected(key,value){var compareValueFn;if(trackFn){compareValueFn=trackFn;}else if(selectAsFn){compareValueFn=selectAsFn;}else{compareValueFn=valueFn;}
if(multiple){return isDefined(selectedSet.remove(callExpression(compareValueFn,key,value)));}else{return viewValue===callExpression(compareValueFn,key,value);}};}
function scheduleRendering(){if(!renderScheduled){scope.$$postDigest(render);renderScheduled=true;}}
function updateLabelMap(labelMap,label,added){labelMap[label]=labelMap[label]||0;labelMap[label]+=(added?1:-1);}
function render(){renderScheduled=false;var optionGroups={'':[]},optionGroupNames=[''],optionGroupName,optionGroup,option,existingParent,existingOptions,existingOption,viewValue=ctrl.$viewValue,values=valuesFn(scope)||[],keys=keyName?sortedKeys(values):values,key,value,groupLength,length,groupIndex,index,labelMap={},selected,isSelected=createIsSelectedFn(viewValue),anySelected=false,lastElement,element,label,optionId;trackKeysCache={};for(index=0;length=keys.length,index<length;index++){key=index;if(keyName){key=keys[index];if(key.charAt(0)==='$')continue;}
value=values[key];optionGroupName=callExpression(groupByFn,key,value)||'';if(!(optionGroup=optionGroups[optionGroupName])){optionGroup=optionGroups[optionGroupName]=[];optionGroupNames.push(optionGroupName);}
selected=isSelected(key,value);anySelected=anySelected||selected;label=callExpression(displayFn,key,value);label=isDefined(label)?label:'';optionId=trackFn?trackFn(scope,locals):(keyName?keys[index]:index);if(trackFn){trackKeysCache[optionId]=key;}
optionGroup.push({id:optionId,label:label,selected:selected});}
if(!multiple){if(nullOption||viewValue===null){optionGroups[''].unshift({id:'',label:'',selected:!anySelected});}else if(!anySelected){optionGroups[''].unshift({id:'?',label:'',selected:true});}}
for(groupIndex=0,groupLength=optionGroupNames.length;groupIndex<groupLength;groupIndex++){optionGroupName=optionGroupNames[groupIndex];optionGroup=optionGroups[optionGroupName];if(optionGroupsCache.length<=groupIndex){existingParent={element:optGroupTemplate.clone().attr('label',optionGroupName),label:optionGroup.label};existingOptions=[existingParent];optionGroupsCache.push(existingOptions);selectElement.append(existingParent.element);}else{existingOptions=optionGroupsCache[groupIndex];existingParent=existingOptions[0];if(existingParent.label!=optionGroupName){existingParent.element.attr('label',existingParent.label=optionGroupName);}}
lastElement=null;for(index=0,length=optionGroup.length;index<length;index++){option=optionGroup[index];if((existingOption=existingOptions[index+1])){lastElement=existingOption.element;if(existingOption.label!==option.label){updateLabelMap(labelMap,existingOption.label,false);updateLabelMap(labelMap,option.label,true);lastElement.text(existingOption.label=option.label);lastElement.prop('label',existingOption.label);}
if(existingOption.id!==option.id){lastElement.val(existingOption.id=option.id);}
if(lastElement[0].selected!==option.selected){lastElement.prop('selected',(existingOption.selected=option.selected));if(msie){lastElement.prop('selected',existingOption.selected);}}}else{if(option.id===''&&nullOption){element=nullOption;}else{(element=optionTemplate.clone()).val(option.id).prop('selected',option.selected).attr('selected',option.selected).prop('label',option.label).text(option.label);}
existingOptions.push(existingOption={element:element,label:option.label,id:option.id,selected:option.selected});updateLabelMap(labelMap,option.label,true);if(lastElement){lastElement.after(element);}else{existingParent.element.append(element);}
lastElement=element;}}
index++;while(existingOptions.length>index){option=existingOptions.pop();updateLabelMap(labelMap,option.label,false);option.element.remove();}}
while(optionGroupsCache.length>groupIndex){optionGroup=optionGroupsCache.pop();for(index=1;index<optionGroup.length;++index){updateLabelMap(labelMap,optionGroup[index].label,false);}
optionGroup[0].element.remove();}
forEach(labelMap,function(count,label){if(count>0){selectCtrl.addOption(label);}else if(count<0){selectCtrl.removeOption(label);}});}}}};}];var optionDirective=['$interpolate',function($interpolate){var nullSelectCtrl={addOption:noop,removeOption:noop};return{restrict:'E',priority:100,compile:function(element,attr){if(isUndefined(attr.value)){var interpolateFn=$interpolate(element.text(),true);if(!interpolateFn){attr.$set('value',element.text());}}
return function(scope,element,attr){var selectCtrlName='$selectController',parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);if(!selectCtrl||!selectCtrl.databound){selectCtrl=nullSelectCtrl;}
if(interpolateFn){scope.$watch(interpolateFn,function interpolateWatchAction(newVal,oldVal){attr.$set('value',newVal);if(oldVal!==newVal){selectCtrl.removeOption(oldVal);}
selectCtrl.addOption(newVal,element);});}else{selectCtrl.addOption(attr.value,element);}
element.on('$destroy',function(){selectCtrl.removeOption(attr.value);});};}};}];var styleDirective=valueFn({restrict:'E',terminal:false});var requiredDirective=function(){return{restrict:'A',require:'?ngModel',link:function(scope,elm,attr,ctrl){if(!ctrl)return;attr.required=true;ctrl.$validators.required=function(modelValue,viewValue){return!attr.required||!ctrl.$isEmpty(viewValue);};attr.$observe('required',function(){ctrl.$validate();});}};};var patternDirective=function(){return{restrict:'A',require:'?ngModel',link:function(scope,elm,attr,ctrl){if(!ctrl)return;var regexp,patternExp=attr.ngPattern||attr.pattern;attr.$observe('pattern',function(regex){if(isString(regex)&&regex.length>0){regex=new RegExp('^'+regex+'$');}
if(regex&&!regex.test){throw minErr('ngPattern')('noregexp','Expected {0} to be a RegExp but was {1}. Element: {2}',patternExp,regex,startingTag(elm));}
regexp=regex||undefined;ctrl.$validate();});ctrl.$validators.pattern=function(value){return ctrl.$isEmpty(value)||isUndefined(regexp)||regexp.test(value);};}};};var maxlengthDirective=function(){return{restrict:'A',require:'?ngModel',link:function(scope,elm,attr,ctrl){if(!ctrl)return;var maxlength=-1;attr.$observe('maxlength',function(value){var intVal=int(value);maxlength=isNaN(intVal)?-1:intVal;ctrl.$validate();});ctrl.$validators.maxlength=function(modelValue,viewValue){return(maxlength<0)||ctrl.$isEmpty(viewValue)||(viewValue.length<=maxlength);};}};};var minlengthDirective=function(){return{restrict:'A',require:'?ngModel',link:function(scope,elm,attr,ctrl){if(!ctrl)return;var minlength=0;attr.$observe('minlength',function(value){minlength=int(value)||0;ctrl.$validate();});ctrl.$validators.minlength=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||viewValue.length>=minlength;};}};};if(window.angular.bootstrap){console.log('WARNING: Tried to load angular more than once.');return;}
bindJQuery();publishExternalAPI(angular);jqLite(document).ready(function(){angularInit(document,bootstrap);});})(window,document);!window.angular.$$csp()&&window.angular.element(document).find('head').prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>');
(function(window,angular,undefined){'use strict';angular.module('ngCookies',['ng']).factory('$cookies',['$rootScope','$browser',function($rootScope,$browser){var cookies={},lastCookies={},lastBrowserCookies,runEval=false,copy=angular.copy,isUndefined=angular.isUndefined;$browser.addPollFn(function(){var currentCookies=$browser.cookies();if(lastBrowserCookies!=currentCookies){lastBrowserCookies=currentCookies;copy(currentCookies,lastCookies);copy(currentCookies,cookies);if(runEval)$rootScope.$apply();}})();runEval=true;$rootScope.$watch(push);return cookies;function push(){var name,value,browserCookies,updated;for(name in lastCookies){if(isUndefined(cookies[name])){$browser.cookies(name,undefined);}}
for(name in cookies){value=cookies[name];if(!angular.isString(value)){value=''+value;cookies[name]=value;}
if(value!==lastCookies[name]){$browser.cookies(name,value);updated=true;}}
if(updated){updated=false;browserCookies=$browser.cookies();for(name in cookies){if(cookies[name]!==browserCookies[name]){if(isUndefined(browserCookies[name])){delete cookies[name];}else{cookies[name]=browserCookies[name];}
updated=true;}}}}}]).factory('$cookieStore',['$cookies',function($cookies){return{get:function(key){var value=$cookies[key];return value?angular.fromJson(value):value;},put:function(key,value){$cookies[key]=angular.toJson(value);},remove:function(key){delete $cookies[key];}};}]);})(window,window.angular);
(function(n,h,p){'use strict';function E(a){var e=[];r(e,h.noop).chars(a);return e.join("")}function g(a){var e={};a=a.split(",");var d;for(d=0;d<a.length;d++)e[a[d]]=!0;return e}function F(a,e){function d(a,b,d,l){b=h.lowercase(b);if(s[b])for(;f.last()&&t[f.last()];)c("",f.last());u[b]&&f.last()==b&&c("",b);(l=v[b]||!!l)||f.push(b);var m={};d.replace(G,function(a,b,e,c,d){m[b]=q(e||c||d||"")});e.start&&e.start(b,m,l)}function c(a,b){var c=0,d;if(b=h.lowercase(b))for(c=f.length-1;0<=c&&f[c]!=b;c--);if(0<=c){for(d=f.length-1;d>=c;d--)e.end&&e.end(f[d]);f.length=c}}"string"!==typeof a&&(a=null===a||"undefined"===typeof a?"":""+a);var b,k,f=[],m=a,l;for(f.last=function(){return f[f.length-1]};a;){l="";k=!0;if(f.last()&&w[f.last()])a=a.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+f.last()+"[^>]*>","i"),function(a,b){b=b.replace(H,"$1").replace(I,"$1");e.chars&&e.chars(q(b));return""}),c("",f.last());else{if(0===a.indexOf("\x3c!--"))b=a.indexOf("--",4),0<=b&&a.lastIndexOf("--\x3e",b)===b&&(e.comment&&e.comment(a.substring(4,b)),a=a.substring(b+3),k=!1);else if(x.test(a)){if(b=a.match(x))a=a.replace(b[0],""),k=!1}else if(J.test(a)){if(b=a.match(y))a=a.substring(b[0].length),b[0].replace(y,c),k=!1}else K.test(a)&&((b=a.match(z))?(b[4]&&(a=a.substring(b[0].length),b[0].replace(z,d)),k=!1):(l+="<",a=a.substring(1)));k&&(b=a.indexOf("<"),l+=0>b?a:a.substring(0,b),a=0>b?"":a.substring(b),e.chars&&e.chars(q(l)))}if(a==m)throw L("badparse",a);m=a}c()}function q(a){if(!a)return"";A.innerHTML=a.replace(/</g,"&lt;");return A.textContent}function B(a){return a.replace(/&/g,"&amp;").replace(M,function(a){var d=a.charCodeAt(0);a=a.charCodeAt(1);return"&#"+(1024*(d-55296)+(a-56320)+65536)+";"}).replace(N,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(a,e){var d=!1,c=h.bind(a,a.push);return{start:function(a,k,f){a=h.lowercase(a);!d&&w[a]&&(d=a);d||!0!==C[a]||(c("<"),c(a),h.forEach(k,function(d,f){var k=h.lowercase(f),g="img"===a&&"src"===k||"background"===k;!0!==O[k]||!0===D[k]&&!e(d,g)||(c(" "),c(f),c('="'),c(B(d)),c('"'))}),c(f?"/>":">"))},end:function(a){a=h.lowercase(a);d||!0!==C[a]||(c("</"),c(a),c(">"));a==d&&(d=!1)},chars:function(a){d||c(B(a))}}}var L=h.$$minErr("$sanitize"),z=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,y=/^<\/\s*([\w:-]+)[^>]*>/,G=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,K=/^</,J=/^<\//,H=/\x3c!--(.*?)--\x3e/g,x=/<!DOCTYPE([^>]*?)>/i,I=/<!\[CDATA\[(.*?)]]\x3e/g,M=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,N=/([^\#-~| |!])/g,v=g("area,br,col,hr,img,wbr");n=g("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr");p=g("rp,rt");var u=h.extend({},p,n),s=h.extend({},n,g("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),t=h.extend({},p,g("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));n=g("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var w=g("script,style"),C=h.extend({},v,s,t,u,n),D=g("background,cite,href,longdesc,src,usemap,xlink:href");n=g("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width");p=g("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");var O=h.extend({},D,p,n),A=document.createElement("pre");h.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(a){return function(e){var d=[];F(e,r(d,function(c,b){return!/^unsafe/.test(a(c,b))}));return d.join("")}}]});h.module("ngSanitize").filter("linky",["$sanitize",function(a){var e=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/,d=/^mailto:/;return function(c,b){function k(a){a&&g.push(E(a))}function f(a,c){g.push("<a ");h.isDefined(b)&&g.push('target="',b,'" ');g.push('href="',a.replace(/"/g,"&quot;"),'">');k(c);g.push("</a>")}if(!c)return c;for(var m,l=c,g=[],n,p;m=l.match(e);)n=m[0],m[2]||m[4]||(n=(m[3]?"http://":"mailto:")+n),p=m.index,k(l.substr(0,p)),f(n,m[0].replace(d,"")),l=l.substring(p+m[0].length);k(l);return a(g.join(""))}}])})(window,window.angular);
var GCONFIG={max_upload_size:20*1024*1024,image_allow_type:["BMP","JPG","JPEG","PNG","TIF","GIF"],file_allow_type:["PDF","XLS","XLSX","DOC","DOCX","PPT","PPTX","TXT","BMP","JPG","JPEG","PNG","TIF","GIF"],lang:(""+(navigator.language||navigator.userLanguage)).toLowerCase().substr(0,2),errorCall:function(errorObj){switch(errorObj.errorCode){case 980:case 990:if($("div#wliu-autotip-id[wliu-autotip]").length>0){$("div#wliu-autotip-id[wliu-autotip]").trigger("auto",[errorObj.errorMessage,"warning",function(){if(errorObj.errorField&&!$.isArray(errorObj.errorField))window.location.href=errorObj.errorField;}]);}else{alert(errorObj.errorMessage);if(errorObj.errorField&&!$.isArray(errorObj.errorField))window.location.href=errorObj.errorField;}
break;}},saveSuccess:function(errorObj){if(parseInt(errorObj.errorCode)==0){var callback=undefined;if(errorObj.errorField){window.location.href=errorObj.errorField;}
if(errorObj.errorMessage)
$("div#wliu-autotip-id[wliu-autotip]").trigger("auto",[errorObj.errorMessage.nl2br1(),"success"]);else
$("div#wliu-autotip-id[wliu-autotip]").trigger("auto",["Submitted Success.","success"]);}}};String.prototype.nl2br=function(){var str=this.toString();str=str.replace(/\n|\r/gi,"<br>");str=str.replace(/ /gi,"&nbsp;");return str;}
String.prototype.nl2br1=function(){var str=this.toString();str=str.replace(/\n|\r/gi,"<br>");return str;}
String.prototype.br2nl=function(){var str=this.toString();str=str.replace(/<br>|<br \/>/gi,"\n");str=str.replace(/&nbsp;/gi," ");return str;}
String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'');}
String.prototype.replaceAll=function(s1,s2){return this.replace(new RegExp(s1,"gm"),s2);}
String.prototype.capital=function(){if(this!=""){return this.charAt(0).toUpperCase()+this.slice(1);}else
{return"";}}
String.prototype.join=function(sp,str){if(this!=""&&(""+str)!="")
return this+sp+str;else
return this+(""+str);}
String.prototype.toBlob=function(mime){var bstr=""+this.toString();var n=bstr.length;var u8arr=new Uint8Array(n);while(n--){u8arr[n]=bstr.charCodeAt(n);}
return new Blob([u8arr],{type:mime});}
String.prototype.toArray=function(sp,case_sense){case_sense=case_sense?case_sense:"origin";sp=sp?sp:",";var bstr=""+this.toString();var barr=bstr.split(sp);var narr=[];for(var key in barr){switch(case_sense){case"upper":narr.push(barr[key].trim().toUpperCase());break;case"lower":narr.push(barr[key].trim().toLowerCase());break;default:narr.push(barr[key].trim());break;}}
return narr;}
String.prototype.fileName=function(){return this.toString().replace(/.*(\/|\\)/,"");}
String.prototype.shortName=function(){var name=this.toString().replace(/.*(\/|\\)/,"");return name.substr(0,name.lastIndexOf("."));}
String.prototype.extName=function(){return(this.toString().indexOf('.')!==-1)?this.toString().replace(/.*[.]/,'').toLowerCase():'';}
String.prototype.subName=function(n){n=n||10;var name=this.toString().fileName();if(name.length>n){name=name.slice(0,n-6)+'...'+name.slice(-6);}
return name;}
String.prototype.toDate=function(){if(isNaN(this)||parseInt(this)<=0){return new Date(0);}else{return new Date(parseInt(this)*1000);}}
String.prototype.intDate=function(){if(isNaN(this)||parseInt(this)<=0){return"";}else{var ndate=new Date(parseInt(this)*1000);return ndate.format("Y-m-d H:i")}}
Number.prototype.toSize=function(){if(isNaN(this)||parseFloat(this)<=0){return"";}else{var bytes=parseInt(this);var i=-1;do{bytes=bytes/1024;i++;}while(bytes>999);return Math.max(bytes,1).toFixed(1)+['KB','MB','GB','TB','PB','EB'][i];}}
Number.prototype.toDate=function(){if(isNaN(this)||parseInt(this)<=0){return new Date(0);}else{return new Date(parseInt(this)*1000);}}
Number.prototype.intDate=function(){if(isNaN(this)||parseInt(this)<=0){return"";}else{var ndate=new Date(parseInt(this)*1000);return ndate.format("Y-m-d H:i")}}
Date.prototype.diff=function(d2){var t2=this.getTime();var t1=d2.getTime();return parseInt((t2-t1)/(24*3600*1000));}
Date.prototype.timezone=function(){return this.getTimezoneOffset()>=0?"+"+(this.getTimezoneOffset()/60)+":00":"-"+(Math.abs(this.getTimezoneOffset())/60)+":00";};Date.prototype.ticks=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds())/1000};Date.prototype.format=function(format){var returnStr='';var replace=Date.replaceChars;for(var i=0;i<format.length;i++){var curChar=format.charAt(i);if(i-1>=0&&format.charAt(i-1)=="\\"){returnStr+=curChar;}
else if(replace[curChar]){returnStr+=replace[curChar].call(this);}else if(curChar!="\\"){returnStr+=curChar;}}
return returnStr;};Date.replaceChars={shortMonths:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],longMonths:['January','February','March','April','May','June','July','August','September','October','November','December'],shortDays:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],longDays:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],d:function(){return(this.getDate()<10?'0':'')+this.getDate();},D:function(){return Date.replaceChars.shortDays[this.getDay()];},j:function(){return this.getDate();},l:function(){return Date.replaceChars.longDays[this.getDay()];},N:function(){return this.getDay()+1;},S:function(){return(this.getDate()%10==1&&this.getDate()!=11?'st':(this.getDate()%10==2&&this.getDate()!=12?'nd':(this.getDate()%10==3&&this.getDate()!=13?'rd':'th')));},w:function(){return this.getDay();},z:function(){var d=new Date(this.getFullYear(),0,1);return Math.ceil((this-d)/86400000);},W:function(){var d=new Date(this.getFullYear(),0,1);return Math.ceil((((this-d)/86400000)+d.getDay()+1)/7);},F:function(){return Date.replaceChars.longMonths[this.getMonth()];},m:function(){return(this.getMonth()<9?'0':'')+(this.getMonth()+1);},M:function(){return Date.replaceChars.shortMonths[this.getMonth()];},n:function(){return this.getMonth()+1;},t:function(){var d=new Date();return new Date(d.getFullYear(),d.getMonth(),0).getDate()},L:function(){var year=this.getFullYear();return(year%400==0||(year%100!=0&&year%4==0));},o:function(){var d=new Date(this.valueOf());d.setDate(d.getDate()-((this.getDay()+6)%7)+3);return d.getFullYear();},Y:function(){return this.getFullYear();},y:function(){return(''+this.getFullYear()).substr(2);},a:function(){return this.getHours()<12?'am':'pm';},A:function(){return this.getHours()<12?'AM':'PM';},B:function(){return Math.floor((((this.getUTCHours()+1)%24)+this.getUTCMinutes()/60+this.getUTCSeconds()/3600)*1000/24);},g:function(){return this.getHours()%12||12;},G:function(){return this.getHours();},h:function(){return((this.getHours()%12||12)<10?'0':'')+(this.getHours()%12||12);},H:function(){return(this.getHours()<10?'0':'')+this.getHours();},i:function(){return(this.getMinutes()<10?'0':'')+this.getMinutes();},s:function(){return(this.getSeconds()<10?'0':'')+this.getSeconds();},u:function(){var m=this.getMilliseconds();return(m<10?'00':(m<100?'0':''))+m;},e:function(){return"Not Yet Supported";},I:function(){var DST=null;for(var i=0;i<12;++i){var d=new Date(this.getFullYear(),i,1);var offset=d.getTimezoneOffset();if(DST===null)DST=offset;else if(offset<DST){DST=offset;break;}else if(offset>DST)break;}
return(this.getTimezoneOffset()==DST)|0;},O:function(){return(-this.getTimezoneOffset()<0?'-':'+')+(Math.abs(this.getTimezoneOffset()/60)<10?'0':'')+(Math.abs(this.getTimezoneOffset()/60))+'00';},P:function(){return(-this.getTimezoneOffset()<0?'-':'+')+(Math.abs(this.getTimezoneOffset()/60)<10?'0':'')+(Math.abs(this.getTimezoneOffset()/60))+':00';},T:function(){var m=this.getMonth();this.setMonth(0);var result=this.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,'$1');this.setMonth(m);return result;},Z:function(){return-this.getTimezoneOffset()*60;},c:function(){return this.format("Y-m-d\\TH:i:sP");},r:function(){return this.toString();},U:function(){return this.getTime()/1000;}};function guid(){function s4(){return Math.floor((1+Math.random())*0x10000).toString(16).substring(1);}
return s4()+s4()+'-'+s4()+'-'+s4()+'-'+
s4()+'-'+s4()+s4()+s4();}
function imageAutoFix(img){var i_ww=img.naturalWidth;var i_hh=img.naturalHeight;var img_rate=i_hh/i_ww;var c_ww=100;var c_hh=100;if(parseInt($(img).attr("ww"))&&parseInt($(img).attr("hh"))){c_ww=parseInt($(img).attr("ww"));c_hh=parseInt($(img).attr("hh"));}else if(parseInt($(img).attr("ww"))){c_ww=parseInt($(img).attr("ww"));c_hh=c_ww*img_rate;}else if(parseInt($(img).attr("hh"))){c_hh=parseInt($(img).attr("hh"));c_ww=c_hh/img_rate;}
if(!c_ww&&!c_hh){$(img).css("width","100%");}else{$(img).css("width","");if(c_ww&&c_hh){var rate_ww=1;var rate_hh=1;rate_ww=c_ww/img.naturalWidth;rate_hh=c_hh/img.naturalHeight;var rate=Math.min(rate_ww,rate_hh);if(rate<1){if(rate_ww<rate_hh){i_ww=c_ww;i_hh=c_ww*img_rate;}else{i_hh=c_hh;i_ww=c_hh/img_rate;}}}else if(sc.ww){i_ww=c_ww;i_hh=c_ww*img_rate;}else if(sc.hh){i_hh=c_hh;i_ww=c_hh/img_rate;img.width=i_ww;img.height=i_hh;}}
img.width=i_ww;img.height=i_hh;}
$.fn.extend({hasAttr:function(attrs){if(!attrs||attrs.trim()=="")return false;var flag=true;this.each(function(idx,el){var attrArr=[];attrArr.push(attrs);var seperate="";if(attrs.indexOf(" ")>=0){attrArr=attrs.split(" ");seperate="";}
if(attrs.indexOf(",")>=0){attrArr=attrs.split(",");seperate=",";}
var attrStr="";for(var idx in attrArr){if(attrArr[idx].trim()!=""){var temp1=attrArr[idx].trim();var attrName="";if(temp1.indexOf(" ")>=0){temp2=temp1.split(" ");for(var idx2 in temp2){var temp3=temp2[idx2].trim();attrName+="["+temp3+"]";}}else{attrName="["+attrArr[idx].trim()+"]";}
attrStr+=(attrStr?seperate:"")+attrName;}}
if(attrStr=="")attrStr="*";if($(el).filter(attrStr).length<=0)flag=false;});return flag;},addAttr:function(attrName,attrVal){return this.each(function(idx,el){if(attrVal)
$(el).attr(attrName,attrVal)
else
$(el).attr(attrName,"")});}})
var WLIU=WLIU||{};WLIU.COM=function(){}
WLIU.COM.prototype={check2Array:function(jObj){var nval=[];if($.isPlainObject(jObj)){for(var ckval in jObj){if(jObj[ckval]==true||jObj[ckval]=="true"){nval.push(ckval);}}}
return nval;},array2Check:function(arr){var nval={};if($.isArray(arr)){$.each(arr,function(i,n){nval[n]=true;})}
return nval;},array2Datetime:function(datetimeObj){var nval="";if(datetimeObj&&datetimeObj.date){nval=(datetimeObj.date?datetimeObj.date:"")+(datetimeObj.date&&datetimeObj.time?" ":"")+(datetimeObj.time?datetimeObj.time:"");}else{if(datetimeObj&&datetimeObj.time){nval=datetimeObj.time?datetimeObj.time:"";}}
return nval;},datetime2Array:function(datetimeString){var nval={};nval.date="";nval.time="";if(datetimeString!=""){var dt_part=datetimeString.split(" ");var date_part=(""+dt_part[0]).trim();if(date_part.indexOf("-")>=0||date_part.indexOf("/")>=0){if(date_part!="0000-00-00"&&date_part!="0000/00/00"&&date_part!="00/00/0000")
nval.date=date_part;else
nval.date="";}else if(date_part.indexOf(":")>=0){if(date_part!="00:00"&&date_part!="00:00:00")
nval.time=date_part;else
nval.time="";}
var time_part=(""+dt_part[1]).trim();if(time_part.indexOf(":")>=0){if(time_part!="00:00"&&time_part!="00:00:00"){var tt_tmp=time_part.split(":");nval.time=tt_tmp[0]+":"+tt_tmp[1];}else{nval.time="";}}}
return nval;},colreplace:function(expression_str,rowCols){var ret_val=expression_str;var patern=/{(\w+)(:|.)?(\w+)}/ig;var colArr=ret_val.match(patern);for(var cidx in colArr){var colNames_str=colArr[cidx].replaceAll("{","").replaceAll("}","");if(colNames_str.indexOf(":")>=0){var colNames=colNames_str.split(":");var colName=colNames[0]?colNames[0]:"";var colPrefix=colNames[1]?colNames[1]:"";var colValObj=FCOLLECT.firstByKV(rowCols,{name:colName});var colVal=colValObj?(colValObj.value?colValObj.value:""):"";if(colPrefix!=""&&colVal!="")
ret_val=ret_val.replaceAll(colArr[cidx],colPrefix+colVal);else
ret_val=ret_val.replaceAll(colArr[cidx],colVal);}else if(colNames_str.indexOf(".")>=0){var colNames=colNames_str.split(".");var colName=colNames[0]?colNames[0]:"";var colPrefix=colNames[1]?colNames[1]:"";var colValObj=FCOLLECT.firstByKV(rowCols,{name:colName});var colVal=colValObj?(colValObj.value[colPrefix]?colValObj.value[colPrefix]:""):"";ret_val=ret_val.replaceAll(colArr[cidx],colVal);}else{var colNames=colNames_str;var colName=colNames.trim();var colValObj=FCOLLECT.firstByKV(rowCols,{name:colName});var colVal=colValObj?(colValObj.value?colValObj.value:""):"";ret_val=ret_val.replaceAll(colArr[cidx],colVal);}}
return ret_val;},}
WLIU.OBJECT=function(){}
WLIU.OBJECT.prototype={update:function(col,p_value1,p_value2){switch(arguments.length){case 0:return undefined;case 1:var col=arguments[0];return col;case 2:var col=arguments[0];var keyvalues=arguments[1];if($.isPlainObject(keyvalues)){for(var key in keyvalues){col[key]=keyvalues[key];}}
return col
case 3:var col=arguments[0];var key=arguments[1];var val=arguments[2];col[key]=val;return col;}}}
WLIU.COLLECTION=function(){}
WLIU.COLLECTION.prototype={indexByKV:function(collection,keyvalues){var cidx=-1;$.each(collection,function(i,n){var not_found=false;for(var key in keyvalues){if(n[key]!=keyvalues[key])not_found=true;}
if(!not_found)cidx=i;return not_found;});return cidx;},indexByKeys:function(collection,keys){var cidx=-1;$.each(collection,function(i,n){var found=0;var cnt=0;for(var key in keys){cnt++;if(n.keys){if(n.keys[key]==keys[key]){found++;}else{found--;}}else{found--;}}
if(cnt>0&&found==cnt)cidx=i;return cidx;});return cidx;},objectByIndex:function(collection,cidx){if(cidx>=0&&cidx<collection.length){return collection[cidx];}else{return undefined;}},objectByKV:function(collection,keyvalues){var cidx=this.indexByKV(collection,keyvalues);if(cidx>=0){return collection[cidx];}else{return undefined;}},objectByKeys:function(collection,keys){var cidx=this.indexByKeys(collection,keys);if(cidx>=0){return collection[cidx];}else{return undefined;}},collectionByKV:function(collection,keyvalues){return $.grep(collection,function(n,i){var not_found=false;for(var key in keyvalues){if(n[key]!=keyvalues[key])not_found=true;}
return!not_found;});},firstByKV:function(collection,keyvalues){var ncollection=this.collectionByKV(collection,keyvalues);return ncollection?(ncollection.length>0?ncollection[0]:undefined):undefined;},insert:function(collection,cidx,nobject){if(cidx>=0){if(cidx<collection.length){collection.splice(cidx,0,nobject);}else{collection.push(nobject);}}else if(cidx<0){collection.push(nobject);}
return collection;},update:function(collection,cidx,nobject){if(cidx>=0&&cidx<collection.length){collection[cidx]=nobject;}
return collection;},delete:function(collection,cidx){if(cidx>=0&&cidx<collection.length){collection.splice(cidx,1);return collection;}else{return collection;}}}
WLIU.FILTER=function(opts){this.col={scope:"",name:"",cols:"",colname:"",coldesc:"",coltype:"textbox",datatype:"ALL",need:0,minlength:0,maxlength:0,min:0,max:0,trans:0,list:"",compare:"",defval:"",value:""};$.extend(this.col,opts);this.col.cols=this.col.cols?this.col.cols:this.col.name;this.col.value=this.col.defval?this.col.defval:"";return this.col;}
WLIU.COL=function(opts){this.col={key:0,scope:"",name:"",col:"",colname:"",coldesc:"",table:"",coltype:"textbox",datatype:"ALL",need:0,notnull:0,unique:0,minlength:0,maxlength:0,min:0,max:0,trans:0,sort:"",relation:"",list:"",targetid:"",tooltip:"",css:"input-short",style:"",defval:""};$.extend(this.col,opts);this.col.col=this.col.col?this.col.col:this.col.name;this.col.table=this.col.table?this.col.table.toLowerCase():"p";return this.col;}
WLIU.ROW=function(cols,nameValues,scope){if(scope==undefined)scope="";if(nameValues==undefined)nameValues={};this.guid=nameValues.guid?nameValues.guid:guid();this.type="p";this.parent=0;this.scope=scope;this.rowstate=2;this.error={errorCode:0,errorMessage:""};this.cols=[];for(cidx=0;cidx<cols.length;cidx++){var colObj={};colObj.scope=scope!=""?scope:cols[cidx].scope;colObj.name=cols[cidx].name;colObj.key=cols[cidx].key?cols[cidx].key:0;colObj.defval=cols[cidx].defval?cols[cidx].defval:"";colObj.colname=cols[cidx].colname?cols[cidx].colname:colObj.name.capital();colObj.coldesc=cols[cidx].coldesc?cols[cidx].coldesc:"";colObj.table=cols[cidx].table?cols[cidx].table:"p";colObj.col=cols[cidx].col?cols[cidx].col:cols[cidx].name;colObj.coltype=cols[cidx].coltype?cols[cidx].coltype.toLowerCase():"textbox";colObj.datatype=cols[cidx].datatype?cols[cidx].datatype.toUpperCase():"ALL";colObj.need=cols[cidx].need?cols[cidx].need:0;colObj.notnull=cols[cidx].notnull?cols[cidx].notnull:0;colObj.unique=cols[cidx].unique?cols[cidx].unique:0;colObj.minlength=cols[cidx].minlength?cols[cidx].minlength:0;colObj.maxlength=cols[cidx].maxlength?cols[cidx].maxlength:0;colObj.min=cols[cidx].min?cols[cidx].min:0;colObj.max=cols[cidx].max?cols[cidx].max:0;colObj.trans=cols[cidx].trans?cols[cidx].trans:0;colObj.relation=cols[cidx].relation?cols[cidx].relation:"";colObj.sort=cols[cidx].sort?cols[cidx].sort:"";colObj.list=cols[cidx].list?cols[cidx].list:"";colObj.targetid=cols[cidx].targetid?cols[cidx].targetid:"";colObj.tooltip=cols[cidx].tooltip?cols[cidx].tooltip:"";colObj.css=cols[cidx].css?cols[cidx].css:"input-short";colObj.style=cols[cidx].style?cols[cidx].style:"";colObj.colstate=0;colObj.original="";colObj.current="";colObj.value="";var colValue=nameValues[colObj.name]?nameValues[colObj.name]:(colObj.defval?colObj.defval:"");FROW.setColVal(colObj,colValue);colObj.errorCode=0;colObj.errorMessage="";this.cols.push(colObj);}}
WLIU.FILE=function(opts){this.file={sn:0,errorCode:0,errorMessage:"",scope:"",key1:0,key2:0,key3:0,title_en:"",title_cn:"",detail_en:"",detail_cn:"",full_name:"",short_name:"",ext_name:"",mime_type:"",size:0,access:0,main:0,orderno:0,status:0,url:"",data:"",guid:"",token:""};$.extend(this.file,opts);return this.file;}
WLIU.IMAGE=function(opts){this.image={sn:0,errorCode:0,errorMessage:"",scope:"",id:0,key1:0,key2:0,key3:0,title_en:"",title_cn:"",detail_en:"",detail_cn:"",full_name:"",short_name:"",ext_name:"",mime_type:"",size:0,access:0,main:0,orderno:0,status:0,url:"",guid:"",token:"",resize:{origin:{ww:1000,hh:1000,width:0,height:0,name:"",size:0,data:""},thumb:{ww:100,hh:100,width:0,height:0,name:"",size:0,data:""},tiny:{ww:200,hh:200,width:0,height:0,name:"",size:0,data:""},small:{ww:400,hh:400,width:0,height:0,name:"",size:0,data:""},medium:{ww:600,hh:600,width:0,height:0,name:"",size:0,data:""},large:{ww:800,hh:800,width:0,height:0,name:"",size:0,data:""}}};$.extend(this.image,opts);return this.image;}
WLIU.ROWACTION=function(){}
WLIU.ROWACTION.prototype={rowstate:function(theRow,p_rowstate){if(theRow!=undefined){if(p_rowstate!=undefined)theRow.rowstate=p_rowstate;return theRow.rowstate;}else{return undefined;}},rowerror:function(theRow,p_error){if(theRow!=undefined){if(p_error!=undefined)theRow.error=p_error;return theRow.error;}else{return undefined;}},colerror:function(theRow,col_name,p_error){if(theRow!=undefined){var theCol=FCOLLECT.objectByKV(theRow.cols,{name:col_name});if(theCol!=undefined){if(p_error!=undefined){theCol.errorCode=p_error.errorCode;theCol.errorMessage=p_error.errorMessage;this.validate(theRow);}
return{errorCode:theCol.errorCode,errorMessage:theCol.errorMessage};}else{return undefined;}}else{return undefined;}},validate:function(theRow){var changed=false;var errorCode=0;var errorMessage="";for(var colName in theRow.cols){var theCol=theRow.cols[colName];if(theCol.errorCode>0){errorCode=Math.max(errorCode,theCol.errorCode);errorMessage+=(errorMessage!=""&&theCol.errorMessage!=""?"\n":"")+theCol.errorMessage;}
if(theCol.colstate==1)changed=true;}
theRow.error.errorCode=theRow.error.errorCode<=1?errorCode:theRow.error.errorCode;theRow.error.errorMessage=errorMessage;if(theRow.rowstate<=1){if(changed)
theRow.rowstate=1;else
theRow.rowstate=0;}},colUpdate:function(theRow,theCol,val){if(theRow!=undefined){if(theCol!=undefined){if(val==null)val="";if(val!=undefined){theCol.value=val;if($.isPlainObject(theCol.value)){var objectSame=true;for(var vkey in theCol.value){var curVal=theCol.value[vkey]?theCol.value[vkey]:"";var curCur=theCol.current[vkey]?theCol.current[vkey]:"";if(curVal!=curCur)objectSame=false;}
for(var vkey in theCol.current){var curVal=theCol.value[vkey]?theCol.value[vkey]:"";var curCur=theCol.current[vkey]?theCol.current[vkey]:"";if(curVal!=curCur)objectSame=false;}
if(objectSame)
theCol.colstate=0;else
theCol.colstate=1;}else{if(theCol.value==theCol.current)
theCol.colstate=0;else
theCol.colstate=1;}
theCol.errorCode=0;theCol.errorMessage="";this.validate(theRow);theCol.value=theCol.coltype=="bool"?(theCol.value?true:false):theCol.value;return theCol.value;}else{return theCol.value;}}else{return undefined;}}else{return undefined;}},colRestore:function(theRow,theCol){if(theRow!=undefined){if(theCol!=undefined){var keyvalues={};keyvalues[theCol.name]=angular.copy(theCol.current);this.update(theRow,keyvalues);}}},colChange:function(theRow,theCol){if(theRow&&theCol){var keyvalues={};keyvalues[theCol.name]=theCol.value;return this.update(theRow,keyvalues);}else{return undefined;}},relationCol:function(theRow){if(theRow){return FCOLLECT.firstByKV(theRow.cols,{coltype:"relation"});}else{return undefined;}},relationHide:function(theRow,theCol){if(theRow){var relCol=FCOLLECT.objectByKV(theRow.cols,{coltype:"relation",table:theCol.table});if(relCol){if(relCol.value)
return false;else
return true;}else{return false;}}},relationChange:function(theRow){if(theRow){var relCol=this.relationCol(theRow);if(relCol){if(relCol.value){if(relCol.current){var rCols=FCOLLECT.collectionByKV(theRow.cols,{table:relCol.table});for(var cidx in rCols){if(rCols[cidx].coltype!="relation")this.colRestore(theRow,rCols[cidx]);}}}else{var rCols=FCOLLECT.collectionByKV(theRow.cols,{table:relCol.table});for(var cidx in rCols){if(rCols[cidx].coltype!="relation"){var keyvalues={};keyvalues[rCols[cidx].name]=this.toColVal(rCols[cidx].coltype,"");this.update(theRow,keyvalues);}}}}
return theRow;}else{return undefined;}},update:function(theRow,keyvalues){if(theRow!=undefined){for(var key in keyvalues){var theCol=FCOLLECT.objectByKV(theRow.cols,{name:key});if(theCol!=undefined){return this.colUpdate(theRow,theCol,keyvalues[key]);}}
return theRow;}else{return undefined;}},cancel:function(theRow){var errorCode=0;var errorMessage="";theRow.error.errorCode=errorCode;theRow.error.errorMessage=errorMessage;theRow.rowstate=0;for(var colName in theRow.cols){theRow.cols[colName].colstate=0;theRow.cols[colName].errorCode=0;theRow.cols[colName].errorMessage="";theRow.cols[colName].value=angular.copy(theRow.cols[colName].current);}
return theRow;},detach:function(theRow){if(theRow.rowstate<=1)theRow.rowstate=3;return theRow;},getColVal:function(theCol){var ret_val="";switch(theCol.coltype){case"hidden":case"textbox":case"textarea":case"ckeditor":case"password":case"upload":case"editor":ret_val=theCol.value?theCol.value:"";break;case"checkbox":case"checkbox1":case"checkbox2":case"checkbox3":ret_val=$.isPlainObject(theCol.value)?FCOM.check2Array(theCol.value):[];break;case"date":case"time":ret_val=theCol.value?theCol.value:"";break;case"datetime":ret_val=$.isPlainObject(theCol.value)?FCOM.array2Datetime(theCol.value):"";break;case"select":ret_val=theCol.value?theCol.value:"";break;case"radio":case"radio1":case"radio2":case"radio3":ret_val=theCol.value?theCol.value:0;break;case"relation":case"bool":ret_val=theCol.value?1:0;break;case"passpair":ret_val={}
ret_val.password=theCol.value.password?theCol.value.password:"";ret_val.confirm=theCol.value.confirm?theCol.value.confirm:"";break;case"text":ret_val="";case"daterange":case"timerange":case"range":ret_val={}
ret_val.from=theCol.value.from?theCol.value.from:"";ret_val.to=theCol.value.to?theCol.value.to:"";break;case"datetimerange":ret_val={}
ret_val.from=$.isPlainObject(theCol.value.from)?FCOM.array2Datetime(theCol.value.from):"";ret_val.to=$.isPlainObject(theCol.value.to)?FCOM.array2Datetime(theCol.value.to):"";break;default:ret_val="";break;}
return ret_val;},getCol:function(theCol){var nCol=undefined;switch(theCol.coltype){case"hidden":case"textbox":case"textarea":case"ckeditor":case"password":case"upload":case"editor":case"checkbox":case"checkbox1":case"checkbox2":case"checkbox3":case"date":case"time":case"datetime":case"select":case"radio":case"radio1":case"radio2":case"radio3":case"relation":case"bool":case"passpair":var nCol=angular.copy(theCol);nCol.current="";nCol.value=this.getColVal(nCol);break;case"text":break;default:break;}
return nCol;},getChangeCols:function(theRow){var ncols=[];switch(parseInt(theRow.rowstate)){case 0:break;case 1:for(var cidx in theRow.cols){if(theRow.cols[cidx].key==1||theRow.cols[cidx].need==1||theRow.cols[cidx].coltype=="relation"||theRow.cols[cidx].colstate==1){var ncol=this.getCol(theRow.cols[cidx]);if(ncol)ncols.push(ncol);}}
break;case 2:for(var cidx in theRow.cols){var ncol=this.getCol(theRow.cols[cidx]);if(ncol)ncols.push(ncol);}
break;case 3:for(var cidx in theRow.cols){if(theRow.cols[cidx].key==1||theRow.cols[cidx].coltype=="relation"){var ncol=this.getCol(theRow.cols[cidx]);if(ncol)ncols.push(ncol);}}
break;}
return ncols;},getChangeRow:function(theRow){var nrows=[];if(true){var nrow={};nrow.scope=theRow.scope;nrow.rowstate=theRow.rowstate;nrow.guid=theRow.guid;nrow.type=theRow.type;nrow.parent=theRow.parent;nrow.error={errorCode:0,errorMessage:""};nrow.cols=this.getChangeCols(theRow);nrows.push(nrow);}
return nrows;},resetRow:function(theRow){if(theRow){for(var cIdx in theRow.cols){if(theRow.cols[cIdx].key)continue;var colName=theRow.cols[cIdx].name;var colVal=theRow.cols[cIdx].defval?theRow.cols[cIdx].defval:"";var nameValues={};nameValues[colName]=colVal;this.update(theRow,nameValues);}
return theRow;}else{return undefined;}},setColVal:function(theCol,p_val){if(theCol==undefined)return;var ret_val="";switch(theCol.coltype){case"hidden":case"textbox":case"textarea":case"ckeditor":case"password":case"upload":case"editor":if(theCol.value!=undefined)theCol.value=p_val?p_val:"";if(theCol.current!=undefined)theCol.current=p_val?p_val:"";ret_val=p_val?p_val:"";break;case"checkbox":case"checkbox1":case"checkbox2":case"checkbox3":if(!$.isArray(p_val))p_val=[];if(theCol.value!=undefined)theCol.value=FCOM.array2Check(p_val);if(theCol.current!=undefined)theCol.current=FCOM.array2Check(p_val);ret_val=FCOM.array2Check(p_val);break;case"date":case"time":if(theCol.value!=undefined)theCol.value=p_val?p_val:"";if(theCol.current!=undefined)theCol.current=p_val?p_val:"";ret_val=parseInt(p_val)?p_val:"";break;case"datetime":p_val=p_val?p_val:"";if(theCol.value!=undefined)theCol.value=FCOM.datetime2Array(p_val);if(theCol.current!=undefined)theCol.current=FCOM.datetime2Array(p_val);ret_val=FCOM.datetime2Array(p_val);break;case"select":if(theCol.value!=undefined)theCol.value=p_val?p_val:"";if(theCol.current!=undefined)theCol.current=p_val?p_val:"";ret_val=p_val?p_val:"";break;case"radio":case"radio1":case"radio2":case"radio3":if(theCol.value!=undefined)theCol.value=parseInt(p_val)?parseInt(p_val):0;if(theCol.current!=undefined)theCol.current=parseInt(p_val)?parseInt(p_val):0;ret_val=parseInt(p_val)?parseInt(p_val):0;break;case"relation":case"bool":if(theCol.value!=undefined)theCol.value=parseInt(p_val)?true:false;if(theCol.current!=undefined)theCol.current=parseInt(p_val)?true:false;ret_val=p_val=="1"?true:false;break;case"passpair":if(theCol.value!=undefined){theCol.value={};theCol.value.password=p_val?p_val:"";theCol.value.confirm=p_val?p_val:"";}
if(theCol.current!=undefined){theCol.current={};theCol.current.password=p_val?p_val:"";theCol.current.confirm=p_val?p_val:"";}
ret_val=angular.copy(theCol.value);break;case"text":if(theCol.value!=undefined)theCol.value=p_val?p_val:"";if(theCol.current!=undefined)theCol.current=p_val?p_val:"";ret_val=p_val?p_val:"";break;default:if(theCol.value!=undefined)theCol.value=p_val?p_val:"";if(theCol.current!=undefined)theCol.current=p_val?p_val:"";ret_val=p_val?p_val:"";break;}
return ret_val;},toColVal:function(colType,p_val){var ret_val="";switch(colType){case"hidden":case"textbox":case"textarea":case"ckeditor":case"password":case"upload":case"editor":ret_val=p_val?p_val:"";break;case"checkbox":case"checkbox1":case"checkbox2":case"checkbox3":if(!$.isArray(p_val))p_val=[];ret_val=FCOM.array2Check(p_val);break;case"date":case"time":ret_val=p_val?p_val:"";break;case"datetime":p_val=p_val?p_val:"";ret_val=FCOM.datetime2Array(p_val);break;case"select":ret_val=p_val?p_val:"";break;case"radio":case"radio1":case"radio2":case"radio3":ret_val=p_val?p_val:0;break;case"relation":case"bool":ret_val=p_val=="1"?true:false;break;case"passpair":ret_val={};ret_val.password=p_val?p_val:"";ret_val.confirm=p_val?p_val:"";break;case"text":ret_val=p_val?p_val:"";break;default:ret_val=p_val?p_val:"";break;}
return ret_val;}}
WLIU.TABLEACTION=function(){}
WLIU.TABLEACTION.prototype={index:function(theTable,guid){return FCOLLECT.indexByKV(theTable.rows,{guid:guid});},indexByRow:function(theTable,theRow){return this.index(theTable,theRow.guid);},getRowKeys:function(theTable,theRow){var r_rowKeys={};if(theRow&&theRow.cols){var keyCols=FCOLLECT.collectionByKV(theRow.cols,{key:1});for(var kidx in keyCols){r_rowKeys[keyCols[kidx].name]=keyCols[kidx].value;}}
return r_rowKeys;},setColsDefault:function(theTable,IDKeyValues){if($.isPlainObject(IDKeyValues)){for(var key in IDKeyValues){this.colDefault(theTable,key,IDKeyValues[key]);}}},tableErrorReset:function(theTable){theTable.error.errorCode=0;theTable.error.errorMessage="";for(var ridx in theTable.rows){if(theTable.rows[ridx].error.errorCode>0){theTable.error.errorCode=Math.max(theTable.error.errorCode,theTable.rows[ridx].error.errorCode);theTable.error.errorMessage+=(theTable.error.errorMessage?"\n":"")+theTable.rows[ridx].error.errorMessage;}}},tableError:function(theTable,p_error){if(p_error!=undefined){theTable.error=angular.copy(p_error);}
return theTable.error;},colMeta:function(theTable,col_name){return FCOLLECT.objectByKV(theTable.cols,{name:col_name});},colDefault:function(theTable,col_name,p_value){var theCol=this.colMeta(theTable,col_name);if(theCol){FOBJECT.update(theCol,{defval:p_value});return theCol.defval;}else{return undefined;}},colRelation:function(theTable){return FCOLLECT.objectByKV(theTable.cols,{coltype:"relation"});},colList:function(theTable,col_name){var ret_list={};var oCol=this.colMeta(theTable,col_name);if(oCol){var listName=oCol.list?oCol.list:"";if(listName){if(theTable.lists[listName]){ret_list=theTable.lists[listName];}}}
return ret_list;},relationHide:function(theTable,theRow,col_name){var t_row=this.getRow(theTable,theRow);var theCol=this.getCol(theTable,t_row,col_name);return FROW.relationHide(t_row,theCol);},relationChange:function(theTable,theRow){var t_row=this.getRow(theTable,theRow);return FROW.relationChange(t_row);},relationHideCurrent:function(theTable,col_name){var theRow=this.getCurrent(theTable);var theCol=this.getCol(theTable,theRow,col_name);return FROW.relationHide(theRow,theCol);},relationChangeCurrent:function(theTable){var theRow=this.getCurrent(theTable);return FROW.relationChange(theRow);},getList:function(theTable,list_name){if(theTable.lists){if(theTable.lists[list_name])
return theTable.lists[list_name];else
return undefined;}else{return undefined;}},getLists:function(theTable){var nlists={};for(var lname in theTable.lists){if(theTable.lists[lname].loaded==0){nlists[lname]={};nlists[lname].loaded=0;nlists[lname].list=[];}}
return nlists;},setLists:function(theTable,nlists){for(var listName in nlists){var nlistObj=theTable.getList(listName);if(nlistObj){nlistObj.loaded=nlists[listName].loaded;nlistObj.keys=nlists[listName].keys;nlistObj.list=nlists[listName].list;}}
return theTable.lists;},filterMeta:function(theTable,col_name){return FCOLLECT.firstByKV(theTable.filters,{name:col_name});},filterClear:function(theTable){for(var fidx in theTable.filters){FROW.setColVal(theTable.filters[fidx],"");}
return theTable.filters;},filterValue:function(theTable,name,val){if(val!=undefined){if(theTable.filterMeta(name)){return FROW.setColVal(this.filterMeta(name),val);}else{return undefined;}}else{if(theTable.filterMeta(name)){return FROW.getColVal(theTable.filterMeta(name));}else{return undefined;}}},filterDefault:function(theTable,name,val){if(val!=undefined){if(theTable.filterMeta(name)){theTable.filterMeta(name).defval=val;theTable.filterMeta(name).value=val;return val;}else{return undefined;}}else{if(theTable.filterMeta(name)){return theTable.filterMeta(name).defval?theTable.filterMeta(name).defval:undefined;}else{return undefined;}}},getFilters:function(theTable){var nfilters=[];for(var fidx in theTable.filters){var nfilter=angular.copy(theTable.filters[fidx]);nfilter.value=FROW.getColVal(theTable.filters[fidx]);if(nfilter.need)nfilters.push(nfilter);if($.isArray(nfilter.value)&&nfilter.value.length>0&&!nfilter.need)nfilters.push(nfilter);if(!$.isArray(nfilter.value)&&nfilter.value&&!$.isPlainObject(nfilter.value)&&!nfilter.need)nfilters.push(nfilter);if($.isPlainObject(nfilter.value)&&(nfilter.value.from!=""||nfilter.value.to!="")&&!nfilter.need)nfilters.push(nfilter);}
return nfilters;},getRow:function(theTable,theRow){if(theRow){return theRow;}},getRowByGuid:function(theTable,guid){return FCOLLECT.objectByKV(theTable.rows,{guid:guid});},getCurrent:function(theTable){var rowidx=this.index(theTable,theTable.current);if(rowidx>=0&&rowidx<theTable.rows.length){return theTable.rows[rowidx];}else{return undefined;}},getCol:function(theTable,theRow,col_name){var t_row=this.getRow(theTable,theRow);if(t_row!=undefined){return FCOLLECT.objectByKV(t_row.cols,{name:col_name});}else{return undefined;}},getColCurrent:function(theTable,col_name){var t_row=this.getCurrent(theTable);if(t_row!=undefined){return FCOLLECT.objectByKV(t_row.cols,{name:col_name});}else{return undefined;}},getColByGuid:function(theTable,guid,col_name){var t_row=this.getRowByGuid(theTable,guid);if(t_row!=undefined){return FCOLLECT.objectByKV(t_row.cols,{name:col_name});}else{return undefined;}},changeCol:function(theTable,theRow,col_name){var t_row=this.getRow(theTable,theRow);var t_col=this.getCol(theTable,t_row,col_name);var col=FROW.colChange(t_row,t_col);this.tableErrorReset(theTable);return col;},changeColCurrent:function(theTable,col_name){var t_row=this.getCurrent(theTable);var t_col=this.getCol(theTable,t_row,col_name);var col=FROW.colChange(t_row,t_col);this.tableErrorReset(theTable);return col;},changeColByGuid:function(theTable,guid,col_name){var t_row=this.getRowByGuid(theTable,guid);var t_col=this.getColByGuid(theTable,guid,col_name);return FROW.colChange(t_row,t_col);},setImage:function(theTable,theRow,col_name,oImg){var t_col=this.getCol(theTable,theRow,col_name);if(t_col){var view="medium";if(this.colMeta(theTable,col_name)&&this.colMeta(theTable,col_name).view)view=this.colMeta(theTable,col_name).view;t_col.value=oImg.resize[view].data;}},setImageCurrent:function(theTable,col_name,oImg){var t_row=this.getCurrent(theTable);var t_col=this.getCol(theTable,t_row,col_name);if(t_col){var view="medium";if(this.colMeta(theTable,col_name)&&this.colMeta(theTable,col_name).view)view=this.colMeta(theTable,col_name).view;t_col.value=oImg.resize[view].data;}},newRow:function(theTable,keyvalues){var t_row=new WLIU.ROW(theTable.cols,keyvalues,theTable.scope);return t_row;},addRow:function(theTable,ridx,nrow){if(ridx==undefined)ridx=0;if(!nrow){nrow=this.newRow(theTable);}
FCOLLECT.insert(theTable.rows,ridx,nrow);theTable.current=nrow.guid;return nrow;},formInit:function(theTable,IDKeyValues,callback){this.init(theTable,IDKeyValues,callback);},formNew:function(theTable,IDKeyValues,callback){if(this.colRelation(theTable))this.colRelation(theTable).defval=true;this.init(theTable,IDKeyValues,{ajaxSuccess:function(){theTable.addRow();if(!theTable.sc.$$phase){theTable.sc.$apply();}
if(callback)if($.isFunction(callback))callback(theTable);}});},formReset:function(theTable){if(this.colRelation(theTable))this.colRelation(theTable).defval=true;theTable.rows=[];theTable.addRow();this.tableErrorReset(theTable);},formGet:function(theTable,IDKeyValues,callback){if(this.colRelation(theTable))this.colRelation(theTable).defval=true;this.setColsDefault(theTable,IDKeyValues);this.getRows(theTable,callback);},getRecords:function(theTable,IDKeyValues,callback){this.setColsDefault(theTable,IDKeyValues);this.getRows(theTable,callback);},getAllRecords:function(theTable,IDKeyValues,callback){this.setColsDefault(theTable,IDKeyValues);this.allRows(theTable,callback);},getMatchRecords:function(theTable,IDKeyValues,callback){this.setColsDefault(theTable,IDKeyValues);this.matchRows(theTable,callback);},removeRow:function(theTable,theRow){if(theTable&&theRow){var ridx=this.index(theTable,theRow.guid);FCOLLECT.delete(theTable.rows,ridx);}
return theRow;},detachRow:function(theTable,theRow){return FROW.detach(theRow);},cancelRow:function(theTable,theRow){if(theRow){switch(parseInt(theRow.rowstate)){case 0:break;case 1:FROW.cancel(theRow);break;case 2:this.removeRow(theTable,theRow);break;case 3:FROW.cancel(theRow);break;}
this.tableErrorReset(theTable);return theRow;}else{return undefined;}},resetRow:function(theTable,theRow){FROW.resetRow(theRow);this.tableErrorReset(theTable);},cancelRows:function(theTable){for(var i=theTable.rows.length-1;i>=0;i--){this.cancelRow(theTable,theTable.rows[i]);}
theTable.error.errorCode=0;theTable.error.errorMessage="";return theTable.rows;},getChangeRows:function(theTable){var nrows=[];for(var ridx in theTable.rows){if(theTable.rows[ridx].rowstate>0){var theRow=theTable.rows[ridx];if(true){var nrow={};nrow.scope=theRow.scope;nrow.guid=theRow.guid;nrow.type=theRow.type;nrow.parent=theRow.parent;nrow.rowstate=theRow.rowstate;nrow.error={errorCode:0,errorMessage:""};nrow.cols=FROW.getChangeCols(theRow);nrows.push(nrow);}}}
return nrows;},init:function(theTable,IDKeyValues,callback){this.setColsDefault(theTable,IDKeyValues);theTable.rows=[];var ntable={};ntable.scope=theTable.scope;ntable.lang=theTable.lang;ntable.action="init";ntable.error={errorCode:0,errorMessage:""};ntable.cols=theTable.cols;ntable.navi=theTable.navi;ntable.lists=this.getLists(theTable);this.ajaxCall(theTable,ntable,callback);},getRows:function(theTable,callback){var ntable={};ntable.scope=theTable.scope;ntable.lang=theTable.lang;ntable.action="get";ntable.error={errorCode:0,errorMessage:""};ntable.cols=theTable.cols;ntable.navi=theTable.navi;ntable.filters=this.getFilters(theTable);ntable.lists=this.getLists(theTable);ntable.rows=[];this.ajaxCall(theTable,ntable,callback);},allRows:function(theTable,callback){theTable.navi.match=0;this.getRows(theTable,callback);},matchRows:function(theTable,callback){theTable.navi.match=1;this.getRows(theTable,callback);},saveRow:function(theTable,theRow,callback){var ntable={};ntable.scope=theTable.scope;ntable.lang=theTable.lang;ntable.action="save";ntable.error={errorCode:0,errorMessage:""};ntable.cols=theTable.cols;ntable.navi=theTable.navi;ntable.lists=this.getLists(theTable);ntable.rows=FROW.getChangeRow(theRow);this.ajaxCall(theTable,ntable,callback);},saveRows:function(theTable,callback){var ntable={};ntable.scope=theTable.scope;ntable.lang=theTable.lang;ntable.action="save";ntable.error={errorCode:0,errorMessage:""};ntable.cols=theTable.cols;ntable.navi=theTable.navi;ntable.lists=this.getLists(theTable);ntable.rows=this.getChangeRows(theTable);this.ajaxCall(theTable,ntable,callback);},ajaxCall:function(theTable,ntable,callback){var _self=theTable;$("div#wliu-wait-id[wliu-wait]").trigger("show");_self.navi.loading=1;if(callback&&callback.ajaxBefore&&$.isFunction(callback.ajaxBefore))callback.ajaxBefore(ntable);$.ajax({data:{table:ntable},dataType:"json",contentType:"application/x-www-form-urlencoded",error:function(xhr,tStatus,errorTh){$("div#wliu-wait-id[wliu-wait]").trigger("hide");},success:function(req,tStatus){$("div#wliu-wait-id[wliu-wait]").trigger("hide");if(callback&&callback.ajaxAfter&&$.isFunction(callback.ajaxAfter))callback.ajaxAfter(req.table);_self.tableError(req.table.error);switch(req.table.action){case"init":case"get":FTABLE.setLists(_self,req.table.lists);FTABLE.syncRows(_self,req.table);break;case"save":FTABLE.updateRows(_self,req.table);break;}
if(parseInt(req.table.error.errorCode)==0){if(callback&&callback.ajaxSuccess&&$.isFunction(callback.ajaxSuccess))callback.ajaxSuccess(_self);}else{if(callback&&callback.ajaxError&&$.isFunction(callback.ajaxError))callback.ajaxError(_self);}
if(callback&&callback.ajaxComplete&&$.isFunction(callback.ajaxComplete))callback.ajaxComplete(_self);_self.navi.loading=0;if(!_self.sc.$$phase){_self.sc.$apply();}
GCONFIG.errorCall(req.table.error);$("#wliu-table-error-popup[scope='"+_self.scope+"']").trigger("ishow");},type:"post",url:_self.url});},syncRows:function(theTable,ntable){theTable.rows=[];theTable.current="";theTable.navi=angular.copy(ntable.navi);theTable.rights=angular.copy(ntable.rights);if(ntable.primary&&$.isArray(ntable.primary)){if(ntable.primary.length>0){for(var pidx in ntable.primary){var colObj=ntable.primary[pidx];for(var colName in colObj){theTable.colDefault(colName,colObj[colName]);}}}}
for(var ridx in ntable.rows){var theRow=ntable.rows[ridx];var nrow=theTable.newRow(theRow);nrow.rowstate=0;for(var colName in theRow){ncol=FCOLLECT.firstByKV(nrow.cols,{name:colName});FROW.setColVal(ncol,theRow[colName]);}
FTABLE.addRow(theTable,-1,nrow);}
if(theTable.firstone&&theTable.rows.length>0){theTable.current=theTable.rows[0].guid;}else{theTable.current="";}},updateRows:function(theTable,ntable){theTable.rights=angular.copy(ntable.rights);if(ntable.primary&&$.isArray(ntable.primary)){if(ntable.primary.length>0){for(var pidx in ntable.primary){var colObj=ntable.primary[pidx];for(var colName in colObj){theTable.colDefault(colName,colObj[colName]);}}}}
for(var ridx in ntable.rows){var nRow=ntable.rows[ridx];var tableRow=theTable.getRowByGuid(nRow.guid);if(tableRow){if(parseInt(nRow.error.errorCode)>0){switch(parseInt(nRow.rowstate)){case 0:break;case 1:theTable.rowError(tableRow,nRow.error);for(var cidx in nRow.cols){theTable.colError(tableRow,nRow.cols[cidx].name,{errorCode:nRow.cols[cidx].errorCode,errorMessage:nRow.cols[cidx].errorMessage});}
break;case 2:theTable.rowError(tableRow,nRow.error);for(var cidx in nRow.cols){theTable.colError(tableRow,nRow.cols[cidx].name,{errorCode:nRow.cols[cidx].errorCode,errorMessage:nRow.cols[cidx].errorMessage});}
break;case 3:theTable.rowError(tableRow,nRow.error);break;}}else{switch(parseInt(nRow.rowstate)){case 0:break;case 1:theTable.rowError(tableRow,nRow.error);tableRow.rowstate=0;for(var cidx in tableRow.cols){tableRow.cols[cidx].colstate=0;tableRow.cols[cidx].current=angular.copy(tableRow.cols[cidx].value);theTable.colError(tableRow,tableRow.cols[cidx].name,{errorCode:0,errorMessage:""});}
break;case 2:theTable.rowError(tableRow,nRow.error);tableRow.rowstate=0;for(var cidx in tableRow.cols){if(tableRow.cols[cidx].key){var keyColObj=FCOLLECT.objectByKV(nRow.cols,{name:tableRow.cols[cidx].name});if(keyColObj){FROW.setColVal(tableRow.cols[cidx],keyColObj.value);}}
tableRow.cols[cidx].colstate=0;tableRow.cols[cidx].current=angular.copy(tableRow.cols[cidx].value);theTable.colError(tableRow,tableRow.cols[cidx].name,{errorCode:0,errorMessage:""});}
theTable.navi.recordtotal++;break;case 3:theTable.rowError(tableRow,nRow.error);tableRow.rowstate=0;if(parseInt(tableRow.error.errorCode)<=0){if(theTable.current==tableRow.guid)theTable.current="";theTable.removeRow(tableRow);theTable.navi.recordtotal--;}
break;}}}}
GCONFIG.saveSuccess(theTable.error);},errorCall:function(theTable){if(theTable.error.errorCode==990){window.location.href=theTable.error.errorField;}},firstPage:function(theTable){if(theTable.navi.pageno<=0){theTable.navi.pageno=1;}
if(theTable.navi.pagetotal<=0)theTable.navi.pageno=0;if(theTable.navi.pageno>1&&theTable.navi.pagetotal>0){theTable.navi.pageno=1;this.getRows(theTable);}},firstState:function(theTable){return!theTable.navi.pageno||!theTable.navi.pagetotal||theTable.navi.pageno<=1||theTable.navi.pagetotal<=0},previousPage:function(theTable){if(theTable.navi.pageno<=0){theTable.navi.pageno=1;}
if(theTable.navi.pagetotal<=0)theTable.navi.pageno=0;if(theTable.navi.pageno>1){theTable.navi.pageno--;this.getRows(theTable);}},previousState:function(theTable){return!theTable.navi.pageno||!theTable.navi.pagetotal||theTable.navi.pageno<=1||theTable.navi.pagetotal<=0},nextPage:function(theTable){if(theTable.navi.pagetotal<=0)theTable.navi.pageno=0;if(theTable.navi.pageno>theTable.navi.pagetotal){theTable.navi.pageno=theTable.navi.pagetotal;this.getRows(theTable);}
if(theTable.navi.pageno<theTable.navi.pagetotal){theTable.navi.pageno++;this.getRows(theTable);}},nextState:function(theTable){return!theTable.navi.pageno||!theTable.navi.pagetotal||theTable.navi.pageno>=theTable.navi.pagetotal||theTable.navi.pagetotal<=0},lastPage:function(theTable){if(theTable.navi.pagetotal<=0)theTable.navi.pageno=0;if(theTable.navi.pageno!=theTable.navi.pagetotal){theTable.navi.pageno=theTable.navi.pagetotal;this.getRows(theTable);}},lastState:function(theTable){return!theTable.navi.pageno||!theTable.navi.pagetotal||theTable.navi.pageno>=theTable.navi.pagetotal||theTable.navi.pagetotal<=0;},rowno:function(theTable,guid){if(guid!=undefined){return this.index(theTable,guid);}else{return this.index(theTable,theTable.current);}},navLeft:function(theTable){var rowidx=this.rowno(theTable);if(rowidx<0)rowidx=0;if(rowidx>0&&rowidx<theTable.rows.length)rowidx--;theTable.current=theTable.rows[rowidx]?theTable.rows[rowidx].guid:"";},navLeftState:function(theTable){var rowidx=this.rowno(theTable);if(rowidx>0&&table.rows.length>0)
return true;else
return false;},navRight:function(theTable){var rowidx=this.rowno(theTable);if(rowidx<0)rowidx=0;if(rowidx>=theTable.rows.length-1)rowidx=theTable.rows.length-1;if(rowidx>=0&&rowidx<theTable.rows.length-1)rowidx++;theTable.current=theTable.rows[rowidx]?theTable.rows[rowidx].guid:"";},navRightState:function(theTable){var rowidx=this.rowno(theTable);if(rowidx>=0&&rowidx<theTable.rows.length-1&&table.rows.length>0)
return true;else
return false;},orderState:function(theTable,name,sort){var colMeta=this.colMeta(theTable,name);var colName=colMeta.trans?colMeta.col:colMeta.table+"."+colMeta.col;if(theTable.navi.orderby==colName&&(theTable.navi.sortby.toUpperCase()==sort.toUpperCase()||(theTable.navi.sortby==""&&colMeta.sort.toUpperCase()==sort.toUpperCase())))
return true;else
return false;}}
WLIU.FILEACTION=function(opts){this.allowSize=GCONFIG.max_upload_size;this.allowType=GCONFIG.file_allow_type;if(opts){if(opts.allowSize)this.allowSize=opts.allowSize;if(opts.allowType)this.allowType=opts.allowType;}}
WLIU.FILEACTION.prototype={fromFile:function(theFile,file,callback){theFile.full_name=file.name.fileName();theFile.short_name=file.name.shortName();theFile.ext_name=file.name.extName();theFile.mime_type=file.type;theFile.size=file.size;theFile.errorCode=0;theFile.errorMessage="";if(this.allowType.indexOf(theFile.ext_name.toUpperCase())>=0||this.allowType.indexOf("*")>=0){if(theFile.size<=this.allowSize){this._fromBlob(theFile,file,callback);}else{theFile.errorCode=1;theFile.errorMessage="File size {"+theFile.size.toSize()+"} over maximum size {"+this.allowSize.toSize()+"}.";if(callback)if($.isFunction(callback))callback(theFile);}}else{theFile.errorCode=1;theFile.errorMessage="Only file type: ["+this.allowType.join(", ")+"] allow to upload.";if(callback)if($.isFunction(callback))callback(theFile);}},exportFile:function(theFile){if(theFile.data)window.open(theFile.data);},exportBlob:function(blob){this._readBlob(blob,function(dataURL){if(dataURL)window.open(dataURL);});},exportDataURL:function(dataURL){if(dataURL)window.open(dataURL);},exportBase64:function(base64_str,mimeType){if(mimeType)
if(base64_str)window.open(this.toBase64(base64_str,mimeType));else
if(base64_str)window.open(base64_str);},exportHTML:function(html){if(html)this.exportDataURL(this._string2DataURL(html,"text/html"));},_fromBlob:function(theFile,file,callback){var fs=new FileReader();fs.onload=function(ev1){theFile.data=ev1.target.result;if(callback)if($.isFunction(callback))callback(theFile);}
fs.readAsDataURL(file);},_readBlob:function(file,callback){var fs=new FileReader();fs.onload=function(ev1){var data=ev1.target.result;if(callback)if($.isFunction(callback))callback(data);}
fs.readAsDataURL(file);},_mimeType:function(dataURL){try{var arr=dataURL.split(',');var mime=arr[0].match(/:(.*?);/)[1];return mime;}catch(err){return"";}},_dataURL2Blob:function(dataURL){try{var arr=dataURL.split(',');var mime=arr[0].match(/:(.*?);/)[1];var bstr=atob(arr[1]);var n=bstr.length;var u8arr=new Uint8Array(n);while(n--){u8arr[n]=bstr.charCodeAt(n);}
return new Blob([u8arr],{type:mime});}
catch(err){}},_string2DataURL:function(str,mimeType){var base64_str=btoa(str);return"data:"+mimeType+";base64,"+base64_str;},_base64DataURL:function(base64_str,mimeType){return"data:"+mimeType+";base64,"+base64_str;}}
WLIU.IMAGEACTION=function(opts){this.allowSize=GCONFIG.max_upload_size,this.allowType=GCONFIG.image_allow_type;this.view="medium";this.execute=[];if(opts){if(opts.allowSize)this.allowSize=opts.allowSize;if(opts.allowType)this.allowType=opts.allowType;}}
WLIU.IMAGEACTION.prototype={setScope:function(theImage,p_scope,ngName){if(ngName){p_scope[ngName]=theImage;}else{p_scope.imgobj=theImage;}},setView:function(view){if(view)
this.view=view
else
this.view="medium";},doneReset:function(){this.execute=[];},fromFile:function(theImage,file,callback,donecall){theImage.full_name=file.name.fileName();theImage.short_name=file.name.shortName();theImage.ext_name=file.name.extName();theImage.mime_type=file.type;theImage.size=file.size;theImage.errorCode=0;theImage.errorMessage="";this.doneReset();if(this.allowType.indexOf(theImage.ext_name.toUpperCase())>=0||this.allowType.indexOf("*")>=0){if(theImage.size<=this.allowSize){this._fromBlob(theImage,file,callback,donecall);}else{theImage.errorCode=1;theImage.errorMessage="File size "+theImage.size.toSize()+" over maximum size "+this.allowSize.toSize()+".";if(callback)if($.isFunction(callback))callback(theImage);if(donecall)if($.isFunction(donecall))donecall(theImage);}}else{theImage.errorCode=1;theImage.errorMessage="Only file type: ["+this.allowType.join(", ")+"] allow to upload.";if(callback)if($.isFunction(callback))callback(theImage);if(donecall)if($.isFunction(donecall))donecall(theImage);}},exportImage:function(theImage,rsize){var base64_data=this.imageData(theImage,rsize);FFILE.exportDataURL(base64_data);},clearImage:function(theImage){theImage=new WLIU.IMAGE();return theImage;},imageData:function(theImage,view){if(view){if(theImage.resize[view])
if(theImage.resize[view].data)
return theImage.resize[view].data;else
return"";else
return"";}else{if(theImage.resize[this.view])
if(theImage.resize[this.view].data)
return theImage.resize[this.view].data;else
return"";else
return"";}},image2Canvas:function(ctx,dataUrl,callback){var img=new Image();img.onload=function(){ctx.drawImage(img,0,0);if(callback)if($.isFunction(callback))callback(ctx);}
img.src=dataUrl;},resizeAll:function(theImage,callback,donecall){this.doneReset();this._resizeAll(theImage,callback,donecall);},rotate:function(theImage,callback,donecall){this.doneReset();this._rotateAll(theImage,callback,donecall);},crop:function(theImage,ww,hh,x,y,nw,nh,callback,donecall){this.doneReset();this._cropLarge(theImage,ww,hh,x,y,nw,nh,callback,donecall);},cropDiv:function(theImage,frame_div,crop_div,callback,donecall){this.doneReset();this._cropLarge(theImage,frame_div.width(),frame_div.height(),crop_div.position().left,crop_div.position().top,crop_div.outerWidth(),crop_div.outerHeight(),callback,donecall);},cropDivReset:function(crop_div){crop_div.css({left:"5%",top:"5%",width:"90%",height:"90%"});},cropReset:function(theImage,callback,donecall){this.doneReset();this._cropReset(theImage,callback,donecall);},_fromBlob:function(theImage,file,callback,donecall){var _self=this;var fs=new FileReader();fs.onload=function(ev1){var data=ev1.target.result;_self._imageDataURL(theImage,data,callback,donecall);}
fs.readAsDataURL(file);},_readBlob:function(file,callback){var fs=new FileReader();fs.onload=function(ev1){var data=ev1.target.result;if(callback)if($.isFunction(callback))callback(data);}
fs.readAsDataURL(file);},_imageDataURL:function(theImage,dataURL,callback,donecall){var _self=this;var t_img=new Image();t_img.onload=function(){_self._initImage(theImage,t_img,callback,donecall);}
t_img.src=dataURL;},_initImage:function(theImage,t_img,callback,donecall){var _self=this;var originImg=theImage.resize.origin;var canvas=document.createElement("canvas");var ctx=canvas.getContext("2d");var ratio_ww=1;var ratio_hh=1;if(_self.scale){if(originImg.ww>0)ratio_ww=originImg.ww/t_img.width;if(originImg.hh>0)ratio_hh=originImg.hh/t_img.height;}else{if(originImg.ww>0&&t_img.width>originImg.ww)ratio_ww=originImg.ww/t_img.width;if(originImg.hh>0&&t_img.height>originImg.hh)ratio_hh=originImg.hh/t_img.height;}
var ratio=Math.min(ratio_ww,ratio_hh);canvas.width=t_img.width*ratio;canvas.height=t_img.height*ratio;ctx.drawImage(t_img,0,0,t_img.width,t_img.height,0,0,canvas.width,canvas.height);var imgDataURL=canvas.toDataURL(theImage.mime_type);originImg.width=canvas.width;originImg.height=canvas.height;originImg.data=imgDataURL;originImg.size=imgDataURL.length;originImg.name="origin";canvas=null;_self._resizeAll(theImage,callback,donecall);if(callback&&_self.view=="origin")if($.isFunction(callback))callback(originImg);},_resizeAll:function(theImage,callback,donecall){var _self=this;_self.execute.push("origin");for(var rname in theImage.resize){if(rname!="origin"){this._resizeImage(theImage,rname,callback,donecall);}}},_resizeImage:function(theImage,rname,callback,donecall){var _self=this;var originImg=theImage.resize.origin;var resizeImg=theImage.resize[rname];var t_img=new Image();t_img.onload=function(){var canvas=document.createElement("canvas");var ctx=canvas.getContext("2d");var ratio_ww=1;var ratio_hh=1;if(_self.scale){if(resizeImg.ww>0)ratio_ww=resizeImg.ww/t_img.width;if(resizeImg.hh>0)ratio_hh=resizeImg.hh/t_img.height;}else{if(resizeImg.ww>0&&t_img.width>resizeImg.ww)ratio_ww=resizeImg.ww/t_img.width;if(resizeImg.hh>0&&t_img.height>resizeImg.hh)ratio_hh=resizeImg.hh/t_img.height;}
var ratio=Math.min(ratio_ww,ratio_hh);canvas.width=t_img.width*ratio;canvas.height=t_img.height*ratio;ctx.drawImage(t_img,0,0,t_img.width,t_img.height,0,0,canvas.width,canvas.height);var imgDataURL=canvas.toDataURL(theImage.mime_type);resizeImg.width=canvas.width;resizeImg.height=canvas.height;resizeImg.data=imgDataURL;resizeImg.size=imgDataURL.length;resizeImg.name=rname;if(callback&&_self.view==rname)if($.isFunction(callback))callback(resizeImg);_self.execute.push(rname);var flag_done=true;if(_self.execute.length<6)flag_done=false;if(donecall&&flag_done)if($.isFunction(donecall))donecall(theImage);canvas=null;}
t_img.src=originImg.data;},_resizeImageFromLarge:function(theImage,rname,callback,donecall){var _self=this;var largeImg=theImage.resize.large;var resizeImg=theImage.resize[rname];var t_img=new Image();t_img.onload=function(){var canvas=document.createElement("canvas");var ctx=canvas.getContext("2d");var ratio_ww=1;var ratio_hh=1;if(_self.scale){if(resizeImg.ww>0)ratio_ww=resizeImg.ww/t_img.width;if(resizeImg.hh>0)ratio_hh=resizeImg.hh/t_img.height;}else{if(resizeImg.ww>0&&t_img.width>resizeImg.ww)ratio_ww=resizeImg.ww/t_img.width;if(resizeImg.hh>0&&t_img.height>resizeImg.hh)ratio_hh=resizeImg.hh/t_img.height;}
var ratio=Math.min(ratio_ww,ratio_hh);canvas.width=t_img.width*ratio;canvas.height=t_img.height*ratio;ctx.drawImage(t_img,0,0,t_img.width,t_img.height,0,0,canvas.width,canvas.height);var imgDataURL=canvas.toDataURL(theImage.mime_type);resizeImg.width=canvas.width;resizeImg.height=canvas.height;resizeImg.data=imgDataURL;resizeImg.size=imgDataURL.length;resizeImg.name=rname;if(callback&&_self.view==rname)if($.isFunction(callback))callback(resizeImg);_self.execute.push(rname);var flag_done=true;if(_self.execute.length<6)flag_done=false;if(donecall&&flag_done)if($.isFunction(donecall))donecall(theImage);canvas=null;}
t_img.src=largeImg.data;},_rotateAll:function(theImage,callback,donecall){this.execute.push("origin");for(var rname in theImage.resize){if(rname!="origin")this._rotateImage(theImage,rname,callback,donecall);}},_rotateImage:function(theImage,rname,callback,donecall){var _self=this;var degree=90;var resizeImg=theImage.resize[rname];var t_img=new Image();t_img.onload=function(){var canvas=document.createElement("canvas");var ctx=canvas.getContext("2d");if(degree%180==0){canvas.width=t_img.width;canvas.height=t_img.height;}else{canvas.width=t_img.height;canvas.height=t_img.width;}
ctx.translate(canvas.width/2,canvas.height/2);ctx.rotate(degree*Math.PI/180);ctx.drawImage(t_img,-t_img.width/2,-t_img.height/2);var imgDataURL=canvas.toDataURL(theImage.mime_type);resizeImg.data=imgDataURL;resizeImg.width=canvas.width;resizeImg.height=canvas.height;resizeImg.size=imgDataURL.length;canvas=null;if(callback&&$.isFunction(callback)&&_self.view==rname)callback(resizeImg);_self.execute.push(rname);var flag_done=true;if(_self.execute.length<6)flag_done=false;if(donecall&&flag_done)if($.isFunction(donecall))donecall(theImage);}
t_img.src=resizeImg.data;},_cropLarge:function(theImage,ww,hh,x,y,nw,nh,callback,donecall){var _self=this;var largeImg=theImage.resize.large;if(largeImg.data!=""){var t_img=new Image();t_img.onload=function(){var ratio_ww=1;var ratio_hh=1;ratio_ww=t_img.width/ww;ratio_hh=t_img.height/hh;x=x*ratio_ww;y=y*ratio_hh;nw=nw*ratio_ww;nh=nh*ratio_hh;if(x<0)x=0;if(y<0)y=0;if(x+nw>t_img.width)nw=t_img.width-x;if(y+nh>t_img.height)nh=t_img.height-y;var canvas=document.createElement("canvas");var ctx=canvas.getContext("2d");canvas.width=nw;canvas.height=nh;ctx.drawImage(t_img,x,y,nw,nh,0,0,canvas.width,canvas.height);var imgDataURL=canvas.toDataURL(theImage.mime_type);largeImg.width=canvas.width;largeImg.height=canvas.height;largeImg.data=imgDataURL;largeImg.length=imgDataURL.length;largeImg.size=largeImg.length.toSize();largeImg.name="large";if(callback&&$.isFunction(callback)&&_self.view=="large")callback(largeImg);_self._cropAll(theImage,callback,donecall);}
t_img.src=largeImg.data;}},_cropAll:function(theImage,callback,donecall){var _self=this;_self.execute.push("origin");_self.execute.push("large");var largeImg=theImage.resize.large;var resizeImgs=theImage.resize;for(var rname in resizeImgs){if(rname!="origin"&&rname!="large"){this._resizeImageFromLarge(theImage,rname,callback,donecall);}}},_cropReset:function(theImage,callback,donecall){this._resizeAll(theImage,callback,donecall);},}
WLIU.CANVAS=function(opts){this.flag=false;this.prevX=0,this.currX=0,this.prevY=0,this.currY=0,this.dot_flag=false;this.signed=false;this.subject=opts.subject?opts.subject:"";this.firstName=opts.firstName?opts.firstName:"";this.lastName=opts.lastName?opts.lastName:"";this.lineColor="black";this.lineWidth=6;this.font="14px Arial";this.canvas=opts.canvas?opts.canvas:document.createElement("canvas");this.ctx=this.canvas.getContext("2d");return this;}
WLIU.CANVAS.prototype={init:function(){this.signed=false;this.addCanvasEvent();},addCanvasEvent:function(){var _self=this;this.canvas.addEventListener("mousemove",function(e){_self.findxy('move',e);},false);this.canvas.addEventListener("mousedown",function(e){document.onmousewheel=stop;_self.findxy('down',e);},false);this.canvas.addEventListener("mouseup",function(e){_self.findxy('up',e);},false);this.canvas.addEventListener("mouseout",function(e){_self.findxy('out',e);},false);},drawText:function(text,x,y){this.ctx.font=this.font;this.ctx.fillText(text,x,y);},drawLine:function(){this.ctx.beginPath();this.ctx.moveTo(this.prevX,this.prevY);this.ctx.lineTo(this.currX,this.currY);this.ctx.strokeStyle=this.lineColor;this.ctx.lineWidth=this.lineWidth;this.ctx.stroke();this.ctx.closePath();},getDataUrl:function(){this.ctx.fillStyle="white";this.ctx.fillRect(0,0,this.canvas.width,20);this.ctx.fillRect(0,this.canvas.height-20,this.canvas.width,20);this.ctx.fillStyle=this.lineColor;this.drawText("Subject: "+this.subject,2,16);this.drawText("Print Name: "+this.firstName+" "+this.lastName+" {Signed on: "+(new Date()).format("Y-m-d H:i:s")+" "+(new Date()).timezone()+"}",2,this.canvas.height-4);return this.canvas.toDataURL();},clear:function(){this.signed=false;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);},findxy:function(res,e){switch(res){case"down":this.prevX=this.currX;this.prevY=this.currY;this.currX=e.offsetX;this.currY=e.offsetY;this.signed=true;this.flag=true;this.dot_flag=true;if(this.dot_flag){this.ctx.beginPath();this.ctx.fillStyle=this.lineColor;this.ctx.fillRect(this.currX,this.currY,2,2);this.ctx.closePath();dot_flag=false;}
break;case"up":case"out":this.flag=false;break;case"move":if(this.flag){this.prevX=this.currX;this.prevY=this.currY;this.currX=e.offsetX;this.currY=e.offsetY;this.drawLine();}
break;}}}
var FCOLLECT=new WLIU.COLLECTION();var FOBJECT=new WLIU.OBJECT();var FROW=new WLIU.ROWACTION();var FCOM=new WLIU.COM();var FTABLE=new WLIU.TABLEACTION();var FFILE=new WLIU.FILEACTION();var FIMAGE=new WLIU.IMAGEACTION();
var WLIU=WLIU||{};WLIU.TABLE=function(opts){this.sc=null;this.lang=opts.lang?opts.lang:"cn";this.scope=opts.scope?opts.scope:"";this.url=opts.url?opts.url:"";this.tooltip=opts.tooltip?opts.tooltip:"";this.firstone=opts.firstone?opts.firstone:0;this.current="";this._rowno=-1;this.action="get";this.error={errorCode:0,errorMessage:""};this.rights={view:1,save:1,cancel:1,clear:1,delete:1,add:1,detail:1,output:1,print:1};this.cols=[];this.rows=[];this.navi={paging:1,pageno:0,pagesize:20,pagetotal:0,recordtotal:0,match:1,loading:0,orderby:"",sortby:"",tooltip:""};this.filters=[];this.lists={};this.callback={ajaxBefore:null,ajaxAfter:null,ajaxComplete:null,ajaxError:null,ajaxSuccess:null};this.xhr=null;$.extend(this.rights,opts.rights);$.extend(this.cols,opts.cols);$.extend(this.navi,opts.navi);$.extend(this.filters,opts.filters);$.extend(this.lists,opts.lists);$.extend(this.callback,opts.callback);}
WLIU.TABLE.prototype={setScope:function(p_scope,tableName){if(tableName){p_scope[tableName]=this;}else{p_scope.table=this;}
this.sc=p_scope;},index:function(guid){return FTABLE.index(this,guid);},indexByRow:function(theRow){return FTABLE.indexByRow(this,theRow);},rowstate:function(theRow,p_rowstate){return FROW.rowstate(theRow,p_rowstate);},getRowKeys:function(theRow){return FTABLE.getRowKeys(this,theRow);},getCurrentKeys:function(){return FTABLE.getRowKeys(this,this.getCurrent());},colMeta:function(col_name){return FTABLE.colMeta(this,col_name);},colDefault:function(col_name,p_value){return FTABLE.colDefault(this,col_name,p_value);},colList:function(col_name){return FTABLE.colList(this,col_name);},getList:function(list_name){return FTABLE.getList(this,list_name);},relationHide:function(theRow,col_name){return FTABLE.relationHide(this,theRow,col_name);},relationChange:function(theRow){return FTABLE.relationChange(this,theRow);},relationHideCurrent:function(col_name){return FTABLE.relationHideCurrent(this,col_name);},relationChangeCurrent:function(){return FTABLE.relationChangeCurrent(this);},filterMeta:function(col_name){return FTABLE.filterMeta(this,col_name);},filterClear:function(){return FTABLE.filterClear(this);},filterValue:function(name,val){return FTABLE.filterValue(this,name,val);},filterDefault:function(name,val){return FTABLE.filterDefault(this,name,val);},getRow:function(theRow){return FTABLE.getRow(this,theRow);},getRowByGuid:function(guid){return FTABLE.getRowByGuid(this,guid);},getCurrent:function(){return FTABLE.getCurrent(this);},getCol:function(theRow,col_name){return FTABLE.getCol(this,theRow,col_name);},getColCurrent:function(col_name){return FTABLE.getColCurrent(this,col_name);},getColByGuid:function(guid,col_name){return FTABLE.getColByGuid(this,guid,col_name);},tableError:function(p_error){return FTABLE.tableError(this,p_error);},rowError:function(theRow,p_error){return FROW.rowerror(theRow,p_error);},colError:function(theRow,col_name,p_error){return FROW.colerror(theRow,col_name,p_error);},changeCol:function(theRow,col_name){return FTABLE.changeCol(this,theRow,col_name);},changeColCurrent:function(col_name){return FTABLE.changeColCurrent(this,col_name);},changeColByGuid:function(guid,col_name){return FTABLE.changeColByGuid(this,guid,col_name);},setImage:function(theRow,col_name,oImg){return FTABLE.setImage(this,theRow,col_name,oImg);},setImageCurrent:function(col_name,oImg){return FTABLE.setImageCurrent(this,col_name,oImg);},init:function(IDKeyValues,callback){FTABLE.init(this,callback);},newRow:function(keyvalues){return FTABLE.newRow(this,keyvalues);},addRow:function(ridx,t_row){return FTABLE.addRow(this,ridx,t_row);},cancelRow:function(theRow){return FTABLE.cancelRow(this,theRow);},cancelRows:function(){return FTABLE.cancelRows(this);},resetRow:function(theRow){return FTABLE.resetRow(this,theRow);},removeRow:function(theRow){return FTABLE.removeRow(this,theRow);},deleteRow:function(theRow){return FTABLE.detachRow(this,theRow);},deleteRows:function(){},saveRow:function(theRow,callback){FTABLE.saveRow(this,theRow,callback);},saveRows:function(callback){FTABLE.saveRows(this,callback);},getRows:function(callback){FTABLE.getRows(this,callback);},allRows:function(callback){FTABLE.allRows(this,callback);},matchRows:function(callback){FTABLE.matchRows(this,callback);},formInit:function(IDKeyValues,callback){FTABLE.init(this,IDKeyValues,callback);},formNew:function(IDKeyValues,callback){FTABLE.formNew(this,IDKeyValues,callback);},formReset:function(){FTABLE.formReset(this);},formGet:function(IDKeyValues,callback){FTABLE.formGet(this,IDKeyValues,callback);},getRecords:function(IDKeyValues,callback){FTABLE.getRecords(this,IDKeyValues,callback);},getAgetAllRecords:function(IDKeyValues,callback){FTABLE.getAllRecords(this,IDKeyValues,callback);},getMatchRecords:function(IDKeyValues,callback){FTABLE.getMatchRecords(this,IDKeyValues,callback);},errorCall:function(theTable){FTABLE.errorCall(this);},firstPage:function(){FTABLE.firstPage(this);},firstState:function(){return FTABLE.firstState(this);},previousPage:function(){FTABLE.previousPage(this);},previousState:function(){return FTABLE.previousState(this);},nextPage:function(){FTABLE.nextPage(this);},nextState:function(){return FTABLE.nextState(this);},lastPage:function(){FTABLE.lastPage(this);},lastState:function(){return FTABLE.lastState(this);},rowno:function(guid){return FTABLE.rowno(this,guid);},navLeft:function(){FTABLE.navLeft(this);},navLeftState:function(){return FTABLE.navLeftState(this);},navRight:function(){FTABLE.navRight(this);},navRightState:function(){return FTABLE.navRightState(this);},orderState:function(name,sort){return FTABLE.orderState(this,name,sort);}}
var WLIU=WLIU||{};WLIU.FORM=function(opts){this.selfName=opts.name?opts.name:"form";this.scope=opts.scope?opts.scope:"";this.action=opts.action?opts.action:"save";this.rowstate=2;this.lang=opts.lang?opts.lang:"cn";this.url=opts.url?opts.url:"";this.error={errorCode:0,errorMessage:"",errorField:""};this.rights={view:1,save:0,cancel:1,clear:1,delete:0,add:1,detail:1,output:0,print:1};this.cols=[];this.data=[];$.extend(this.cols,opts.cols);}
WLIU.FORM.prototype={setScope:function(sc){if(sc){this.scope=sc;return this.scope;}else{return this.scope;}},_resetError:function(){this.error.errorCode=0;this.error.errorMessage="";this.error.errorField="";$("#wliu-form-message-body","div[wliu-form-message]").html("");$("div[wliu-form-message]").removeAttr("active");$("#wliu-form-popup-body","div[wliu-form-popup]").html("");if(this.cols.length>0){for(var cidx=0;cidx<this.cols.length;cidx++){var theCol=this.cols[cidx];$("a[wliu-form-col-error][scope='"+this.scope+"'][name='"+theCol.name+"']").attr("popup-body","").removeAttr("active");}}},_setError:function(ntable){var errMsg=ntable.error.errorMessage;if(this.cols.length>0){for(var cidx=0;cidx<this.cols.length;cidx++){var theCol=this.cols[cidx];var nCol=FCOLLECT.objectByKV(ntable.data,{name:theCol.name});if(nCol&&nCol.errorCode>0){$("a[wliu-form-col-error][scope='"+this.scope+"'][name='"+theCol.name+"']").attr("popup-body",nCol.errorMessage).addAttr("active");errMsg+=(errMsg?"\n":"")+nCol.errorMessage;}else{$("a[wliu-form-col-error][scope='"+this.scope+"'][name='"+theCol.name+"']").attr("popup-body","").removeAttr("active");}}}
this.error.errorCode=ntable.error.errorCode;this.error.errorField=ntable.error.errorField;this.error.errorMessage=errMsg;if(this.error.errorCode){$("#wliu-form-message-body","div[wliu-form-message]").html(this.error.errorMessage.nl2br1());$("div[wliu-form-message]").addAttr("active");$("#wliu-form-popup-body","div[wliu-form-popup]").html(this.error.errorMessage.nl2br1());$("div[wliu-form-popup]").trigger("show");}else{$("#wliu-form-message-body","div[wliu-form-message]").html("");$("div[wliu-form-message]").removeAttr("active");$("#wliu-form-popup-body","div[wliu-form-popup]").html("");}},_initData:function(){if(this.cols.length>0){for(var cidx=0;cidx<this.cols.length;cidx++){var theCol=this.cols[cidx];if(theCol.defval){switch(theCol.coltype){case"text":$("span[scope='"+this.scope+"'][name='"+theCol.name+"']").html(theCol.defval);break;case"hidden":case"textbox":case"password":case"date":$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").val(theCol.defval);break;case"textarea":$("textarea[scope='"+this.scope+"'][name='"+theCol.name+"']").val(theCol.defval);break;case"select":$("select[scope='"+this.scope+"'][name='"+theCol.name+"']").val(theCol.defval);break;case"passpair":$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").val(theCol.defval);$("input[scope='"+this.scope+"'][name='confirm_"+theCol.name+"']").val(theCol.defval);break;case"radio":$("input[scope='"+this.scope+"'][name='"+theCol.name+"']:checked").attr("checked",false);$("input[scope='"+this.scope+"'][name='"+theCol.name+"'][value='"+theCol.defval+"']").attr("checked",true);break;case"checkbox":$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").attr("checked",false);$.map(theCol.defval.split(","),function(n){$("input[scope='"+this.scope+"'][name='"+theCol.name+"'][value='"+n+"']").attr("checked",true);});break;case"bool":$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").attr("checked",theCol.defval?true:false);break;}}}}},_clearData:function(){if(this.cols.length>0){for(var cidx=0;cidx<this.cols.length;cidx++){var theCol=this.cols[cidx];switch(theCol.coltype){case"text":$("span[scope='"+this.scope+"'][name='"+theCol.name+"']").html("");break;case"hidden":case"textbox":case"password":case"date":$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").val("");break;case"textarea":$("textarea[scope='"+this.scope+"'][name='"+theCol.name+"']").val("");break;case"select":$("select[scope='"+this.scope+"'][name='"+theCol.name+"']").val("");break;case"passpair":$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").val("");$("input[scope='"+this.scope+"'][name='confirm_"+theCol.name+"']").val("");break;case"radio":$("input[scope='"+this.scope+"'][name='"+theCol.name+"']:checked").attr("checked",false);break;case"checkbox":$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").attr("checked",false);break;case"bool":$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").attr("checked",false);break;}}}},_getData:function(){var pdata=[];if(this.cols.length>0){for(var cidx=0;cidx<this.cols.length;cidx++){var theCol=this.cols[cidx];var colDataObj={};colDataObj.name=theCol.name;colDataObj.key=theCol.key;colDataObj.errorCode=0;colDataObj.errorMessage="";switch(theCol.coltype){case"text":colDataObj.value=$("span[scope='"+this.scope+"'][name='"+theCol.name+"']").html();break;case"hidden":case"textbox":case"password":case"date":colDataObj.value=$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").val();break;case"textarea":colDataObj.value=$("textarea[scope='"+this.scope+"'][name='"+theCol.name+"']").val();break;case"select":colDataObj.value=$("select[scope='"+this.scope+"'][name='"+theCol.name+"']").val();break;case"passpair":colDataObj.value={};colDataObj.value.password=$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").val();colDataObj.value.confirm=$("input[scope='"+this.scope+"'][name='confirm_"+theCol.name+"']").val();break;case"radio":colDataObj.value=$("input[scope='"+this.scope+"'][name='"+theCol.name+"']:checked").val();break;case"checkbox":colDataObj.value=$("input[scope='"+this.scope+"'][name='"+theCol.name+"']:checked").map(function(){return $(this).val();}).get().join(",");break;case"bool":colDataObj.value=$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").is(":checked")?1:0;break;}
pdata.push(colDataObj);}}
return pdata;},_getDataID:function(){var pdata=[];if(this.cols.length>0){for(var cidx=0;cidx<this.cols.length;cidx++){var theCol=this.cols[cidx];if(parseInt(theCol.key)){var colDataObj={};colDataObj.name=theCol.name;colDataObj.key=theCol.key;colDataObj.errorCode=0;colDataObj.errorMessage="";colDataObj.value=$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").val();pdata.push(colDataObj);}}}
return pdata;},resetData:function(theRows,theRow){this._resetError();this.action="save";this.rowstate=2;this._initData();},getData:function(callback){this._resetError();this.action="get";this.rowstate=0;var ntable={};ntable.scope=this.scope;ntable.action=this.action;ntable.rowstate=this.rowstate;ntable.lang=this.lang;ntable.error={errorCode:0,errorMessage:"",errorField:""};ntable.cols=this.cols;this.ajaxCall(ntable,callback);},customData:function(callback){this._resetError();this.action="custom";this.rowstate=0;var ntable={};ntable.scope=this.scope;ntable.action=this.action;ntable.rowstate=this.rowstate;ntable.lang=this.lang;ntable.error={errorCode:0,errorMessage:"",errorField:""};ntable.cols=this.cols;if(callback&&$.isFunction(callback.custom))ntable.data=callback.custom();this.ajaxCall(ntable,callback);},updateData:function(callback){this._resetError();this.action="save";this.rowstate=1;var ntable={};ntable.scope=this.scope;ntable.action=this.action;ntable.rowstate=this.rowstate;ntable.lang=this.lang;ntable.error={errorCode:0,errorMessage:"",errorField:""};ntable.cols=this.cols;ntable.data=this._getData();this.ajaxCall(ntable,callback);},addData:function(callback){this._resetError();this.action="save";this.rowstate=2;var ntable={};ntable.scope=this.scope;ntable.action=this.action;ntable.rowstate=this.rowstate;ntable.lang=this.lang;ntable.error={errorCode:0,errorMessage:"",errorField:""};ntable.cols=this.cols;ntable.data=this._getData();this.ajaxCall(ntable,callback);},deleteData:function(callback){this._resetError();this.action="save";this.rowstate=3;var ntable={};ntable.scope=this.scope;ntable.action=this.action;ntable.rowstate=this.rowstate;ntable.lang=this.lang;ntable.error={errorCode:0,errorMessage:"",errorField:""};ntable.cols=this.cols;ntable.data=this._getDataID();this.ajaxCall(ntable,callback);},ajaxCall:function(ntable,callback){var _self=this;$("div#wliu-wait-id[wliu-wait]").trigger("show");if(callback&&callback.ajaxBefore&&$.isFunction(callback.ajaxBefore))callback.ajaxBefore(table);$.ajax({data:{table:ntable},dataType:"json",contentType:"application/x-www-form-urlencoded",error:function(xhr,tStatus,errorTh){$("div#wliu-wait-id[wliu-wait]").trigger("hide");},success:function(req,tStatus){$("div#wliu-wait-id[wliu-wait]").trigger("hide");if(callback&&callback.ajaxAfter&&$.isFunction(callback.ajaxAfter))callback.ajaxAfter(req.table);if(parseInt(req.table.error.errorCode)==0){if(callback&&callback.ajaxSuccess&&$.isFunction(callback.ajaxSuccess))callback.ajaxSuccess(req.table);}else{if(callback&&callback.ajaxError&&$.isFunction(callback.ajaxError))callback.ajaxError(req.table);}
switch(req.table.action){case"get":_self._syncRow(req.table);break;case"save":switch(parseInt(req.table.rowstate)){case 1:case 2:_self._updateRow(req.table);break;case 3:_self._deleteRow(req.table);break;}
break;case"custom":_self._custRow(req.table);break;}
_self._setError(req.table);if(callback&&callback.ajaxComplete&&$.isFunction(callback.ajaxComplete))callback.ajaxComplete(_self);GCONFIG.errorCall(req.table.error);},type:"post",url:_self.url});},_syncRow:function(ntable){if(ntable.error.errorCode==0){this._clearData();if(this.cols.length>0){for(var cidx=0;cidx<this.cols.length;cidx++){var theCol=this.cols[cidx];var colVal=ntable.data[theCol.name]?ntable.data[theCol.name]:"";var colVal=(""+colVal).trim();switch(theCol.coltype){case"text":$("span[scope='"+this.scope+"'][name='"+theCol.name+"']").html(colVal);break;case"hidden":case"textbox":case"password":case"date":$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").val(colVal);break;case"textarea":$("textarea[scope='"+this.scope+"'][name='"+theCol.name+"']").val(colVal);break;case"select":$("select[scope='"+this.scope+"'][name='"+theCol.name+"']").val(colVal);break;case"passpair":$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").val(colVal);$("input[scope='"+this.scope+"'][name='confirm_"+theCol.name+"']").val(colVal);break;case"radio":$("input[scope='"+this.scope+"'][name='"+theCol.name+"']:checked").attr("checked",false);$("input[scope='"+this.scope+"'][name='"+theCol.name+"'][value='"+colVal+"']").attr("checked",true);break;case"checkbox":$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").attr("checked",false);$.map(colVal.split(","),function(n){$("input[scope='"+this.scope+"'][name='"+theCol.name+"'][value='"+n+"']").attr("checked",true);});break;case"bool":colVal=parseInt(colVal);$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").attr("checked",colVal?true:false);break;}}}}},_updateRow:function(ntable){if(ntable.error.errorCode==0){if(this.cols.length>0){for(var cidx=0;cidx<this.cols.length;cidx++){var theCol=this.cols[cidx];if(parseInt(theCol.key)){var nCol=FCOLLECT.objectByKV(ntable.data,{name:theCol.name});if(nCol&&nCol.errorCode<=0)$("input[scope='"+this.scope+"'][name='"+theCol.name+"']").val(nCol.value);}}}}
GCONFIG.saveSuccess(ntable.error);},_deleteRow:function(ntable){if(ntable.error.errorCode==0){this._clearData();}
GCONFIG.saveSuccess(ntable.error);},_custRow:function(ntable){GCONFIG.saveSuccess(ntable.error);},errorCall:function(){if(this.error.errorCode==990){window.location.href=this.error.errorField;}}}
var WLIU=WLIU||{};WLIU.TREE=function(opts){this.sc=null;this.lang=opts.lang?opts.lang:"cn";this.title=opts.title?opts.title:"";this.treeid=opts.treeid?opts.treeid:0;this.rootid=opts.rootid?opts.rootid:0;this.refid=opts.refid?opts.refid:0;this.scope=opts.scope?opts.scope:"";this.url=opts.url?opts.url:"";this.rootadd=opts.rootadd?opts.rootadd:0;this.pbutton=opts.pbutton?opts.pbutton:["add","save","cancel","delete"],this.sbutton=opts.sbutton?opts.sbutton:["add","save","cancel","delete"],this.mbutton=opts.mbutton?opts.mbutton:["save","cancel","delete"],this.current="";this.action="get";this.error={errorCode:0,errorMessage:""};this.rights={view:1,save:0,cancel:1,clear:1,delete:0,add:1,detail:1,output:0,print:1};this.cols={};this.rows=[];this.filters=[];this.lists={};this.xhr=null;$.extend(this.rights,opts.rights);$.extend(this.cols,opts.cols);$.extend(this.filters,opts.filters);$.extend(this.lists,opts.lists);this._treeName="tree";}
WLIU.TREE.prototype={setScope:function(p_scope,treeName){if(treeName){this._treeName=treeName;p_scope[treeName]=this;}else{p_scope.tree=this;}
this.sc=p_scope;},index:function(guid){return FTABLE.index(this,guid);},indexByRow:function(theRow){return FTABLE.indexByRow(this,theRow);},rowstate:function(theRow,p_rowstate){return FROW.rowstate(theRow,p_rowstate);},keyValue:function(theRow){var keyCol=FCOLLECT.objectByKV(theRow.cols,{key:1});return keyCol.value;},colMeta:function(theRow,col_name){var theCol=this.getCol(theRow,col_name);if(theCol){return FCOLLECT.objectByKV(this.cols[theCol.table],{name:col_name});}else{return undefined;}},colDefault:function(col_name,p_value){return FTABLE.colDefault(this,col_name,p_value);},colList:function(theRow,col_name){var theCol=this.colMeta(theRow,col_name);if(theCol){return this.lists[theCol.list];}else{return undefined;}},getList:function(list_name){return FTABLE.getList(this,list_name);},filterMeta:function(col_name){return FTABLE.filterMeta(this,col_name);},filterClear:function(){return FTABLE.filterClear(this);},filterValue:function(name,val){return FTABLE.filterValue(this,name,val);},filterDefault:function(name,val){return FTABLE.filterDefault(this,name,val);},getRow:function(theRow){return theRow;},getCol:function(theRow,col_name){return FCOLLECT.objectByKV(theRow.cols,{name:col_name});},tableError:function(p_error){return FTABLE.tableError(this,p_error);},rowError:function(theRow,p_error){return FROW.rowerror(theRow,p_error);},colError:function(theRow,col_name,p_error){return FROW.colerror(theRow,col_name,p_error);},changeCol:function(theRow,col_name){return FTABLE.changeCol(this,theRow,col_name);},newRow:function(keyvalues){return FTABLE.newRow(this,keyvalues);},addRow:function(ridx,t_row){return FTABLE.addRow(this,ridx,t_row);},addChild:function(theRows,theRow){if(theRow=="root"){var newRow=new WLIU.ROW(this.cols.p);var keyVal=this.rootid;newRow.rowstate=2;newRow.parent=keyVal;newRow.type="p";this.rows=this.rows?this.rows:[];this.rows.unshift(newRow);}else{var tableLevel=theRow.type;switch(tableLevel){case"p":var newRow=new WLIU.ROW(this.cols.s);var keyVal=this.keyValue(theRow);newRow.rowstate=2;newRow.parent=keyVal;newRow.type="s";theRow.rows=theRow.rows?theRow.rows:[];theRow.rows.unshift(newRow);break;case"s":var newRow=new WLIU.ROW(this.cols.m);var keyVal=this.keyValue(theRow);newRow.rowstate=2;newRow.parent=keyVal;newRow.type="m";theRow.rows=theRow.rows?theRow.rows:[];theRow.rows.unshift(newRow);break;case"m":break;}}},cancelRow:function(theRows,theRow){if(theRow){switch(theRow.rowstate){case 0:break;case 1:FROW.cancel(theRow);break;case 2:this.removeRow(theRows,theRow);break;case 3:FROW.cancel(theRow);break;}
return theRow;}else{return undefined;}},removeRow:function(theRows,theRow){var ridx=FCOLLECT.indexByKV(theRows,{guid:theRow.guid});FCOLLECT.delete(theRows,ridx);},deleteRow:function(theRows,theRow){return FROW.detach(theRow);},saveRow:function(theRows,theRow,callback){var ntable={};ntable.scope=this.scope;ntable.lang=this.lang;ntable.rootid=this.rootid;ntable.refid=this.refid;ntable.action="save";ntable.error={errorCode:0,errorMessage:""};ntable.cols=this.cols;ntable.rows=FROW.getChangeRow(theRow);this.ajaxCall(ntable,callback,theRow,theRows);},getRows:function(callback){var ntable={};ntable.scope=this.scope;ntable.lang=this.lang;ntable.rootid=this.rootid;ntable.refid=this.refid;ntable.action="get";ntable.error={errorCode:0,errorMessage:""};ntable.cols=this.cols;ntable.filters=FTABLE.getFilters(this);ntable.lists=FTABLE.getLists(this);ntable.rows=[];this.ajaxCall(ntable,callback);},getRecords:function(IDKeyValues,callback){if(IDKeyValues){if(IDKeyValues.rootid!=undefined)this.rootid=IDKeyValues.rootid;this.refid=IDKeyValues.refid?IDKeyValues.refid:"";}
this.getRows(callback);},ajaxCall:function(ntable,callback,theRow,theRows){var _self=this;$("div#wliu-wait-id[wliu-wait]").trigger("show");if(callback&&callback.ajaxBefore&&$.isFunction(callback.ajaxBefore))callback.ajaxBefore(table);$.ajax({data:{table:ntable},dataType:"json",contentType:"application/x-www-form-urlencoded",error:function(xhr,tStatus,errorTh){$("div#wliu-wait-id[wliu-wait]").trigger("hide");},success:function(req,tStatus){$("div#wliu-wait-id[wliu-wait]").trigger("hide");if(callback&&callback.ajaxAfter&&$.isFunction(callback.ajaxAfter))callback.ajaxAfter(req.table);_self.tableError(req.table.error);switch(req.table.action){case"get":FTABLE.setLists(_self,req.table.lists);_self.syncRows(req.table);break;case"add":_self.updateRow(req.table,theRow,theRows);break;case"save":_self.updateRow(req.table,theRow,theRows);break;}
if(!_self.sc.$$phase)_self.sc.$apply();if(req.table.action=="get")$("ul[wliu-tree][root]").wliuTree();if(parseInt(req.table.error.errorCode)==0){if(callback&&callback.ajaxSuccess&&$.isFunction(callback.ajaxSuccess))callback.ajaxSuccess(req.table);}else{if(callback&&callback.ajaxError&&$.isFunction(callback.ajaxError))callback.ajaxError(req.table);}
GCONFIG.errorCall(req.table.error);},type:"post",url:_self.url});},syncRows:function(table){this.rights=angular.copy(table.rights);this.rows=[];if(this.cols.p&&this.cols.p.length>0){for(var pidx in table.rows){var _p_row=table.rows[pidx];var prow=new WLIU.ROW(this.cols.p,_p_row,this.scope);var p_keyvalue=this.keyValue(prow);prow.rowstate=0;prow.parent=this.rootid;prow.type="p";if(this.cols.s&&this.cols.s.length>0){prow.rows=[];for(var sidx in _p_row.rows){var _s_row=_p_row.rows[sidx];var srow=new WLIU.ROW(this.cols.s,_s_row,this.scope);var s_keyvalue=this.keyValue(srow);srow.rowstate=0;srow.parent=p_keyvalue;srow.type="s";if(this.cols.m&&this.cols.m.length>0){srow.rows=[];for(var midx in _s_row.rows){var _m_row=_s_row.rows[midx];var mrow=new WLIU.ROW(this.cols.m,_m_row,this.scope);mrow.rowstate=0;mrow.parent=s_keyvalue;mrow.type="m";srow.rows.push(mrow);}}
prow.rows.push(srow);}}
this.rows.push(prow);}}},updateRow:function(table,theRow,theRows){this.rights=angular.copy(table.rights);if(table.rows&&table.rows.length>0){var nrow=table.rows[0];if(nrow.error.errorCode>0){theRow.error.errorCode=nrow.error.errorCode;theRow.error.errorMessage=nrow.error.errorMessage;for(var cidx in nrow.cols){var ncol=nrow.cols[cidx];var theCol=FCOLLECT.objectByKV(theRow.cols,{name:ncol.name});if(theCol){this.colError(theRow,ncol.name,{errorCode:ncol.errorCode,errorMessage:ncol.errorMessage});}}}else{switch(parseInt(theRow.rowstate)){case 0:break;case 1:theRow.error.errorCode=nrow.error.errorCode;theRow.error.errorMessage=nrow.error.errorMessage;theRow.rowstate=0;for(var cidx in nrow.cols){var ncol=nrow.cols[cidx];var theCol=FCOLLECT.objectByKV(theRow.cols,{name:ncol.name});if(theCol){theCol.colstate=0;theCol.current=angular.copy(theCol.value);this.colError(theRow,ncol.name,{errorCode:0,errorMessage:""});}}
break;case 2:theRow.error.errorCode=nrow.error.errorCode;theRow.error.errorMessage=nrow.error.errorMessage;theRow.rowstate=0;for(var cidx in nrow.cols){var ncol=nrow.cols[cidx];var theCol=FCOLLECT.objectByKV(theRow.cols,{name:ncol.name});if(theCol){if(theCol.key){FROW.setColVal(theCol,ncol.value);}
theCol.colstate=0;theCol.current=angular.copy(theCol.value);this.colError(theRow,ncol.name,{errorCode:0,errorMessage:""});}}
break;case 3:theRow.error.errorCode=nrow.error.errorCode;theRow.error.errorMessage=nrow.error.errorMessage;theRow.rowstate=0;if(parseInt(theRow.error.errorCode)<=0){this.removeRow(theRows,theRow);}
break;}}}
GCONFIG.saveSuccess(table.error);}}
var WLIU=WLIU||{};WLIU.FILELIST=function(opts){this.sc=null;this.lang=opts.lang?opts.lang:"cn";this.url=opts.url?opts.url:"";this.autotip=opts.autotip?opts.autotip:"";this.errorShow=opts.errorShow?opts.errorShow:"";this.infoEditor=opts.infoEditor?opts.infoEditor:"";this.action="get";this.keys={key1:"",key2:"",key3:""};this.config={mode:"",scope:"",max_length:0,max_size:0};this.current="";this.errorCode=0;this.errorMessage="";this.rows=[];}
WLIU.FILELIST.prototype={setScope:function(p_scope,fileList){if(fileList){p_scope[fileList]=this;}else{p_scope.fileList=this;}
this.sc=p_scope;},index:function(guid){return FCOLLECT.indexByKV(this.rows,{guid:guid});},currentIndex:function(){var curImg=this.getCurrent();if(curImg)
return this.index(curImg.guid);else
return-1;},getFile:function(guid){var rowidx=this.index(guid);if(rowidx>=0&&rowidx<this.rows.length){return this.rows[rowidx];}else{return undefined;}},getCurrent:function(){return this.getFile(this.current);},saveText:function(oFile,callback){if(oFile){this.errorCode=0;this.errorMessage="";var nfile={};nfile.id=oFile.id;nfile.guid=oFile.guid;nfile.scope=oFile.scope;nfile.title_en=oFile.title_en;nfile.title_cn=oFile.title_cn;nfile.detail_en=oFile.detail_en;nfile.detail_cn=oFile.detail_cn;nfile.orderno=oFile.orderno;nfile.status=oFile.status?1:0;nfile.action="savetext";nfile.errorCode=this.errorCode;nfile.errorMessage=this.errorMessage;this.ajaxCall(nfile,callback);}else{return false;}},printFile:function(oFile,callback){var _self=this;if(oFile){if(oFile.data){callback(oFile);}else{this.errorCode=0;this.errorMessage="";var nfiles={};nfiles.action="print";nfiles.id=oFile.id;nfiles.guid=oFile.guid;nfiles.scope=oFile.scope;nfiles.errorCode=this.errorCode;nfiles.errorMessage=this.errorMessage;this.ajaxCall(nfiles,{ajaxSuccess:function(rfile){oFile.data=rfile.data;_self.sc.$apply();if(callback)if($.isFunction(callback))callback(rfile);}})}}},deleteFile:function(oFile){var _self=this;if(oFile){this.errorCode=0;this.errorMessage="";var nfiles={};nfiles.action="delete";nfiles.id=oFile.id;nfiles.guid=oFile.guid;nfiles.scope=oFile.scope;nfiles.errorCode=this.errorCode;nfiles.errorMessage=this.errorMessage;this.ajaxCall(nfiles,{ajaxSuccess:function(nfiles){var ridx=FCOLLECT.indexByKV(_self.rows,{id:nfiles.id});if(ridx>=0&&ridx<_self.rows.length){_self.rows.splice(ridx,1);_self.sc.$apply();}}})}},addFile:function(fileObj){var _self=this;this.errorCode=0;this.errorMessage="";fileObj.scope=this.config.scope;fileObj.key1=this.keys.key1?this.keys.key1:0;fileObj.key2=this.keys.key2?this.keys.key2:0;fileObj.key3=this.keys.key3?this.keys.key3:0;fileObj.status=1;fileObj.orderno=parseInt(this.rows.length)+1;var nfiles={};nfiles.action="add";nfiles.id=0;nfiles.scope=fileObj.scope;nfiles.key1=fileObj.key1;nfiles.key2=fileObj.key2;nfiles.key3=fileObj.key3;nfiles.full_name=fileObj.full_name;nfiles.short_name=fileObj.short_name;nfiles.ext_name=fileObj.ext_name;nfiles.mime_type=fileObj.mime_type;nfiles.status=fileObj.status;nfiles.orderno=fileObj.orderno;nfiles.data=fileObj.data;nfiles.guid=fileObj.guid;nfiles.token=fileObj.token;nfiles.errorCode=this.errorCode;nfiles.errorMessage=this.errorMessage;this.ajaxCall(nfiles,{ajaxSuccess:function(ofiles){fileObj.id=ofiles.id;fileObj.scope=ofiles.scope;fileObj.access=ofiles.access;fileObj.url=ofiles.url;_self.rows.push(fileObj);_self.sc.$apply();}})},getRecord:function(IDKeyValues,callback){this.keys=IDKeyValues;this.getFiles(callback);},getFiles:function(callback){this.errorCode=0;this.errorMessage="";var nfiles={};nfiles.action="get";nfiles.keys=this.keys;nfiles.config=this.config;nfiles.errorCode=this.errorCode;nfiles.errorMessage=this.errorMessage;nfiles.rows=[];this.ajaxCall(nfiles,callback);},ajaxCall:function(nfiles,callback){var _self=this;$("div#wliu-wait-id[wliu-wait]").trigger("show");if(callback&&callback.ajaxBefore&&$.isFunction(callback.ajaxBefore))callback.ajaxBefore(nfiles);$.ajax({data:{files:nfiles},dataType:"json",contentType:"application/x-www-form-urlencoded",error:function(xhr,tStatus,errorTh){$("div#wliu-wait-id[wliu-wait]").trigger("hide");},success:function(req,tStatus){$("div#wliu-wait-id[wliu-wait]").trigger("hide");if(callback&&callback.ajaxAfter&&$.isFunction(callback.ajaxAfter))callback.ajaxAfter(req.files);switch(req.files.action){case"get":_self.syncRows(req.files);break;case"savetext":_self.syncError(req.files);break;case"saveorder":_self.syncError(req.files);break;case"delete":_self.syncError(req.files);break;case"add":_self.syncError(req.files);break;case"save":_self.syncError(req.files);break;}
if(!_self.sc.$$phase)_self.sc.$apply();if(parseInt(req.files.errorCode)==0){if(callback&&callback.ajaxSuccess&&$.isFunction(callback.ajaxSuccess))callback.ajaxSuccess(req.files);}else{if(callback&&callback.ajaxError&&$.isFunction(callback.ajaxError))callback.ajaxError(req.files);}
$(_self.errorShow).trigger("errorshow");GCONFIG.errorCall({errorCode:req.errorCode,errorMessage:req.errorMessage});},type:"post",url:_self.url});},syncRows:function(nfiles){this.errorCode=nfiles.errorCode;this.errorMessage=nfiles.errorMessage;this.config=angular.copy(nfiles.config);this.rows=[];for(var ridx in nfiles.rows){var theRow=nfiles.rows[ridx];theRow.sn=parseInt(nfiles.rows[ridx].orderno);this.rows.push(new WLIU.FILE(theRow));}},syncError:function(nfiles){this.errorCode=nfiles.errorCode;this.errorMessage=nfiles.errorMessage;}}
var WLIU=WLIU||{};WLIU.IMAGELIST=function(opts){this.sc=null;this.lang=opts.lang?opts.lang:"cn";this.url=opts.url?opts.url:"";this.errorShow=opts.errorShow?opts.errorShow:"";this.infoEditor=opts.infoEditor?opts.infoEditor:"";this.imgViewer=opts.imgViewer?opts.imgViewer:"";this.imgEditor=opts.imgEditor?opts.imgEditor:"";this.action="get";this.keys={key1:"",key2:"",key3:""};this.config={mode:"",scope:"",thumb:opts.thumb?opts.thumb:"tiny",view:opts.view?opts.view:"medium",max_length:0,max_size:0};this.current="";this.errorCode=0;this.errorMessage="";this.rows=[];}
WLIU.IMAGELIST.prototype={setScope:function(p_scope,imgList){if(imgList){p_scope[imgList]=this;}else{p_scope.imgList=this;}
this.sc=p_scope;},index:function(guid){return FCOLLECT.indexByKV(this.rows,{guid:guid});},currentIndex:function(){var curImg=this.getCurrent();if(curImg)
return this.index(curImg.guid);else
return-1;},getImage:function(guid){var rowidx=this.index(guid);if(rowidx>=0&&rowidx<this.rows.length){return this.rows[rowidx];}else{return undefined;}},getCurrent:function(){return this.getImage(this.current);},navLeft:function(callback){var rowidx=this.currentIndex();if(rowidx>0)rowidx--;if(this.rows[rowidx]){this.current=this.rows[rowidx].guid;}else{this.current="";}
if(callback)if($.isFunction(callback))callback(this.rows[rowidx]);},navLeftState:function(){if(this.rows.length<=1)return false;if(this.currentIndex()<=0)return false;return true;},navRight:function(callback){var rowidx=this.currentIndex();if(rowidx<this.rows.length-1)rowidx++;if(this.rows[rowidx]){this.current=this.rows[rowidx].guid;}else{this.current="";}
if(callback)if($.isFunction(callback))callback(this.rows[rowidx]);},navRightState:function(){if(this.rows.length<=1)return false;if(this.currentIndex()>=this.rows.length-1)return false;return true;},thumbImageData:function(oImg){if(oImg)return oImg.resize&&oImg.resize[this.config.thumb]?oImg.resize[this.config.thumb].data:"";},currentThumbData:function(){return this.thumbImageData(this.getCurrent());},viewImageData:function(oImg){if(oImg)return oImg.resize&&oImg.resize[this.config.view]?oImg.resize[this.config.view].data:"";},currentViewData:function(){return this.viewImageData(this.getCurrent());},originImageData:function(oImg){if(oImg)return oImg.resize&&oImg.resize["origin"]?oImg.resize["origin"].data:"";},currentOriginData:function(){return this.originImageData(this.getCurrent());},saveText:function(oImg,callback){if(oImg){this.errorCode=0;this.errorMessage="";var nimage={};nimage.id=oImg.id;nimage.guid=oImg.guid;nimage.scope=oImg.scope;nimage.title_en=oImg.title_en;nimage.title_cn=oImg.title_cn;nimage.detail_en=oImg.detail_en;nimage.detail_cn=oImg.detail_cn;nimage.orderno=oImg.orderno;nimage.status=oImg.status?1:0;nimage.action="savetext";nimage.errorCode=this.errorCode;nimage.errorMessage=this.errorMessage;this.ajaxCall(nimage,callback);}else{return false;}},saveOrder:function(callback){this.errorCode=0;this.errorMessage="";var nimages={};nimages.action="saveorder";nimages.errorCode=this.errorCode;nimages.errorMessage=this.errorMessage;nimages.rows=[];for(var idx in this.rows){var imgobj={};imgobj.id=this.rows[idx].id;imgobj.sn=this.rows[idx].sn;nimages.rows.push(imgobj);}
this.ajaxCall(nimages,callback);},deleteImage:function(oImg){var _self=this;if(oImg){this.errorCode=0;this.errorMessage="";var nimages={};nimages.action="delete";nimages.id=oImg.id;nimages.guid=oImg.guid;nimages.scope=oImg.scope;nimages.errorCode=this.errorCode;nimages.errorMessage=this.errorMessage;this.ajaxCall(nimages,{ajaxSuccess:function(nimages){var ridx=FCOLLECT.indexByKV(_self.rows,{id:nimages.id});if(ridx>=0&&ridx<_self.rows.length){_self.rows.splice(ridx,1);_self.sc.$apply();}}})}},saveImage:function(oImg,callback){var _self=this;this.errorCode=0;this.errorMessage="";var nimages=angular.copy(oImg);oImg.errorCode=this.errorCode;oImg.errorMessage=this.errorMessage;nimages.action="save";nimages.errorCode=oImg.errorCode;nimages.errorMessage=oImg.errorMessage;this.ajaxCall(nimages,{ajaxAfter:function(){if(callback)if($.isFunction(callback))callback();},ajaxSuccess:function(oimages){_self.sc.$apply();}})},addImage:function(oImg){var _self=this;this.errorCode=0;this.errorMessage="";oImg.scope=this.config.scope;oImg.key1=this.keys.key1?this.keys.key1:0;oImg.key2=this.keys.key2?this.keys.key2:0;oImg.key3=this.keys.key3?this.keys.key3:0;oImg.status=1;oImg.orderno=parseInt(this.rows.length)+1;var nimages={};nimages.action="add";nimages.id=0;nimages.guid=oImg.guid;nimages.scope=oImg.scope;nimages.key1=oImg.key1;nimages.key2=oImg.key2;nimages.key3=oImg.key3;nimages.full_name=oImg.full_name;nimages.short_name=oImg.short_name;nimages.ext_name=oImg.ext_name;nimages.mime_type=oImg.mime_type;nimages.status=oImg.status;nimages.orderno=oImg.orderno;nimages.guid=oImg.guid;nimages.token=oImg.token;nimages.resize=angular.copy(oImg.resize);nimages.errorCode=this.errorCode;nimages.errorMessage=this.errorMessage;this.ajaxCall(nimages,{ajaxSuccess:function(oimages){oImg.id=oimages.id;oImg.scope=oimages.scope;oImg.access=oimages.access;oImg.url=oimages.url;_self.rows.push(oImg);_self.sc.$apply();}})},getRecord:function(IDKeyValues,callback){this.keys=IDKeyValues;this.getImages(callback);},getImages:function(callback){this.errorCode=0;this.errorMessage="";var nimages={};nimages.action="get";nimages.keys=this.keys;nimages.config=this.config;nimages.errorCode=this.errorCode;nimages.errorMessage=this.errorMessage;nimages.rows=[];this.ajaxCall(nimages,callback);},ajaxCall:function(nimages,callback){var _self=this;$("div#wliu-wait-id[wliu-wait]").trigger("show");if(callback&&callback.ajaxBefore&&$.isFunction(callback.ajaxBefore))callback.ajaxBefore(nimages);$.ajax({data:{images:nimages},dataType:"json",contentType:"application/x-www-form-urlencoded",error:function(xhr,tStatus,errorTh){$("div#wliu-wait-id[wliu-wait]").trigger("hide");},success:function(req,tStatus){$("div#wliu-wait-id[wliu-wait]").trigger("hide");if(callback&&callback.ajaxAfter&&$.isFunction(callback.ajaxAfter))callback.ajaxAfter(req.images);switch(req.images.action){case"get":_self.syncRows(req.images);break;case"savetext":_self.syncError(req.images);break;case"saveorder":_self.syncError(req.images);break;case"delete":_self.syncError(req.images);break;case"add":_self.syncError(req.images);break;case"save":_self.syncError(req.images);break;}
if(!_self.sc.$$phase)_self.sc.$apply();if(parseInt(req.images.errorCode)==0){if(callback&&callback.ajaxSuccess&&$.isFunction(callback.ajaxSuccess))callback.ajaxSuccess(req.images);}else{if(callback&&callback.ajaxError&&$.isFunction(callback.ajaxError))callback.ajaxError(req.images);}
$(_self.errorShow).trigger("errorshow");GCONFIG.errorCall({errorCode:req.errorCode,errorMessage:req.errorMessage});},type:"post",url:_self.url});},syncRows:function(nimages){this.errorCode=nimages.errorCode;this.errorMessage=nimages.errorMessage;this.config=angular.copy(nimages.config);this.rows=[];for(var ridx in nimages.rows){var theRow=nimages.rows[ridx];theRow.sn=parseInt(nimages.rows[ridx].orderno);this.rows.push(new WLIU.IMAGE(theRow));}},syncError:function(nimages){this.errorCode=nimages.errorCode;this.errorMessage=nimages.errorMessage;}}
var common_scope='scope="{{ table.scope }}" ';var common_ng_hide='ng-hide="table.relationHide(row, name)" ';var common_ng_change='ng-change="table.changeCol(row, name)" ';var common_ng_class='ng-class="{ \'wliuCommon-input-invalid\': table.getCol(row, name).errorCode }" ';var common_ng_disabled='ng-disabled="table.getCol(row, name)==undefined" ';var common_ng_options='ng-model-options="{ updateOn:\'default blur\', debounce:{default: 500, blur:0} }" ';var common_ng=[common_scope,common_ng_change,common_ng_class,common_ng_disabled,common_ng_hide,common_ng_options].join('');var common_tooltip=['popup-target="{{table.colMeta(name).tooltip?\'#\'+table.colMeta(name).tooltip:\'\'}}" ','popup-toggle="hover" ','popup-placement="down" ','popup-body="{{table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage.nl2br():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ','title="{{table.colMeta(name).tooltip?\'\':table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage:table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" '].join('');var wliu_table=angular.module("wliuTable",[]);wliu_table.directive("table.navi",function(){return{restrict:"E",replace:true,scope:{table:"="},template:['<div class="row" style="padding:0px; margin:5px;" ng-show="table.navi.paging==1">','<div class="col-md-12" ng-if="table.navi.paging">','<div class="pull-left" style="padding:0px; margin:0px; white-space:nowrap;">','<span style="vertical-align:middle;">Page: </span>','<input type="text" class="input-tiny" style="height:1.2em;width:30px;font-size:1.2em;text-align:center;" ng-model="table.navi.pageno" ','ng-keypress="keypress($event)" ','popup-target="{{table.navi.tooltip?\'#\'+table.navi.tooltip:\'\'}}" popup-toggle="hover" popup-body="Page Number" popup-placement="down" ','title="{{table.navi.tooltip? \'\':\'Page Number\'}}" ','/>','<span style="vertical-align:middle;font-size:1.2em;font-weight:bold"> / </span>','<span style="vertical-align:middle;font-size:1.2em;">{{ table.navi.pagetotal }}</span>','<span style="vertical-align:middle;font-size:1.2em;"> | </span>','<a class="wliu-btn24 wliu-btn24-first"     ng-class="{\'wliu-btn24-first-disabled\':table.firstState()}" ','ng-click="table.firstPage()" ','popup-target="{{table.navi.tooltip?\'#\'+table.navi.tooltip:\'\'}}" popup-toggle="hover" popup-body="First Page" popup-placement="down" ','title="{{table.navi.tooltip? \'\':\'First Page\'}}" ','>','</a>','<a class="wliu-btn24 wliu-btn24-previous"  ng-class="{\'wliu-btn24-previous-disabled\':table.previousState()}" ','ng-click="table.previousPage()" ','popup-target="{{table.navi.tooltip?\'#\'+table.navi.tooltip:\'\'}}" popup-toggle="hover" popup-body="Previous Page" popup-placement="down" ','title="{{table.navi.tooltip? \'\':\'Previous Page\'}}" ','>','</a>','<a class="wliu-btn24 wliu-btn24-next"      ng-class="{\'wliu-btn24-next-disabled\':table.nextState()}" ','ng-click="table.nextPage()" ','popup-target="{{table.navi.tooltip?\'#\'+table.navi.tooltip:\'\'}}" popup-toggle="hover" popup-body="Next Page" popup-placement="down" ','title="{{table.navi.tooltip? \'\':\'Next Page\'}}" ','>','</a>','<a class="wliu-btn24 wliu-btn24-last"      ng-class="{\'wliu-btn24-last-disabled\':table.lastState()}" ','ng-click="table.lastPage()" ','popup-target="{{table.navi.tooltip?\'#\'+table.navi.tooltip:\'\'}}" popup-toggle="hover" popup-body="Last Page" popup-placement="down" ','title="{{table.navi.tooltip? \'\':\'Last Page\'}}" ','>','</a>','<span style="vertical-align:middle;font-size:1.2em;"> | </span>','<a class="wliu-btn24 wliu-btn24-reload" ','ng-hide="table.navi.loading==1" ','ng-click="table.getRows()" ','popup-target="{{table.navi.tooltip?\'#\'+table.navi.tooltip:\'\'}}" popup-toggle="hover" popup-body="Reload Data" popup-placement="down" ','title="{{table.navi.tooltip? \'\':\'Reload Data\'}}" ','></a>','<i class="fa fa-spinner fa-lg fa-pulse fa-fw" aria-hidden="true" ng-show="table.navi.loading==1"></i>','<span style="vertical-align:middle;font-size:1.2em;"> | </span>','<span style="vertical-align:middle; white-space:nowrap;">Total: ','<span style="vertical-align:middle;" ng-bind="table.navi.recordtotal"></span>','</span>','</div>','<div class="pull-right" style="padding:0px; margin:0px;" ng-if="table.navi.pagetotal>0 || table.navi.recordtotal>0">','<span style="vertical-align:middle;">Size: </span>','<input type="text" class="input-tiny" style="height:1.2em;width:40px;font-size:1.2em;text-align:center;" ng-model="table.navi.pagesize" ','ng-keypress="keypress($event)" ','popup-target="{{table.navi.tooltip?\'#\'+table.navi.tooltip:\'\'}}" popup-toggle="hover" popup-body="Page Size" popup-placement="down" ','title="{{table.navi.tooltip? \'\':\'Page Size\'}}" ','/>','<a class="wliu-btn24 wliu-btn24-reload" ','ng-hide="table.navi.loading==1" ','ng-click="table.getRows()" ','popup-target="{{table.navi.tooltip?\'#\'+table.navi.tooltip:\'\'}}" popup-toggle="hover" popup-body="Reload Data" popup-placement="down" ','title="{{table.navi.tooltip? \'\':\'Reload Data\'}}" ','></a>','<i class="fa fa-spinner fa-lg fa-pulse fa-fw" aria-hidden="true" ng-show="table.navi.loading==1"></i>','<table.order table="table" style="margin-right:10px" xsize="24" ','popup-target="{{table.navi.tooltip?\'#\'+table.navi.tooltip:\'\'}}" popup-toggle="hover" popup-body="Sort By" popup-placement="down" ','title="{{table.navi.tooltip? \'\':\'Sort By\'}}" ','><table.order>','</div>','</div>','</div>'].join(''),controller:function($scope){$scope.keypress=function(ev){if(ev.keyCode==13){$scope.table.getRows();}}},link:function(sc,el,attr){}}});wliu_table.directive("table.navi1",function(){return{restrict:"E",replace:true,scope:{table:"="},template:['<div style="display:block; position:relative; padding:0px; margin:5px;" ng-show="table.navi.paging==1">','<div style="padding:0px; margin:0px; white-space:nowrap;">','<a class="wliu-btn16 wliu-btn16-reload" ','ng-hide="table.navi.loading==1" ','ng-click="table.getRows()" ','title="Reload Data" ','></a>','<i class="fa fa-spinner fa-pulse fa-fw" aria-hidden="true" ng-show="table.navi.loading==1"></i>','<span style="vertical-align:middle;font-size:1em;"> | </span>','<a class="wliu-btn16 wliu-btn16-first"     ng-class="{\'wliu-btn16-first-disabled\': table.firstState() }" ','ng-click="table.firstPage()" ','title="First Page"','></a>','<a class="wliu-btn16 wliu-btn16-previous"  ng-class="{\'wliu-btn16-previous-disabled\': table.previousState() }" ','ng-click="table.previousPage()" ','title="Previous Page"','></a>','<a class="wliu-btn16 wliu-btn16-next"      ng-class="{\'wliu-btn16-next-disabled\': table.nextState() }" ','ng-click="table.nextPage()" ','title="Next Page"','></a>','<a class="wliu-btn16 wliu-btn16-last"      ng-class="{\'wliu-btn16-last-disabled\': table.lastState() }" ','ng-click="table.lastPage()" ','title="Last Page"','></a>','<span style="vertical-align:middle;font-size:1em;"> | </span>','<input type="text" class="input-tiny" style="height:1em;width:40px;font-size:1em;text-align:center;" ng-model="table.navi.pageno" ','ng-keypress="keypress($event)" ','title="Page Number"','/>','<span style="vertical-align:middle;font-size:1em;font-weight:bold">/</span>','<span style="vertical-align:middle;font-size:1em;">{{ table.navi.pagetotal }}</span>','<span style="vertical-align:middle;font-size:1em;"> | </span>','<input type="text" class="input-tiny" style="height:1em;width:30px;font-size:1em;text-align:center;" ng-model="table.navi.pagesize" ','ng-keypress="keypress($event)" ','title="Page Size"','/>','</div>','</div>'].join(''),controller:function($scope){$scope.keypress=function(ev){if(ev.keyCode==13){$scope.table.getRows();}}},link:function(sc,el,attr){}}});wliu_table.directive("table.order",function(){return{restrict:"E",replace:true,scope:{table:"=",xsize:"@"},template:['<a class="wliu-btn{{xsize}} wliu-btn{{xsize}}-order">','<div class="wliu-selectlist" style="right:0px;left:auto;">','<div class="wliu-selectlist-title info-color text-center">ORDER</div>','<ul class="wliu-selectlist-content" ng-repeat="colMeta in table.cols" ng-if="colMeta.sort" style="color:#333333;">','<li class="wliu-orderlist" ','ng-class="{\'wliu-orderlist-active\': table.orderState(colMeta.name, \'ASC\')}" ','ng-click="changeOrder(colMeta, \'ASC\')"','>','{{ colMeta.colname }} <i class="fa fa-sort-asc" style="vertical-align:bottom;"></i>','</li>','<li class="wliu-orderlist" ','ng-class="{\'wliu-orderlist-active\':table.orderState(colMeta.name, \'DESC\')}" ','ng-click="changeOrder(colMeta, \'DESC\')"','>','{{ colMeta.colname }} <i class="fa fa-sort-desc" style="vertical-align:top;"></i>','</li>','</ul>','</div>','</a>'].join(''),controller:function($scope){$scope.xsize=$scope.xsize?$scope.xsize:24;$scope.changeOrder=function(colMeta,order){$scope.table.navi.orderby=colMeta.trans?colMeta.col:colMeta.table+"."+colMeta.col;$scope.table.navi.sortby=order;$scope.table.getRows();}},link:function(sc,el,attr){}}});wliu_table.directive("table.head",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<label for="navi_{{table.scope}}_{{name}}" class="wliuCommon-header" scope="{{ table.scope }}" ','popup-target="{{table.colMeta(name).tooltip?\'#\'+table.colMeta(name).tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname?table.colMeta(name).colname:name}}" ','title="{{table.colMeta(name).tooltip? \'\':table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname?table.colMeta(name).colname:name}}" ','>','<span style="vertival-align:middle;">{{ table.colMeta(name).colname?table.colMeta(name).colname:name }}</span>','<span style="vertival-align:middle;" class="wliuCommon-text-error" ng-if="table.colMeta(name).notnull"> <b>*</b></span> ','<a id="navi_{{table.scope}}_{{name}}" ng-click="changeOrder()" class="wliu-btn16 wliu-btn16-sort" ng-if="table.colMeta(name).sort" ','ng-class="{\'wliu-btn16-sort-asc\': table.orderState(name, \'ASC\') ',',\'wliu-btn16-sort-desc\':table.orderState(name, \'DESC\') }" title="Sort by {{table.colMeta(name).colname}}"','>','</a>','</label>'].join(''),controller:function($scope){$scope.changeOrder=function(){var order_col=$scope.table.colMeta($scope.name).trans?$scope.table.colMeta($scope.name).col:$scope.table.colMeta($scope.name).table+"."+$scope.table.colMeta($scope.name).col;if($scope.table.navi.orderby==order_col){if($scope.table.navi.sortby.toUpperCase()=="ASC"){$scope.table.navi.sortby="DESC";}else{$scope.table.navi.sortby="ASC";}}else{$scope.table.navi.orderby=order_col;$scope.table.navi.sortby=$scope.table.colMeta($scope.name).sort?$scope.table.colMeta($scope.name).sort.toUpperCase():"ASC";}
$scope.table.getRows();}},link:function(sc,el,attr){}}});wliu_table.directive("table.rowstatus",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"="},template:['<span class="wliu-text" scope="{{ table.scope }}" style="vertical-align:middle;padding:0px;" ','ng-disabled="row==undefined" ','>','<a class="wliu-btn16 wliu-btn16-rowstate-save"     ng-if="row.error.errorCode==0 && row.rowstate==1"   title="Changed"></a>','<a class="wliu-btn16 wliu-btn16-rowstate-add"      ng-if="row.error.errorCode==0 && row.rowstate==2"   title="New"></a>','<a class="wliu-btn16 wliu-btn16-rowstate-delete"   ng-if="row.error.errorCode==0 && row.rowstate==3"   title="Deleted"></a>',' <span title="Series Number" style="vertical-align:middle;">{{ table.indexByRow(row) - 0 + 1 }} / {{table.rows.length}}</span>','</span>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("table.rowno",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"="},template:['<span class="wliu-text" scope="{{ table.scope }}" ','ng-disabled="row==undefined" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" ','popup-body="{{row.error.errorCode?row.error.errorMessage.nl2br():\'\'}}" ','>','<a class="wliu-btn16 wliu-btn16-error-help"    ng-if="row.error.errorCode" ','>','</a>','<span ng-if="row.error.errorCode==0 && row.rowstate==0" title="Series Number">{{ table.indexByRow(row) - 0 + 1 }}</span>','<a class="wliu-btn16 wliu-btn16-rowstate-save" ng-show="row.error.errorCode==0 && row.rowstate==1" ','title="Change!" ','>','</a>','<a class="wliu-btn16 wliu-btn16-rowstate-add" ng-show="row.error.errorCode==0 && row.rowstate==2" ','title="New!" ','>','</a>','<a class="wliu-btn16 wliu-btn16-rowstate-delete" ng-show="row.error.errorCode==0 && row.rowstate==3" ','title="Delete!" ','>','</a>','</span>'].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}})}}});wliu_table.directive("table.fileupload",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",icon:"@",actname:"@"},template:['<div style="display:inline-block;min-width:120px;text-align:left;">','<i ng-if="icon" class="wliu-btn24 wliu-btn24-file-upload" style="overflow:hidden;" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Upload File" popup-placement="down" ','>','<input type="file" style="display:block; position:absolute; opacity:0;top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" value="Browse..." ','onchange="angular.element(this).scope().selectFile(event);" ','ng-disabled="table.getCol(row, name)==undefined" />','</i>','<div ng-if="!icon" class="btn btn-info" style="display:inline-block;position:relative;text-transform:none;overflow:hidden;height:20px;line-height:20px;padding:2px 8px;">','<a class="wliu-btn16 wliu-btn16-upload"></a> ','<input type="file" onchange="angular.element(this).scope().selectFile(event);" style="display:block; position:absolute; opacity:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" value="Browse..." />','{{actname}}','</div>','<a class="wliu-btn16 wliu-btn16-img-print" ng-click="printFile()" ng-if="table.getCol(row, name).value" style="margin-left:5px;" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Print File" popup-placement="down" ','>','<a class="wliu-btn16 wliu-btn16-dispose" ng-click="deleteFile()" ng-if="table.getCol(row, name).value" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Delete File" popup-placement="down"  ','></a>','<div style="display:block;position:relative;font-size:12px;font-weight:bold;color:red;" ng-if="table.getCol(row, name).errorCode">{{table.getCol(row, name).errorMessage}}</div>','<div style="display:block;text-align:left;" ng-if="table.getCol(row, name).value && !table.getCol(row, name).errorCode">','<a href="javascript:void(0)" style="text-decoration:underline;margin:0px;font-size:12px;" ng-click="downloadFile()">{{theFile.full_name.subName(12)?theFile.full_name.subName(12):table.colMeta(name).coldesc}}</a>','</div>','</div>'].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";$scope.theFile=new WLIU.FILE({guid:guid()});$scope.selectFile=function(event){files=(event.srcElement||event.target).files;FFILE.allowSize=$scope.table.colMeta($scope.name).maxlength>0&&$scope.table.colMeta($scope.name).maxlength<=GCONFIG.max_upload_size?$scope.table.colMeta($scope.name).maxlength:GCONFIG.max_upload_size;FFILE.allowType=$scope.table.colMeta($scope.name).allowtype?$scope.table.colMeta($scope.name).allowtype:GCONFIG.file_allow_type;FFILE.fromFile($scope.theFile,files[0],function(fObj){if(fObj.errorCode){alert(fObj.errorMessage);}else{$scope.table.getCol($scope.row,$scope.name).value=fObj.data?fObj.data:"";$scope.table.changeCol($scope.row,$scope.name);$scope.$apply();}});}
$scope.printFile=function(){if($scope.table.getCol($scope.row,$scope.name).value){FFILE.exportDataURL($scope.table.getCol($scope.row,$scope.name).value);}}
$scope.deleteFile=function(){$scope.table.getCol($scope.row,$scope.name).value="";$scope.table.changeCol($scope.row,$scope.name);}
$scope.downloadFile=function(){if($scope.table.getCol($scope.row,$scope.name).value){FFILE.exportDataURL($scope.table.getCol($scope.row,$scope.name).value);}}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}})}}});wliu_table.directive("table.imgupload",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",actname:"@",ww:"@",hh:"@",vw:"@",vh:"@",view:"@",minww:"@",minhh:"@"},template:['<span>','<div style="position:relative;font-size:12px;font-weight:bold;color:red;" ng-if="table.getCol(row, name).errorCode">{{table.getCol(row, name).errorMessage}}</div>','<div style="display:inline-block;position:relative;min-width:{{minww}}px;min-height:{{minhh}}px;width:{{ww}}px;border:1px solid #cccccc;" class="wliu-background-1">','<i class="wliu-btn16 wliu-btn16-image" style="position:absolute; margin-top:3px;margin-left:3px;opacity:0.8; overflow:hidden;" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Upload Image" popup-placement="down" ','>','<input type="file" style="display:block; position:absolute; opacity:0;top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" value="Browse..." ','onchange="angular.element(this).scope().selectFile(event);" ','ng-disabled="table.getCol(row, name)==undefined" />','</i>','<a class="wliu-btn16 wliu-btn16-img-print" ng-click="printImage()" ng-if="table.getCol(row, name).value" style="position:absolute; margin-top:3px;margin-left:24px;opacity:0.8;" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Print Image" popup-placement="down" ','>','</a>','<a class="wliu-btn16 wliu-btn16-dispose" ng-click="deleteImage()" ng-if="table.getCol(row, name).value" style="position:absolute; right:0px; margin-top:3px;margin-right:3px;opacity:0.8;" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Delete Image" popup-placement="down" ','>','</a>','<span style="position:absolute;top:24px;left:3px;font-size:12px;font-weight:bold;color:#666666;" ng-if="!table.getCol(row, name).value && !table.getCol(row, name).errorCode">{{actname}}</span>','<div style="display:table;">','<div style="display:table-cell;vertical-align:middle;text-align:center;width:{{ww}}px;height:{{hh}}px;" class="img-content" targetid="{{imgviewerid}}">','<img class="img-responsive" width="100%" ng-click="clickImage()" onload="imageAutoFix(this)" ww={{ww}} hh="{{hh}}" src="{{table.getCol(row, name).value?table.getCol(row, name).value:\'\'}}" />','</div>','</div>','<input type="hidden" scope="{{ table.scope }}" title="" ','ng-model="table.getCol(row, name).value" ','ng-change="table.changeCol(row, name)" ','ng-disabled="table.getCol(row, name)==undefined" ','/>','</div>','<div id="{{imgviewerid}}" ng-if="view" wliu-diag maskable fade table-diag disposable>','<div wliu-diag-body style="text-align:center;">','<img class="img-responsive" width="100%" ww="{{vw}}" hh="{{vh}}" src="{{ imgobj.resize[view].data?imgobj.resize[view].data:\'\' }}" />','</div>','</div>','</span>'].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";$scope.imgobj=new WLIU.IMAGE({guid:guid(),token:guid()});$scope.imgviewerid=$scope.table.scope+"_"+$scope.name+"_"+$scope.imgobj.guid;$scope.imgviewer="#"+$scope.imgviewerid;$scope.minww=$scope.minww?$scope.minww:"90";$scope.minhh=$scope.minhh?$scope.minhh:"60";$scope.ww=$scope.ww?$scope.ww:$scope.minww;$scope.vw=$scope.vw?$scope.vw:"400";$scope.printImage=function(){if($scope.table.getCol($scope.row,$scope.name).value){FFILE.exportDataURL($scope.table.getCol($scope.row,$scope.name).value);}}
$scope.clickImage=function(){if($scope.view){if($scope.table.getCol($scope.row,$scope.name).value){$scope.imgobj.resize.origin.data=$scope.table.getCol($scope.row,$scope.name).value;FIMAGE.setView($scope.view);FIMAGE.resizeAll($scope.imgobj,function(){$scope.$apply();$($scope.imgviewer).trigger("ishow");});}else{$($scope.imgviewer).trigger("ishow");}}}
$scope.deleteImage=function(){$scope.table.getCol($scope.row,$scope.name).value="";$scope.table.changeCol($scope.row,$scope.name);}
$scope.selectFile=function(event){files=(event.srcElement||event.target).files;var view=$scope.table.colMeta($scope.name).view?$scope.table.colMeta($scope.name).view:"medium";FIMAGE.view=view;FIMAGE.allowSize=$scope.table.colMeta($scope.name).maxlength>0&&$scope.table.colMeta($scope.name).maxlength<=GCONFIG.max_upload_size?$scope.table.colMeta($scope.name).maxlength:GCONFIG.max_upload_size;FIMAGE.allowType=$scope.table.colMeta($scope.name).allowtype?$scope.table.colMeta($scope.name).allowtype:GCONFIG.image_allow_type;FIMAGE.fromFile($scope.imgobj,files[0],function(fObj){if(fObj.errorCode){alert(fObj.errorMessage);}else{$scope.table.getCol($scope.row,$scope.name).value=$scope.imgobj.resize[view].data?$scope.imgobj.resize[view].data:"";$scope.table.changeCol($scope.row,$scope.name);$scope.$apply();}});}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}
$("body > div[table-diag][disposable]").each(function(img_idx,img_viewer){if($("div.img-content[targetid='"+$(img_viewer).attr("id")+"']").length<=0)$(img_viewer).remove();});$("body>"+sc.imgviewer).remove();$(sc.imgviewer).appendTo("body");$(sc.imgviewer).wliuDiag({});$(sc.imgviewer).unbind("ishow").bind("ishow",function(evt){$(sc.imgviewer).trigger("show");var click_flag=true;$("img",sc.imgviewer).unbind("load").bind("load",function(ev){var img=ev.target;var i_ww=img.naturalWidth;var i_hh=img.naturalHeight;var img_rate=i_hh/i_ww;var c_ww=400;var c_hh=400;if(parseInt($(img).attr("ww"))&&parseInt($(img).attr("hh"))){c_ww=parseInt($(img).attr("ww"));c_hh=parseInt($(img).attr("hh"));}else if(parseInt($(img).attr("ww"))){c_ww=parseInt($(img).attr("ww"));c_hh=c_ww*img_rate;}else if(parseInt($(img).attr("hh"))){c_hh=parseInt($(img).attr("hh"));c_ww=c_hh/img_rate;}
if(!c_ww&&!c_hh){$(img).css("width","100%");}else{$(img).css("width","");if(c_ww&&c_hh){var rate_ww=1;var rate_hh=1;rate_ww=c_ww/img.naturalWidth;rate_hh=c_hh/img.naturalHeight;var rate=Math.min(rate_ww,rate_hh);if(rate<1){if(rate_ww<rate_hh){i_ww=c_ww;i_hh=c_ww*img_rate;}else{i_hh=c_hh;i_ww=c_hh/img_rate;}}}else if(sc.ww){i_ww=c_ww;i_hh=c_ww*img_rate;}else if(sc.hh){i_hh=c_hh;i_ww=c_hh/img_rate;img.width=i_ww;img.height=i_hh;}}
img.width=i_ww;img.height=i_hh;if(click_flag){click_flag=false;$(sc.imgviewer).trigger("show");}});});});}}});wliu_table.directive("table.imgupload1",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",actname:"@",ww:"@",hh:"@",vw:"@",vh:"@",ratio:"@",view:"@",minww:"@",minhh:"@"},template:['<span>','<div style="position:relative;font-size:12px;font-weight:bold;color:red;" ng-if="table.getCol(row, name).errorCode">{{table.getCol(row, name).errorMessage}}</div>','<div style="display:inline-block;position:relative;min-width:{{minww}}px;min-height:{{minhh}}px;width:{{ww}}px;border:1px solid #cccccc;" class="wliu-background-1">','<i class="wliu-btn16 wliu-btn16-image" style="position:absolute; margin-top:3px;margin-left:3px;opacity:0.8; overflow:hidden;" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Upload Image" popup-placement="down" ','>','<input type="file" style="display:block; position:absolute; opacity:0;top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" value="Browse..." ','onchange="angular.element(this).scope().selectFile(event);" ','ng-disabled="table.getCol(row, name)==undefined" />','</i>','<a class="wliu-btn16 wliu-btn16-img-print" ng-click="printImage()" ng-if="table.getCol(row, name).value" style="position:absolute; margin-top:3px;margin-left:24px;opacity:0.8;" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Print Image" popup-placement="down" ','>','</a>','<a class="wliu-btn16 wliu-btn16-dispose" ng-click="deleteImage()" ng-if="table.getCol(row, name).value" style="position:absolute; right:0px; margin-top:3px;margin-right:3px;opacity:0.8;" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Delete Image" popup-placement="down" ','>','</a>','<span style="position:absolute;top:24px;left:3px;font-size:12px;font-weight:bold;color:#666666;" ng-if="!table.getCol(row, name).value && !table.getCol(row, name).errorCode">{{actname}}</span>','<div style="display:table;">','<div style="display:table-cell;vertical-align:middle;text-align:center;width:{{ww}}px;height:{{hh}}px;" class="img-content" targetid="{{imgeditorid}}">','<img class="img-responsive" width="100%" ng-click="clickImage()" onload="imageAutoFix(this)" ww={{ww}} hh="{{hh}}" style="cursor:pointer;" src="{{table.getCol(row, name).value?table.getCol(row, name).value:\'\'}}" />','</div>','</div>','<input type="hidden" scope="{{ table.scope }}" title="" ','ng-model="table.getCol(row, name).value" ','ng-change="table.changeCol(row, name)" ','ng-disabled="table.getCol(row, name)==undefined" ','/>','</div>','<div id="{{imgeditorid}}" wliu-diag movable maskable fade table-diag disposable>','<div wliu-diag-head>Image Editor</div>','<div wliu-diag-body>','<div ng-if="imgobj.errorCode">','{{imgobj.errorMessage}}','</div>','<div ng-if="!imgobj.errorCode">','<div style="min-height:300px;">','<div class="wliu-image-frame" style="position:relative;">','<img class="img-responsive" width="100%" ww="{{vw}}" hh="{{vh}}" style="cursor:pointer;" src="{{ imgobj.resize[view].data?imgobj.resize[view].data:\'\' }}" />','<div class="wliu-image-crop">','<div class="wliu-image-crop-h"></div>','<div class="wliu-image-crop-v"></div>','</div>','</div>','</div>','<div style="text-align:center;">','<button ng-click="reset()" title="Restore Image" class="btn btn-outline-success waves-effect pull-right {{ imgobj.resize[view].data?\'\':\'disabled\' }}" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">','<a class="wliu-btn16 wliu-btn16-restore"></a>',' Reset</button>','<button ng-click="crop()" title="Crop Image" class="btn btn-outline-primary waves-effect pull-right {{ imgobj.resize[view].data?\'\':\'disabled\' }}" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">','<a class="wliu-btn16 wliu-btn16-crop"></a>',' Crop</button>','<button ng-click="rotate()" title="Rotate Image" class="btn btn-outline-primary waves-effect pull-right {{ imgobj.resize[view].data?\'\':\'disabled\' }}" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">','<a class="wliu-btn16 wliu-btn16-rotate-right"></a>',' Rotate</button>','<button ng-click="save()" title="Upload Image" class="btn btn-outline-secondary pull-left waves-effect {{ imgobj.resize[view].data?\'\':\'disabled\' }}" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">','<a class="wliu-btn16 wliu-btn16-okey"></a>',' Save</button>','<button ng-click="dispose()" title="Cancel Upload" class="btn btn-outline-warning pull-left waves-effect" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">','<a class="wliu-btn16 wliu-btn16-dispose"></a>',' Cancel</button>','</div>','</div>','</div>','</div>','</span>'].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";$scope.imgobj=new WLIU.IMAGE({guid:guid(),token:guid()});$scope.imgeditorid=$scope.table.scope+"_"+$scope.name+"_"+$scope.imgobj.guid;$scope.imgeditor="#"+$scope.imgeditorid;$scope.minww=$scope.minww?$scope.minww:"80";$scope.minhh=$scope.minhh?$scope.minhh:"60";$scope.ww=$scope.ww?$scope.ww:$scope.minww;$scope.vw=$scope.vw?$scope.vw:"400";$scope.view=$scope.table.colMeta($scope.name).view?$scope.table.colMeta($scope.name).view:"medium";$scope.clickImage=function(){if(!$scope.imgobj.resize.origin.data){$scope.imgobj.resize.origin.data=$scope.table.getCol($scope.row,$scope.name).value;FIMAGE.setView($scope.view);FIMAGE.resizeAll($scope.imgobj,function(){$scope.$apply();$($scope.imgeditor).trigger("ishow");});}else{$($scope.imgeditor).trigger("ishow");}}
$scope.printImage=function(){if($scope.table.getCol($scope.row,$scope.name).value){FFILE.exportDataURL($scope.table.getCol($scope.row,$scope.name).value);}}
$scope.deleteImage=function(){$scope.table.getCol($scope.row,$scope.name).value="";$scope.table.changeCol($scope.row,$scope.name);}
$scope.selectFile=function(event){files=(event.srcElement||event.target).files;var view=$scope.table.colMeta($scope.name).view?$scope.table.colMeta($scope.name).view:"medium";FIMAGE.view=$scope.view;FIMAGE.allowSize=$scope.table.colMeta($scope.name).maxlength>0&&$scope.table.colMeta($scope.name).maxlength<=GCONFIG.max_upload_size?$scope.table.colMeta($scope.name).maxlength:GCONFIG.max_upload_size;FIMAGE.allowType=$scope.table.colMeta($scope.name).allowtype?$scope.table.colMeta($scope.name).allowtype:GCONFIG.image_allow_type;FIMAGE.fromFile($scope.imgobj,files[0],function(fObj){if(fObj.errorCode){alert(fObj.errorMessage);}else{$scope.table.getCol($scope.row,$scope.name).value=$scope.imgobj.resize[view].data?$scope.imgobj.resize[view].data:"";$scope.table.changeCol($scope.row,$scope.name);$scope.$apply();$($scope.imgeditor).trigger("ishow");}});}
$scope.rotate=function(){FIMAGE.setView($scope.view);FIMAGE.rotate($scope.imgobj,function(oImg){$scope.$apply();$($scope.imgeditor).trigger("ishow");});}
$scope.crop=function(){FIMAGE.setView($scope.view);FIMAGE.cropDiv($scope.imgobj,$("div.wliu-image-frame",$scope.imgeditor),$("div.wliu-image-crop",$scope.imgeditor),function(oImg){$scope.$apply();$($scope.imgeditor).trigger("ishow");});}
$scope.reset=function(){FIMAGE.setView($scope.view);FIMAGE.cropReset($scope.imgobj,function(oImg){$scope.$apply();$($scope.imgeditor).trigger("ishow");});}
$scope.save=function(){if($scope.imgobj.resize.origin.data!=""){$scope.table.setImage($scope.row,$scope.name,$scope.imgobj);$scope.table.changeCol($scope.row,$scope.name);$scope.dispose();}}
$scope.dispose=function(){FIMAGE.cropDivReset($("div.wliu-image-crop",$scope.imgeditor));if(!$scope.$root.$$phase)$scope.$apply();$($scope.imgeditor).trigger("hide");}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}
var ratio=0;if(sc.ww&&sc.hh){var ratio=parseInt(sc.ww)/parseInt(sc.hh);}
$("body > div[table-diag][disposable]").each(function(img_idx,img_editor){if($("div.img-content[targetid='"+$(img_editor).attr("id")+"']").length<=0)$(img_editor).remove();});$("body > "+sc.imgeditor).remove();$(sc.imgeditor).appendTo("body");$(sc.imgeditor).wliuDiag({});$(sc.imgeditor).unbind("ishow").bind("ishow",function(evt){$(sc.imgeditor).trigger("show");FIMAGE.cropDivReset($("div.wliu-image-crop",sc.imgeditor));var click_flag=true;$("img",sc.imgeditor).unbind("load").bind("load",function(ev){var img=ev.target;var i_ww=img.naturalWidth;var i_hh=img.naturalHeight;var img_rate=i_hh/i_ww;var c_ww=400;var c_hh=400;if(parseInt($(img).attr("ww"))&&parseInt($(img).attr("hh"))){c_ww=parseInt($(img).attr("ww"));c_hh=parseInt($(img).attr("hh"));}else if(parseInt($(img).attr("ww"))){c_ww=parseInt($(img).attr("ww"));c_hh=c_ww*img_rate;}else if(parseInt($(img).attr("hh"))){c_hh=parseInt($(img).attr("hh"));c_ww=c_hh/img_rate;}
if(!c_ww&&!c_hh){$(img).css("width","100%");}else{$(img).css("width","");if(c_ww&&c_hh){var rate_ww=1;var rate_hh=1;rate_ww=c_ww/img.naturalWidth;rate_hh=c_hh/img.naturalHeight;var rate=Math.min(rate_ww,rate_hh);if(rate<1){if(rate_ww<rate_hh){i_ww=c_ww;i_hh=c_ww*img_rate;}else{i_hh=c_hh;i_ww=c_hh/img_rate;}}}else if(sc.ww){i_ww=c_ww;i_hh=c_ww*img_rate;}else if(sc.hh){i_hh=c_hh;i_ww=c_hh/img_rate;img.width=i_ww;img.height=i_hh;}}
img.width=i_ww;img.height=i_hh;if(click_flag){click_flag=false;$(sc.imgeditor).trigger("show");FIMAGE.cropDivReset($("div.wliu-image-crop",sc.imgeditor));}});});$("div.wliu-image-crop",sc.imgeditor).draggable({containment:"parent"});$("div.wliu-image-crop",sc.imgeditor).resizable({aspectRatio:ratio,containment:"parent"});});}}});wliu_table.directive("table.esign",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",subject:"@",firstname:"@",lastname:"@",ww:"@",hh:"@",minww:"@",minhh:"@"},template:['<span>','<span style="font-size:16px;font-weight:bold;color:red;" ng-if="table.getCol(row, name).errorCode">{{table.getCol(row, name).errorMessage}}</span>','<br ng-if="table.getCol(row, name).errorCode">','<div ng-click="showEsign()" style="display:inline-block;position:relative;min-width:{{minww}}px;min-height:{{minhh}}px;border:1px solid #cccccc;" class="wliu-background-11" >','<div style="display:table;">','<div style="display:table-cell;vertical-align:middle;text-align:center;width:{{minww}}px;height:{{minhh}}px;" class="esign-content" targetid="{{esignDivid}}">','<img class="img-responsive" width="100%" onload="imageAutoFix(this)" ww={{minww}} hh={{minhh}} src="{{table.getCol(row, name).value?table.getCol(row, name).value:\'\'}}" />','</div>','<input type="hidden" scope="{{ table.scope }}" title="" ','ng-model="table.getCol(row, name).value" ','ng-change="table.changeCol(row, name)" ','ng-disabled="table.getCol(row, name)==undefined" ','/>','</div>','<div id="{{esignDivid}}" wliu-diag maskable fade esign-diag disposable>','<div wliu-diag-body>','<span style="display:block;color:blue;">Please use mouse or touch screen pen to sign your name:</span>','<canvas id="can" width="{{ww}}" height={{hh}} style="border:2px solid #666666;"></canvas>','<div style="text-align:center;">','<button ng-click="save()" title="Save" class="btn btn-lg btn-outline-success waves-effect" ','style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">',' Confirm','</button>','<button ng-click="cancel()" title="Be careful. clear signature!" class="btn btn-lg btn-outline-danger waves-effect" ','style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">',' Clear Signature','</button>','<button ng-click="close()" title="Close" class="btn btn-lg btn-outline-info waves-effect pull-right" ','style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">',' Close','</button>','</div>','</div>','</div>','<span>',].join(''),controller:function($scope){$scope.ww=$scope.ww?$scope.ww:640;$scope.hh=$scope.hh?$scope.hh:320;$scope.minww=$scope.minww?$scope.minww:"100";$scope.minhh=$scope.minhh?$scope.minhh:"50";$scope.esignDivid=$scope.table.scope+"_"+$scope.name+"_"+guid();$scope.esignDiv="#"+$scope.esignDivid;$scope.showEsign=function(){FIMAGE.image2Canvas($scope.esign_canvas.ctx,$scope.table.getCol($scope.row,$scope.name).value);$($scope.esignDiv).trigger("show");}
$scope.save=function(){if($scope.esign_canvas.signed){$scope.esign_canvas.subject=$scope.subject;if($scope.table.getCol($scope.row,$scope.firstname))
$scope.esign_canvas.firstName=$scope.table.getCol($scope.row,$scope.firstname).value;if($scope.table.getCol($scope.row,$scope.lastname))
$scope.esign_canvas.lastName=$scope.table.getCol($scope.row,$scope.lastname).value;$scope.table.getCol($scope.row,$scope.name).value=$scope.esign_canvas.getDataUrl();$scope.table.changeCol($scope.row,$scope.name);$scope.esign_canvas.clear();}
$($scope.esignDiv).trigger("hide");}
$scope.cancel=function(){$scope.table.getCol($scope.row,$scope.name).value="";$scope.table.changeCol($scope.row,$scope.name);$scope.esign_canvas.clear();}
$scope.close=function(){$($scope.esignDiv).trigger("hide");}},link:function(sc,el,attr){$(function(){$("body > div[esign-diag][disposable]").each(function(el_idx,el_esign){if($("div.esign-content[targetid='"+$(el_esign).attr("id")+"']").length<=0)$(el_esign).remove();});$("body>"+sc.esignDiv).remove();$(sc.esignDiv).appendTo("body");$(sc.esignDiv).wliuDiag();sc.esign_canvas=new WLIU.CANVAS({canvas:$("canvas",sc.esignDiv).get(0)});sc.esign_canvas.init();});}}});wliu_table.directive("table.label",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<label class="wliuCommon-label" scope="{{ table.scope }}" ','popup-target="{{table.colMeta(name).tooltip?\'#\'+table.colMeta(name).tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname?table.colMeta(name).colname:name}}" ','title="{{table.colMeta(name).tooltip? \'\':table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname?table.colMeta(name).colname:name}}" ','>','<span style="vertival-align:middle;">{{ table.colMeta(name).colname?table.colMeta(name).colname:name }}</span>','<span style="vertival-align:middle;" class="wliuCommon-text-error" ng-if="table.colMeta(name).notnull"> <b>*</b></span>','</label>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("table.html",function($sce){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<span scope="{{ table.scope }}" ng-bind-html="getHTML()" ng-hide="table.relationHide(row, name)"></span>'].join(''),controller:function($scope,$sce){$scope.getHTML=function(){if($scope.table.getCol($scope.row,$scope.name))
return $sce.trustAsHtml($scope.table.getCol($scope.row,$scope.name).value);else
return $sce.trustAsHtml("");}},link:function(sc,el,attr){$(function(){});}}});wliu_table.directive("table.text",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<span class="wliuCommon-label" scope="{{ table.scope }}" ng-hide="table.relationHide(row, name)" ','ng-class="{ \'wliuCommon-input-invalid\': table.getCol(row, name).errorCode }" ','popup-target="{{table.colMeta(name).tooltip?\'#\'+table.colMeta(name).tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage.nl2br():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ','title="{{ table.colMeta(name).tooltip?\'\':table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage:table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}"','>','{{ table.getCol(row, name).value }}','</span>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("table.hidden",function(){return{restrict:"E",replace:true,transclude:true,scope:{table:"=",row:"=",name:"@"},template:['<span><input type="hidden" scope="{{ table.scope }}" ','ng-model="table.getCol(row, name).value" ','ng-change="table.changeCol(row, name)" ','ng-disabled="table.getCol(row, name)==undefined" ','/>','</span>'].join(''),controller:function($scope){}}});wliu_table.directive("table.readonly",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",class:"@"},template:['<span>','<input type="textbox" ng-if="row.rowstate>=2" ','class="{{class}}" ','ng-model="table.getCol(row, name).value" ',common_ng,common_tooltip,'/>','<span class="wliuCommon-label" scope="{{ table.scope }}" ng-hide="table.relationHide(row, name)" ng-if="row.rowstate<2" ','ng-class="{ \'wliuCommon-input-invalid\': table.getCol(row, name).errorCode }" ','popup-target="{{table.colMeta(name).tooltip?\'#\'+table.colMeta(name).tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage.nl2br():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ','title="{{ table.colMeta(name).tooltip?\'\':table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage:table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}"','>','{{ table.getCol(row, name).value }}','</span>','</span>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("table.textbox",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<input type="textbox" ','ng-model="table.getCol(row, name).value" ',common_ng,common_tooltip,'/>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("table.password",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",tooltip:"@"},template:['<input type="password" placeholder="Password" ','ng-model="table.getCol(row, name).value" ',common_ng,common_tooltip,'/>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("table.passpair",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",class:"@"},template:['<span style="display:inline-block;vertical-align:top;" '+common_ng_hide+'>','<input type="password" style="width:100%;" placeholder="Password" ','ng-model="table.getCol(row, name).value.password" ','ng-change="passChange()" ','class="{{class}}" ',common_scope,common_ng_class,common_ng_disabled,common_ng_options,common_tooltip,' />','<input type="password" style="width:100%;" placeholder="Confirm Password" ','ng-model="table.getCol(row, name).value.confirm" ','ng-class="{ \'wliuCommon-input-invalid\': table.getCol(row, name).value.password!=table.getCol(row, name).value.confirm }" ','class="{{class}}" ',common_scope,common_ng_disabled,common_ng_options,'popup-target="{{table.colMeta(name).tooltip?\'#\'+table.colMeta(name).tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{table.getCol(row, name).value.password!=table.getCol(row, name).value.confirm ?\'Password not match!\':\'\'}}" ','title="{{table.colMeta(name).tooltip?\'\':table.getCol(row, name).value.password!=table.getCol(row, name).value.confirm?\'Password not match!\':\'\'}}" ',' />','</span>'].join(''),controller:function($scope){$scope.passChange=function(){$scope.table.changeCol($scope.row,$scope.name);}},link:function(sc,el,attr){}}});wliu_table.directive("table.textarea",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<textarea ','ng-model="table.getCol(row, name).value" ',common_ng,common_tooltip,'>','</textarea>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("table.select",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<select ','ng-model="table.getCol(row, name).value" ','ng-options="sObj.key as sObj.value for sObj in table.colList(name).list" ',common_scope,common_ng_change,common_ng_class,common_ng_disabled,common_ng_hide,common_tooltip,'>','<option value=""></option>','</select>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("table.relation",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",label:"@"},template:['<span class="checkbox" ',common_scope,common_ng_class,common_tooltip,'>','<input type="checkbox" id="{{table.scope}}_{{name}}_{{row.guid}}" ','ng-model="table.getCol(row, name).value" ng-value="1"  ','ng-change="table.relationChange(row); table.changeCol(row, name);" ',common_scope,common_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_{{row.guid}}" title="{{table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname?table.colMeta(name).colname:name}}">','{{ label.toLowerCase()=="default"?table.colMeta(name).colname:label?label:"" }}','</label>','</span>',].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("table.bool",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",label:"@"},template:['<span class="checkbox" ',common_scope,common_ng_class,common_ng_hide,common_tooltip,'>','<input type="checkbox" id="{{table.scope}}_{{name}}_{{row.guid}}" ','ng-model="table.getCol(row, name).value" ng-value="1"  ',common_scope,common_ng_change,common_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_{{row.guid}}" title="{{table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname?table.colMeta(name).colname:name}}">','{{ label.toLowerCase()=="default"?table.colMeta(name).colname:label?label:"" }}','</label>','</span>',].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("table.booltext",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",yes:"@",no:"@"},template:['<span ',common_ng_hide,'>','{{ table.getCol(row, name)?(table.getCol(row, name).value?yes?yes:\'Yes\':no?no:\'No\'):\'\' }}','</span>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("table.datetime",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<span  ',common_ng_hide,common_tooltip,'>','<input type="textbox" class="wliuCommon-datepicker" placeholder="yyyy-mm-dd" ','ng-model="table.getCol(row, name).value.date" ',common_scope,common_ng_change,common_ng_class,common_ng_disabled,'/>','<input type="textbox" class="wliuCommon-timepicker" placeholder="hh:mm" ','ng-model="table.getCol(row, name).value.time" ',common_scope,common_ng_change,common_ng_class,common_ng_disabled,'/>','</span>'].join(''),controller:function($scope){},link:function(sc,el,attr){$(function(){var today=new Date();$("input.wliuCommon-datepicker",el).pickadate({format:"yyyy-mm-dd",formatSubmit:"yyyy-mm-dd",closeOnSelect:true,selectYears:100,min:new Date(today.getFullYear()-90,1,1),max:new Date(today.getFullYear()+10,12,31)});$("input.wliuCommon-timepicker",el).pickatime({twelvehour:false});});}}});wliu_table.directive("table.date",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<input type="textbox" class="wliuCommon-datepicker" placeholder="yyyy-mm-dd" ','ng-model="table.getCol(row, name).value" ',common_scope,common_ng_change,common_ng_class,common_ng_disabled,common_ng_hide,common_tooltip,'/>'].join(''),controller:function($scope){},link:function(sc,el,attr){$(function(){var today=new Date();$(el).pickadate({format:"yyyy-mm-dd",formatSubmit:"yyyy-mm-dd",closeOnSelect:true,selectYears:100,min:new Date(today.getFullYear()-90,1,1),max:new Date(today.getFullYear()+10,12,31)});});}}});wliu_table.directive("table.time",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<input type="textbox" class="wliuCommon-timepicker" placeholder="hh:mm" ','ng-model="table.getCol(row, name).value" ',common_scope,common_ng_change,common_ng_class,common_ng_hide,common_ng_disabled,common_tooltip,'/>'].join(''),controller:function($scope){},link:function(sc,el,attr){$(function(){$(el).pickatime({twelvehour:false});});}}});wliu_table.directive("table.intdate",function(){return{restrict:"E",replace:true,transclude:true,scope:{table:"=",row:"=",name:"@",format:"@"},template:['<span class="wliuCommon-label" ',common_ng_hide,'>','{{ table.getCol(row, name).value?(table.getCol(row, name).value>0?(table.getCol(row, name).value * 1000 | date : (format?format:"yyyy-MM-dd HH:mm") ):"") :"" }}','</span>'].join(''),controller:function($scope){}}});wliu_table.directive("table.checkbox",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",colnum:"@"},template:['<div ',common_scope,common_ng_class,common_ng_hide,common_tooltip,'>','<span class="wliuCommon-label" ','ng-repeat="rdObj in table.lists[table.colMeta(name).list].list">','<span class="checkbox">','<input type="checkbox" id="{{table.scope}}_{{name}}_{{row.guid}}_{{rdObj.key}}" ','ng-model="table.getCol(row, name).value[rdObj.key]" ng-value="rdObj.key"  ',common_scope,common_ng_change,common_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_{{row.guid}}_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("table.checkbox1",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<input type="text" readonly class="wliuCommon-checklist" value="{{ valueText() }}" ','ng-click="change(row, name)" ','diag-target="#{{table.colMeta(name).targetid}}" diag-toggle="click" ','popup-target="#table_rowno_tooltip" popup-placement="down" popup-toggle="hover" popup-body="{{table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage.nl2br():valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ',common_scope,common_ng_class,common_ng_disabled,common_ng_hide,'/>'].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.change=function(row,name){$scope.table.colList(name).keys.guid=row.guid;$scope.table.colList(name).keys.name=name;}
$scope.valueText=function(){var text=$.map($scope.table.colList($scope.name).list,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");return text;}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}})}}});wliu_table.directive("table.checktext1",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<span class="wliuCommon-label">{{ valueText() }}</span>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.valueText=function(){var text=$.map($scope.table.colList($scope.name).list,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");return text;}},link:function(sc,el,attr){}}});wliu_table.directive("table.checkdiag1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" wliu-diag movable maskable ',common_scope,'>','<div wliu-diag-head>{{ title }}</div>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr(table.lists[name].keys.guid, table.lists[name].keys.name)">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<a class="wliu-btn16 wliu-btn16-checkall" ng-click="checkall(table.lists[name].keys.guid, table.lists[name].keys.name)" title="check all"  ng-show="bar==1"></a>','<a class="wliu-btn16 wliu-btn16-removeall" ng-click="removeall(table.lists[name].keys.guid, table.lists[name].keys.name)" title="remove all"  ng-show="bar==1"></a>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-body" style="font-size:14px;">','<span ','ng-repeat="rdObj in table.lists[name].list|filter:search">','<span class="checkbox">','<input type="checkbox" id="{{table.scope}}_{{name}}_{{rdObj.key}}" ','ng-model="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name).value[rdObj.key]" ng-value="rdObj.key"  ','ng-change="table.changeColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)" ','ng-disabled="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)==undefined" ',common_scope,'/>','<label for="{{table.scope}}_{{name}}_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.lists[$scope.name].keys=$scope.table.lists[$scope.name].keys||{};$scope.checkall=function(guid,name){$scope.table.getColByGuid(guid,name).value=$scope.table.getColByGuid(guid,name).value||{};for(var key in $scope.table.lists[$scope.name].list){$scope.table.getColByGuid(guid,name).value[$scope.table.lists[$scope.name].list[key].key]=true;}
$scope.table.changeColByGuid(guid,name);}
$scope.removeall=function(guid,name){$scope.table.getColByGuid(guid,name).value={};$scope.table.changeColByGuid(guid,name);}
$scope.valueArr=function(guid,name){var valueArr=$.map($scope.table.lists[$scope.name].list,function(n){if($scope.table.getColByGuid(guid,name)!=undefined){if($scope.table.getColByGuid(guid,name).value[n.key])
return n;else
return null;}else{return null;}});return valueArr;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_table.directive("table.checklist1",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",colnum:"@",bar:"@",title:"@"},template:['<div class="col-md-12" style="border:1px dotted #666666;border-radius:5px; padding:2px; overflow-y:auto; overflow:visible; text-align:left; min-width:240px;" ',common_scope,common_ng_class,common_ng_hide,common_tooltip,'>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr()">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<a class="wliu-btn16 wliu-btn16-checkall" ng-click="checkall()" title="check all" ng-show="bar==1"></a>','<a class="wliu-btn16 wliu-btn16-removeall" ng-click="removeall()" title="remove all" ng-show="bar==1"></a>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-content" style="font-size:14px;">','<span ','ng-repeat="rdObj in table.colList(name).list|filter:search">','<span class="checkbox">','<input type="checkbox" id="{{table.scope}}_{{name}}_{{row.guid}}_{{rdObj.key}}" ','ng-model="table.getCol(row, name).value[rdObj.key]" ng-value="rdObj.key"  ',common_scope,common_ng_change,common_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_{{row.guid}}_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.checkall=function(){$scope.table.getCol($scope.row,$scope.name).value=$scope.table.getCol($scope.row,$scope.name).value||{};for(var key in $scope.table.colList($scope.name).list){$scope.table.getCol($scope.row,$scope.name).value[$scope.table.colList($scope.name).list[key].key]=true;}
$scope.table.changeCol($scope.row,$scope.name);}
$scope.removeall=function(){$scope.table.getCol($scope.row,$scope.name).value={};$scope.table.changeCol($scope.row,$scope.name);}
$scope.valueArr=function(){var valueArr=$.map($scope.table.colList($scope.name).list,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value[n.key])
return n;else
return null;}else{return null;}});return valueArr;}},link:function(sc,el,attr){}}});wliu_table.directive("table.checkbox2",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<input type="text" readonly class="wliuCommon-checklist" value="{{ valueText() }}" ','ng-click="change(row, name)" ','diag-target="#{{table.colMeta(name).targetid}}" diag-toggle="click" ','popup-target="#table_rowno_tooltip" popup-placement="down" popup-toggle="hover" popup-body="{{table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage.nl2br():valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ',common_scope,common_ng_class,common_ng_disabled,common_ng_hide,'/>'].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.change=function(row,name){$scope.table.colList(name).keys.guid=row.guid;$scope.table.colList(name).keys.name=name;}
$scope.valueText=function(){var ret_text="";for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;var text=$.map(dList,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=(ret_text&&text?"; ":"")+text;}
return ret_text;}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}})}}});wliu_table.directive("table.checktext2",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<span class="wliuCommon-label">{{ valueText() }}</span>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.valueText=function(){var ret_text="";for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;var text=$.map(dList,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=(ret_text&&text?"; ":"")+text;}
return ret_text;}},link:function(sc,el,attr){}}});wliu_table.directive("table.checkdiag2",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" wliu-diag movable maskable class="container" ',common_scope,'>','<div wliu-diag-head>{{ title }}</div>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr(table.lists[name].keys.guid, table.lists[name].keys.name)">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<a class="wliu-btn16 wliu-btn16-checkall" ng-click="checkall(table.lists[name].keys.guid, table.lists[name].keys.name)" title="check all" ng-show="bar==1"></a>','<a class="wliu-btn16 wliu-btn16-removeall" ng-click="removeall(table.lists[name].keys.guid, table.lists[name].keys.name)" title="remove all" ng-show="bar==1"></a>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-body" style="font-size:14px;">','<span style="display:none;" ng-repeat-start="rdObj in table.lists[name].list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<b>{{ rdObj.value }}</b>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="checkbox">','<input type="checkbox" id="{{table.scope}}_{{name}}_{{tdObj.key}}" ','ng-model="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name).value[tdObj.key]" ng-value="tdObj.key"  ','ng-change="table.changeColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)" ','ng-disabled="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)==undefined" ',common_scope,'/>','<label for="{{table.scope}}_{{name}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none;" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.lists[$scope.name].keys=$scope.table.lists[$scope.name].keys||{};$scope.checkall=function(guid,name){$scope.table.getColByGuid(guid,name).value=$scope.table.getColByGuid(guid,name).value||{};for(var key in $scope.table.lists[$scope.name].list){var dList=$scope.table.lists[$scope.name].list[key].list;for(var dkey in dList){$scope.table.getColByGuid(guid,name).value[dList[dkey].key]=true;}}
$scope.table.changeColByGuid(guid,name);}
$scope.removeall=function(guid,name){$scope.table.getColByGuid(guid,name).value={};$scope.table.changeColByGuid(guid,name);}
$scope.valueArr=function(guid,name){var ret_arr=[];for(var key in $scope.table.lists[$scope.name].list){var dList=$scope.table.lists[$scope.name].list[key].list;var valueArr=$.map(dList,function(n){if($scope.table.getColByGuid(guid,name)!=undefined){if($scope.table.getColByGuid(guid,name).value[n.key])
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}
return ret_arr;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_table.directive("table.checklist2",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div class="col-md-12" style="border:1px dotted #666666;border-radius:5px;overflow-y:auto;overflow:visible;" ',common_scope,common_ng_hide,common_ng_class,common_tooltip,'>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr()">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<a class="wliu-btn16 wliu-btn16-checkall" ng-click="checkall()" title="check all" ng-show="bar==1"></a>','<a class="wliu-btn16 wliu-btn16-removeall" ng-click="removeall()" title="remove all" ng-show="bar==1"></a>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-content" style="min-height:250px;min-width:350px;font-size:14px;">','<span style="display:none;" ng-repeat-start="rdObj in table.colList(name).list|filter:search"></span>','<div class="col-sm-{{colnum}}" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<b>{{ rdObj.value }}</b>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="checkbox">','<input type="checkbox" id="{{table.scope}}_{{name}}_{{row.guid}}_{{tdObj.key}}" ','ng-model="table.getCol(row, name).value[tdObj.key]" ng-value="tdObj.key" ',common_scope,common_ng_change,common_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_{{row.guid}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none;" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.checkall=function(){$scope.table.getCol($scope.row,$scope.name).value=$scope.table.getCol($scope.row,$scope.name).value||{};for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;for(var dkey in dList){$scope.table.getCol($scope.row,$scope.name).value[dList[dkey].key]=true;}}
$scope.table.changeCol($scope.row,$scope.name);}
$scope.removeall=function(){$scope.table.getCol($scope.row,$scope.name).value={};$scope.table.changeCol($scope.row,$scope.name);}
$scope.valueArr=function(){var ret_arr=[];for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;var valueArr=$.map(dList,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value[n.key])
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}
return ret_arr;}},link:function(sc,el,attr){}}});wliu_table.directive("table.checkbox3",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<input type="text" readonly class="wliuCommon-checklist" value="{{ valueText() }}" ','ng-click="change(row, name)" ','diag-target="#{{table.colMeta(name).targetid}}" diag-toggle="click" ','popup-target="#table_rowno_tooltip" popup-placement="down" popup-toggle="hover" popup-body="{{table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage.nl2br():valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ',common_scope,common_ng_class,common_ng_disabled,common_ng_hide,'/>'].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.change=function(row,name){$scope.table.colList(name).keys.guid=row.guid;$scope.table.colList(name).keys.name=name;}
$scope.valueText=function(){var ret_text="";for(var key1 in $scope.table.colList($scope.name).list){var list2=$scope.table.colList($scope.name).list[key1].list;for(var key2 in list2){var list3=list2[key2].list;var text=$.map(list3,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=(ret_text&&text?"; ":"")+text;}}
return ret_text;}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}})}}});wliu_table.directive("table.checktext3",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<span class="wliuCommon-label">{{ valueText() }}</span>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.valueText=function(){var ret_text="";for(var key1 in $scope.table.colList($scope.name).list){var list2=$scope.table.colList($scope.name).list[key1].list;for(var key2 in list2){var list3=list2[key2].list;var text=$.map(list3,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=(ret_text&&text?"; ":"")+text;}}
return ret_text;}},link:function(sc,el,attr){}}});wliu_table.directive("table.checkdiag3",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" wliu-diag maskable movable class="container" ',common_scope,'>','<div wliu-diag-head>{{ title }}</div>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr(table.lists[name].keys.guid, table.lists[name].keys.name)">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<a class="wliu-btn16 wliu-btn16-checkall" ng-click="checkall(table.lists[name].keys.guid, table.lists[name].keys.name)" title="check all" ng-show="bar==1"></a>','<a class="wliu-btn16 wliu-btn16-removeall" ng-click="removeall(table.lists[name].keys.guid, table.lists[name].keys.name)" title="remove all" ng-show="bar==1"></a>','<select class="wliuCommon-filter" ','ng-model="listFilter.key" ','ng-options="sObj.key as sObj.value for sObj in table.lists[name].list" ',' ng-show="bar==1">','<option value=""></option>','</select>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-body" style="font-size:14px;">','<span style="display:none;" ng-repeat-start="bbObj in table.lists[name].list|filter:getListFilter()"></span>','<span style="display:none;" ng-repeat-start="rdObj in bbObj.list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<span style="white-space:nowrap;font-weight:700;">{{ rdObj.value }}</span>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="checkbox">','<input type="checkbox" id="{{table.scope}}_{{name}}_{{tdObj.key}}" ','ng-model="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name ).value[tdObj.key]" ng-value="tdObj.key"  ','ng-change="table.changeColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)" ','ng-disabled="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)==undefined" ',common_scope,'/>','<label for="{{table.scope}}_{{name}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none" ng-repeat-end></span>','<span style="display:none" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.lists[$scope.name].keys=$scope.table.lists[$scope.name].keys||{};$scope.listFilter=$scope.listFilter||{};$scope.checkall=function(guid,name){$scope.table.getColByGuid(guid,name).value=$scope.table.getColByGuid(guid,name).value||{};for(var key1 in $scope.table.lists[$scope.name].list){var list2=$scope.table.lists[$scope.name].list[key1].list;for(var key2 in list2){var list3=list2[key2].list;for(var key3 in list3){$scope.table.getColByGuid(guid,name).value[list3[key3].key]=true;}}}
$scope.table.changeColByGuid(guid,name);}
$scope.removeall=function(guid,name){$scope.table.getColByGuid(guid,name).value={};$scope.table.changeColByGuid(guid,name);}
$scope.getListFilter=function(){$scope.listFilter.key=$scope.listFilter.key?$scope.listFilter.key:"";return $scope.listFilter;}
$scope.valueArr=function(guid,name){var ret_arr=[];for(var key1 in $scope.table.lists[$scope.name].list){var list2=$scope.table.lists[$scope.name].list[key1].list;for(var key2 in list2){var list3=list2[key2].list;var valueArr=$.map(list3,function(n){if($scope.table.getColByGuid(guid,name)!=undefined){if($scope.table.getColByGuid(guid,name).value[n.key])
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}}
return ret_arr;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_table.directive("table.checklist3",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div class="col-md-12" style="border:1px dotted #666666;border-radius:5px;overflow-y:auto;overflow:visible;" ',common_scope,common_ng_hide,common_ng_class,common_tooltip,'>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr()">','{{ vObj.value }}, ','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<a class="wliu-btn16 wliu-btn16-checkall" ng-click="checkall()" title="check all" ng-show="bar==1"></a>','<a class="wliu-btn16 wliu-btn16-removeall" ng-click="removeall()" title="remove all" ng-show="bar==1"></a>','<select class="wliuCommon-filter" ','ng-model="listFilter.key" ','ng-options="sObj.key as sObj.value for sObj in table.colList(name).list" ',' ng-show="bar==1">','<option value=""></option>','</select>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-content" style="min-height:250px;min-width:350px;font-size:14px;">','<span style="display:none;" ng-repeat-start="bbObj in table.colList(name).list|filter:getListFilter()"></span>','<span style="display:none;" ng-repeat-start="rdObj in bbObj.list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<span style="white-space:nowrap;font-weight:700;">{{ rdObj.value }}</span>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="checkbox">','<input type="checkbox" id="{{table.scope}}_{{name}}_{{row.guid}}_{{tdObj.key}}" ','ng-model="table.getCol(row, name).value[tdObj.key]" ng-value="tdObj.key"  ',common_scope,common_ng_change,common_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_{{row.guid}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none" ng-repeat-end></span>','<span style="display:none" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.listFilter=$scope.listFilter||{};$scope.checkall=function(){$scope.table.getCol($scope.row,$scope.name).value=$scope.table.getCol($scope.row,$scope.name).value||{};for(var key1 in $scope.table.colList($scope.name).list){var list2=$scope.table.colList($scope.name).list[key1].list;for(var key2 in list2){var list3=list2[key2].list;for(var key3 in list3){$scope.table.getCol($scope.row,$scope.name).value[list3[key3].key]=true;}}}
$scope.table.changeCol($scope.row,$scope.name);}
$scope.removeall=function(){$scope.table.getCol($scope.row,$scope.name).value={};$scope.table.changeCol($scope.row,$scope.name);}
$scope.getListFilter=function(){$scope.listFilter.key=$scope.listFilter.key?$scope.listFilter.key:"";return $scope.listFilter;}
$scope.valueArr=function(){var ret_arr=[];for(var key1 in $scope.table.colList($scope.name).list){var list2=$scope.table.colList($scope.name).list[key1].list;for(var key2 in list2){var list3=list2[key2].list;var valueArr=$.map(list3,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value[n.key])
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}}
return ret_arr;}},link:function(sc,el,attr){}}});wliu_table.directive("table.radio",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",colnum:"@"},template:['<div class="wliuCommon-label" ',common_scope,common_ng_class,common_ng_hide,common_tooltip,'>','<span ','ng-repeat="rdObj in table.lists[table.colMeta(name).list].list">','<span class="radio">','<input type="radio" id="{{table.scope}}_{{name}}_{{row}}_{{rdObj.key}}" ','ng-model="table.getCol(row, name).value" ng-value="rdObj.key"  ',common_scope,common_ng_change,common_ng_disabled,'/>','<label scope="{{ table.scope }}" for="{{table.scope}}_{{name}}_{{row}}_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("table.radio1",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<input  type="text" readonly class="wliuCommon-radiolist" value="{{ valueText() }}" ','ng-click="change(row, name)" ','diag-target="#{{table.colMeta(name).targetid}}" diag-toggle="click" ','popup-target="{{table.colMeta(name).tooltip?\'#\'+table.colMeta(name).tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage.nl2br():valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ','title="{{table.colMeta(name).tooltip?\'\':table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage:valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ',common_scope,common_ng_class,common_ng_disabled,common_ng_hide,'/>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.change=function(row,name){$scope.table.colList(name).keys.guid=row.guid;$scope.table.colList(name).keys.name=name;}
$scope.valueText=function(){var val=$scope.table.getCol($scope.row,$scope.name)?$scope.table.getCol($scope.row,$scope.name).value:"";var valText=FCOLLECT.firstByKV($scope.table.colList($scope.name).list,{key:val})?FCOLLECT.firstByKV($scope.table.colList($scope.name).list,{key:val}).value:"";return valText;}},link:function(sc,el,attr){}}});wliu_table.directive("table.radiotext1",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<span class="wliuCommon-label">{{ valueText() }}</span>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.valueText=function(){var val=$scope.table.getCol($scope.row,$scope.name)?$scope.table.getCol($scope.row,$scope.name).value:"";var valText=FCOLLECT.firstByKV($scope.table.colList($scope.name).list,{key:val})?FCOLLECT.firstByKV($scope.table.colList($scope.name).list,{key:val}).value:"";return valText;}},link:function(sc,el,attr){}}});wliu_table.directive("table.radiodiag1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" wliu-diag movable maskable ',common_scope,'>','<div wliu-diag-head>{{ title }}</div>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','{{ valueText(table.lists[name].keys.guid, table.lists[name].keys.name) }}','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-body" style="font-size:14px;">','<span ','ng-repeat="rdObj in table.lists[name].list|filter:search">','<span class="radio">','<input type="radio" name="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}" id="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}_{{rdObj.key}}" ','ng-model="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name).value" ng-value="rdObj.key"  ','ng-change="table.changeColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)" ','ng-disabled="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)==undefined" ',common_scope,'/>','<label for="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.lists[$scope.name].keys=$scope.table.lists[$scope.name].keys||{};$scope.valueText=function(guid,name){var val=$scope.table.getColByGuid(guid,name)?$scope.table.getColByGuid(guid,name).value:"";var valueText=FCOLLECT.firstByKV($scope.table.lists[$scope.name].list,{key:val})?FCOLLECT.firstByKV($scope.table.lists[$scope.name].list,{key:val}).value:"";return valueText;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_table.directive("table.radiolist1",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",colnum:"@",bar:"@",title:"@"},template:['<div class="col-md-12" style="border:1px dotted #666666;border-radius:5px; padding:2px; overflow-y:auto;text-align:left; min-width:240px;" ',common_scope,common_ng_hide,common_ng_class,common_tooltip,'>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','{{ valueText() }}','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-content" style="font-size:14px;">','<span ','ng-repeat="rdObj in table.colList(name).list|filter:search">','<span class="radio">','<input type="radio" name="{{table.scope}}_{{name}}_{{row.guid}}" id="{{table.scope}}_{{name}}_{{row.guid}}_{{rdObj.key}}" ','ng-model="table.getCol(row, name).value" ng-value="rdObj.key"  ',common_scope,common_ng_change,common_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_{{row.guid}}_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>','</div>'].join(''),controller:function($scope){$scope.valueText=function(){var val=$scope.table.getCol($scope.row,$scope.name)?$scope.table.getCol($scope.row,$scope.name).value:"";var valueText=$scope.table.FCOLLECT.firstByKV($scope.table.colList($scope.name).list,{key:val})?$scope.table.FCOLLECT.firstByKV($scope.table.colList($scope.name).list,{key:val}).value:"";return valueText;}},link:function(sc,el,attr){}}});wliu_table.directive("table.radio2",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<input type="text" readonly class="wliuCommon-radiolist" value="{{ valueText() }}" ','ng-click="change(row, name)" ','diag-target="#{{table.colMeta(name).targetid}}" diag-toggle="click" ','popup-target="{{table.colMeta(name).tooltip?\'#\'+table.colMeta(name).tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage.nl2br():valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ','title="{{table.colMeta(name).tooltip?\'\':table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage:valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ',common_scope,common_ng_class,common_ng_disabled,common_ng_hide,'/>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.change=function(row,name){$scope.table.colList(name).keys.guid=row.guid;$scope.table.colList(name).keys.name=name;}
$scope.valueText=function(){var ret_text="";for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;var text=$.map(dList,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value==n.key)
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=text;}
return ret_text;}},link:function(sc,el,attr){}}});wliu_table.directive("table.radiotext2",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<span class="wliuCommon-label">{{ valueText() }}</span>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.valueText=function(){var ret_text="";for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;var text=$.map(dList,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value==n.key)
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=text;}
return ret_text;}},link:function(sc,el,attr){}}});wliu_table.directive("table.radiodiag2",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" wliu-diag movable maskable class="container" ',common_scope,'>','<div wliu-diag-head>{{ title }}</div>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr(table.lists[name].keys.guid, table.lists[name].keys.name)">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-body" style="font-size:14px;">','<span style="display:none;" ng-repeat-start="rdObj in table.lists[name].list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<b>{{ rdObj.value }}</b>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="radio">','<input type="radio" name="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}" id="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}_{{tdObj.key}}" ','ng-model="table.getColByGuid( table.lists[name].keys.guid, table.lists[name].keys.name).value" ng-value="tdObj.key"  ','ng-change="table.changeColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)" ','ng-disabled="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)==undefined" ',common_scope,'/>','<label for="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none;" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.lists[$scope.name].keys=$scope.table.lists[$scope.name].keys||{};$scope.valueArr=function(guid,name){var ret_arr=[];for(var key in $scope.table.lists[$scope.name].list){var dList=$scope.table.lists[$scope.name].list[key].list;var valueArr=$.map(dList,function(n){if($scope.table.getColByGuid(guid,name)!=undefined){if($scope.table.getColByGuid(guid,name).value==n.key)
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}
return ret_arr;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_table.directive("table.radiolist2",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div class="col-md-12" style="border:1px dotted #666666;border-radius:5px;overflow-y:auto;"',common_scope,common_ng_hide,common_ng_class,common_tooltip,'>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr()">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-content" style="font-size:14px;">','<span style="display:none;" ng-repeat-start="rdObj in table.colList(name).list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<b>{{ rdObj.value }}</b>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="radio">','<input type="radio" name="{{table.scope}}_{{name}}_{{row.guid}}" id="{{table.scope}}_{{name}}_{{row.guid}}_{{tdObj.key}}" ','ng-model="table.getCol(row, name).value" ng-value="tdObj.key"  ',common_scope,common_ng_change,common_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_{{row.guid}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none;" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.valueArr=function(){var ret_arr=[];for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;var valueArr=$.map(dList,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value==n.key)
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}
return ret_arr;}},link:function(sc,el,attr){}}});wliu_table.directive("table.radio3",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<input type="text" readonly class="wliuCommon-radiolist" value="{{ valueText() }}" ','ng-click="change(row, name)" ','diag-target="#{{table.colMeta(name).targetid}}" diag-toggle="click" ','popup-target="{{table.colMeta(name).tooltip?\'#\'+table.colMeta(name).tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage.nl2br():valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ','title="{{table.colMeta(name).tooltip?\'\':table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage:valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ',common_scope,common_ng_class,common_ng_disabled,common_ng_hide,'/>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.change=function(row,name){$scope.table.colList(name).keys.guid=row.guid;$scope.table.colList(name).keys.name=name;}
$scope.valueText=function(){var ret_text="";for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;for(var pkey in dList){var pList=dList[pkey].list;var text=$.map(pList,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value==n.key)
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=text;}}
return ret_text;}},link:function(sc,el,attr){}}});wliu_table.directive("table.radiotext3",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<span class="wliuCommon-label">{{ valueText() }}</span>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.valueText=function(){var ret_text="";for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;for(var pkey in dList){var pList=dList[pkey].list;var text=$.map(pList,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value==n.key)
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=text;}}
return ret_text;}},link:function(sc,el,attr){}}});wliu_table.directive("table.radiodiag3",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" wliu-diag movable maskable class="container" ',common_scope,'>','<div wliu-diag-head>{{ title }}</div>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr(table.lists[name].keys.guid, table.lists[name].keys.name)">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<select class="wliuCommon-filter" ','ng-model="listFilter.key" ','ng-options="sObj.key as sObj.value for sObj in table.lists[name].list" ',' ng-show="bar==1">','<option value=""></option>','</select>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-body" style="font-size:14px;">','<span style="display:none;" ng-repeat-start="bbObj in table.lists[name].list|filter:getListFilter()"></span>','<span style="display:none;" ng-repeat-start="rdObj in bbObj.list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<b>{{ rdObj.value }}</b>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="radio">','<input type="radio" name="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}" id="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}_{{tdObj.key}}" ','ng-model="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name).value" ng-value="tdObj.key"  ','ng-change="table.changeColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)" ','ng-disabled="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)==undefined" ',common_scope,'/>','<label for="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none" ng-repeat-end></span>','<span style="display:none" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.listFilter=$scope.listFilter||{};$scope.getListFilter=function(){$scope.listFilter.key=$scope.listFilter.key?$scope.listFilter.key:"";return $scope.listFilter;}
$scope.valueArr=function(guid,name){var ret_arr=[];for(var key1 in $scope.table.lists[$scope.name].list){var list2=$scope.table.lists[$scope.name].list[key1].list;for(var key2 in list2){var list3=list2[key2].list;var valueArr=$.map(list3,function(n){if($scope.table.getColByGuid(guid,name)!=undefined){if($scope.table.getColByGuid(guid,name).value==n.key)
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}}
return ret_arr;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_table.directive("table.radiolist3",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div class="col-md-12" style="border:1px dotted #666666;border-radius:5px;overflow-y:auto;" ',common_scope,common_ng_hide,common_ng_class,common_tooltip,'>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr()">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<select class="wliuCommon-filter" ','ng-model="listFilter.key" ','ng-options="sObj.key as sObj.value for sObj in table.colList(name).list" ','ng-show="bar==1">','<option value=""></option>','</select>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-content" style="font-size:14px;">','<span style="display:none;" ng-repeat-start="bbObj in table.colList(name).list|filter:getListFilter()"></span>','<span style="display:none;" ng-repeat-start="rdObj in bbObj.list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<b>{{ rdObj.value }}</b>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="radio">','<input type="radio" name="{{table.scope}}_{{name}}_{{row.guid}}" id="{{table.scope}}_{{name}}_{{row.guid}}_{{tdObj.key}}" ','ng-model="table.getCol(row, name).value" ng-value="tdObj.key"  ',common_scope,common_ng_change,common_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_{{row.guid}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none" ng-repeat-end></span>','<span style="display:none" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.listFilter=$scope.listFilter||{};$scope.getListFilter=function(){$scope.listFilter.key=$scope.listFilter.key?$scope.listFilter.key:"";return $scope.listFilter;}
$scope.valueArr=function(){var ret_arr=[];for(var key1 in $scope.table.colList($scope.name).list){var list2=$scope.table.colList($scope.name).list[key1].list;for(var key2 in list2){var list3=list2[key2].list;var valueArr=$.map(list3,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value==n.key)
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}}
return ret_arr;}},link:function(sc,el,attr){}}});wliu_table.directive("table.bgroup",function(){return{restrict:"E",replace:true,transclude:true,scope:{table:"=",row:"=",actname:"@"},template:['<div class="dropdown" style="white-space:nowrap;">','<button type="button" data-toggle="dropdown" ','style="font-size:0.8em;" ','ng-class="{\'btn-info\': table.getRow(row).rowstate==0, \'btn-warning\': table.getRow(row).rowstate!=0}" ',common_scope,'>','{{actname}} ','<i class="fa fa-1 fa-caret-down"></i>','</button>','<ul class="dropdown-menu" style="white-space:nowrap;" ng-transclude>','</ul>','</div>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("table.next",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",actname:"@",action:"&"},template:['<span>','<button class="btn btn-outline-primary waves-effect" ','ng-click="navRecord()" ','ng-if="table.navRightState()"','>','{{actname?actname:name}}','</button>','</span>'].join(''),controller:function($scope){$scope.navRecord=function(){$scope.table.navRight();$scope.action();}},link:function(sc,el,attr){}}});wliu_table.directive("table.previous",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",actname:"@",action:"&"},template:['<span>','<button class="btn btn-outline-primary waves-effect" ','ng-click="navRecord()" ','ng-if="table.navLeftState()"','>','{{actname}}','</button>','</span>'].join(''),controller:function($scope){$scope.navRecord=function(){$scope.table.navLeft();$scope.action();}},link:function(sc,el,attr){}}});wliu_table.directive("table.blink",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",actname:"@",action:"&"},template:['<span>','<a href="javascript:void(0);" class="wliuCommon-table-btn16" ','ng-click="action1(table.getRow(row))" ','ng-if="buttonState(name, table.getRow(row).rowstate)" ','title="{{table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}"',common_scope,'>','<i class="wliu-btn16 wliu-btn16-{{name}}"></i> ','<span style="vertical-align:middle;">{{actname}}</span>','</a>','</span>'].join(''),controller:function($scope){$scope.action1=function(theRow){switch($scope.name.toLowerCase()){case"detail":$scope.table.current=theRow.guid;break;case"save":$scope.table.saveRow(theRow);break;case"cancel":$scope.table.cancelRow(theRow);break;case"add":break;case"delete":$scope.table.deleteRow(theRow);break;}
$scope.action();};$scope.buttonState=function(name,rowstate){var right=$scope.table.rights?(parseInt($scope.table.rights[name])?true:false):false;return wliuTableService.buttonState(name,rowstate)&&right;};},link:function(sc,el,attr){}}});wliu_table.directive("table.tablebutton",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",name:"@",actname:"@",outline:"@",action:"&",before:"&",after:"&"},template:['<div class="white-block">','<button class="btn btn{{ outline==1?\'-outline\':\'\'}}-{{ buttonStyle() }} waves-effect" ','style="min-width:60px;" ','title="{{table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ','ng-click="action1()" ',common_scope,'>','{{actname}}','</button>','</div>'].join(''),controller:function($scope){$scope.buttonStyle=function(){var ret_val="primary";switch($scope.name){case"search":ret_val="secondary";break;case"match":ret_val="secondary";break;case"save":ret_val="secondary";break;case"cancel":ret_val="warning";break;default:ret_val="info";break;}
return ret_val;}
$scope.action1=function(theRow){$scope.before();switch($scope.name.toLowerCase()){case"search":$scope.table.allRows();break;case"match":$scope.table.matchRows();break;case"save":$scope.table.saveRows();break;case"cancel":$scope.table.cancelRows();break;default:break;}
$scope.action();$scope.after();};$scope.buttonState=function(){};},link:function(sc,el,attr){}}});wliu_table.directive("table.singlebutton",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",actname:"@",action:"&",outline:"@",icon:"@",before:"&",after:"&"},template:['<span>','<button class="btn btn{{ outline==1?\'-outline\':\'\'}}-{{ buttonStyle() }} waves-effect" ','style="min-width:60px;" ','title="{{table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ','ng-disabled="!buttonState(name, table.getRow(row).rowstate)" ','ng-click="action1(table.getRow(row))" ','title="{{ table.getRow(row).error.errorCode ? table.getRow(row).error.errorMessage : \'\' }}" ',common_scope,'>','<span style="vertical-align:middle;">','{{actname}}','</span>','</button>','</span>'].join(''),controller:function($scope){$scope.buttonStyle=function(){var ret_val="primary";switch($scope.name){case"save":ret_val="secondary";break;case"cancel":ret_val="warning";break;}
return ret_val;}
$scope.action1=function(theRow){$scope.before();switch($scope.name.toLowerCase()){case"save":$scope.table.saveRow(theRow);break;case"cancel":if($scope.table.singleKeys)
$scope.table.cancelRow(theRow);else
$scope.table.resetRow(theRow);break;}
$scope.action();$scope.after();};$scope.buttonState=function(name,row){var right=$scope.table.rights?(parseInt($scope.table.rights[name])?true:false):false;return row>=0&&right;};},link:function(sc,el,attr){}}});wliu_table.directive("table.rowbutton",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",actname:"@",action:"&",outline:"@",icon:"@",before:"&",after:"&"},template:['<span>','<button class="btn btn{{ outline==1?\'-outline\':\'\'}}-{{ buttonStyle() }} waves-effect" ','style="min-width:60px;" ','title="{{table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ','ng-click="action1(table.getRow(row))" ','ng-if="buttonState(name, table.getRow(row).rowstate)" ','title="{{ table.getRow(row).error.errorCode ? table.getRow(row).error.errorMessage : \'\' }}" ',common_scope,'>','<span ng-if="icon==1" style="vertical-align:middle;">','<i class="wliu-btn16 wliu-btn16-rowstate-error"    ng-if="table.getRow(row).error.errorCode" ','title="{{ table.getRow(row).error.errorCode ? table.getRow(row).error.errorMessage : \'\' }}"','></i> ','<i class="wliu-btn16 wliu-btn16-rowstate-save"     ng-if="table.getRow(row).error.errorCode==0 && table.getRow(row).rowstate==1" title="Changed"></i> ','<i class="wliu-btn16 wliu-btn16-rowstate-add"      ng-if="table.getRow(row).error.errorCode==0 && table.getRow(row).rowstate==2" title="New"></i> ','<i class="wliu-btn16 wliu-btn16-rowstate-delete"   ng-if="table.getRow(row).error.errorCode==0 && table.getRow(row).rowstate==3" tilte="Deleted"></i> ','</span>','<span style="vertical-align:middle;">','{{actname}}','</span>','</button>','</span>'].join(''),controller:function($scope){$scope.buttonStyle=function(){var ret_val="primary";switch($scope.name){case"detail":ret_val="info";break;case"add":ret_val="default";break;case"save":ret_val="secondary";break;case"reset":case"cancel":ret_val="warning";break;case"delete":ret_val="danger";break;}
return ret_val;}
$scope.action1=function(theRow){$scope.before();switch($scope.name.toLowerCase()){case"detail":$scope.table.current=theRow.guid;break;case"save":$scope.table.saveRow(theRow);break;case"cancel":$scope.table.cancelRow(theRow);break;case"reset":$scope.table.resetRow(theRow);break;case"add":break;case"delete":$scope.table.deleteRow(theRow);break;}
$scope.action();$scope.after();};$scope.buttonState=function(name,rowstate){var right=$scope.table.rights?(parseInt($scope.table.rights[name])?true:false):false;if(name=="add"){if(parseInt($scope.table.rights[name])){rowstate=rowstate?rowstate:0;if(rowstate<1)
return true;else
return false;}else{return false;}}
return wliuTableService.buttonState(name,rowstate)&&right;};},link:function(sc,el,attr){}}});wliu_table.directive("table.bicon",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",row:"=",xsize:"@",name:"@",actname:"@",action:"&"},template:['<span>','<a class="wliu-btn{{xsize}} wliu-btn{{xsize}}-{{name}}" ','ng-click="action1(table.getRow(row))" ','ng-if="buttonState(name, table.getRow(row).rowstate)" ','popup-target="{{table.navi.tooltip?\'#\'+table.navi.tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{actname?actname:name}}" popup-placement="down" ','title="{{table.navi.tooltip?\'\':actname?actname:name}}" ',common_scope,'>','</a>','</span>'].join(''),controller:function($scope){$scope.xsize=$scope.xsize?$scope.xsize:16;$scope.action1=function(theRow){switch($scope.name.toLowerCase()){case"detail":$scope.table.current=theRow.guid;break;case"save":$scope.table.saveRow(theRow);break;case"cancel":$scope.table.cancelRow(theRow);break;case"add":break;case"delete":$scope.table.deleteRow(theRow);break;}
$scope.action();};$scope.buttonState=function(name,rowstate){var right=$scope.table.rights?(parseInt($scope.table.rights[name])?true:false):false;return wliuTableService.buttonState(name,rowstate)&&right;};},link:function(sc,el,attr){}}});wliu_table.directive("table.btext",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",actname:"@",action:"&"},template:['<span>','<a href="javascript:void(0)" class="wliu-table-button" ','title="{{actname?actname:name}}" ','ng-click="action1(table.getRow(row))" ','ng-if="buttonState(name, table.getRow(row).rowstate)" ',common_scope,'>','{{actname?actname:name.capital()}}','</a>','</span>'].join(''),controller:function($scope){$scope.action1=function(theRow){switch($scope.name.toLowerCase()){case"detail":$scope.table.current=theRow.guid;break;case"save":$scope.table.saveRow(theRow);break;case"cancel":$scope.table.cancelRow(theRow);break;case"add":break;case"delete":$scope.table.deleteRow(theRow);break;}
$scope.action();};$scope.buttonState=function(name,rowstate){var right=$scope.table.rights?(parseInt($scope.table.rights[name])?true:false):false;return wliuTableService.buttonState(name,rowstate)&&right;};},link:function(sc,el,attr){}}});wliu_table.directive("table.hgroup",function(){return{restrict:"E",replace:true,transclude:true,scope:{table:"=",actname:"@"},template:['<div class="dropdown" style="white-space:nowrap;">','<button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ','style="font-size:0.8em;" ','ng-class="{\'btn-info\':  rowstate()==0, \'btn-warning\':  rowstate()!=0}" ',common_scope,'>','{{actname}} ','<i class="fa fa-1 fa-caret-down"></i>','</button>','<ul class="dropdown-menu" style="white-space:nowrap;" ng-transclude>','</ul>','</div>'].join(''),controller:function($scope){$scope.rowstate=function(){var _state=0;for(var ridx in $scope.table.rows){_state=Math.max(_state,$scope.table.rows[ridx].rowstate);}
return _state;}},link:function(sc,el,attr){}}});wliu_table.directive("table.hlink",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",name:"@",actname:"@",action:"&"},template:['<span>','<a href="javascript:void(0);" class="wliuCommon-table-btn16" ','title="{{table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ','ng-click="action1()" ','ng-if="buttonState(name, rowstate())" ',common_scope,'>','<i class="wliu-btn16 wliu-btn16-{{name}}"></i> ','<span style="vertical-align:middle;">{{actname}}</span>','</a>','</span>'].join(''),controller:function($scope){$scope.action1=function(){switch($scope.name.toLowerCase()){case"save":$scope.table.saveRows();break;case"cancel":$scope.table.cancelRows();break;case"add":$scope.table.addRow(0,$scope.table.newRow());break;case"delete":break;}
$scope.action();};$scope.rowstate=function(){var _state=0;for(var ridx in $scope.table.rows){_state=Math.max(_state,$scope.table.rows[ridx].rowstate);}
return _state;};$scope.buttonState=function(name,rowstate){var right=$scope.table.rights?(parseInt($scope.table.rights[name])?true:false):false;return wliuTableService.buttonState(name,rowstate)&&right;};},link:function(sc,el,attr){}}});wliu_table.directive("table.hicon",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",xsize:"@",name:"@",actname:"@",action:"&"},template:['<span>','<a class="wliu-btn{{xsize}} wliu-btn{{xsize}}-{{name}}" ','ng-click="action1()" ','ng-if="buttonState(name, rowstate())" ','popup-target="{{table.navi.tooltip?\'#\'+table.navi.tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{actname?actname:name}}" popup-placement="down" ','title="{{table.navi.tooltip?\'\':actname?actname:name}}" ',common_scope,'>','</a>','</span>'].join(''),controller:function($scope){$scope.xsize=$scope.xsize?$scope.xsize:16;$scope.action1=function(){switch($scope.name.toLowerCase()){case"save":$scope.table.saveRows();break;case"cancel":$scope.table.cancelRows();break;case"add":$scope.table.addRow();break;case"delete":break;}
$scope.action();};$scope.rowstate=function(){var _state=0;for(var ridx in $scope.table.rows){_state=Math.max(_state,$scope.table.rows[ridx].rowstate);}
return _state;};$scope.buttonState=function(name,rowstate){var right=$scope.table.rights?(parseInt($scope.table.rights[name])?true:false):false;return wliuTableService.buttonState(name,rowstate)&&right;};},link:function(sc,el,attr){}}});wliu_table.directive("table.htext",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",name:"@",actname:"@",action:"&"},template:['<span>','<a href="javascript:void(0)" class="wliu-table-hbutton" ','title="{{ actname?actname:name }}" ','ng-click="action1()" ','ng-if="buttonState(name, rowstate())" ',common_scope,'>','{{ actname?actname:name.capital() }}','</a>','</span>'].join(''),controller:function($scope){$scope.action1=function(){switch($scope.name.toLowerCase()){case"save":$scope.table.saveRows();break;case"cancel":$scope.table.cancelRows();break;case"add":$scope.table.addRow();break;case"delete":break;}
$scope.action();};$scope.rowstate=function(){var _state=0;for(var ridx in $scope.table.rows){_state=Math.max(_state,$scope.table.rows[ridx].rowstate);}
return _state;};$scope.buttonState=function(name,rowstate){var right=$scope.table.rights?(parseInt($scope.table.rights[name])?true:false):false;return wliuTableService.buttonState(name,rowstate)&&right;};},link:function(sc,el,attr){}}});wliu_table.directive("table.popup",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"="},template:['<div scope="{{table.scope}}" id="wliu-table-error-popup" wliu-diag movable maskable>','<div wliu-diag-head>Message</div>','<div wliu-diag-body style="font-size:16px;">','<i class="fa fa-exclamation-triangle fa-lg" aria-hidden="true" style="color:red;"></i> <span style="font-size:16px;">We can\'t process submitted data:</span>','<div style="margin-top:5px;" ng-bind-html="getHTML()"></div>','</div>','</div>'].join(''),controller:function($scope,$sce){$scope.getHTML=function(){if($scope.table.error.errorCode||($scope.table.getCurrent()&&$scope.table.getCurrent().error.errorCode)){var errMsg=$scope.table.error.errorMessage.nl2br1();if($scope.table.getCurrent())errMsg+=$scope.table.getCurrent().error.errorMessage.nl2br1();return $sce.trustAsHtml(errMsg);}else{return $sce.trustAsHtml("");}}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();$(el).unbind("ishow").bind("ishow",function(evt){if(parseInt(sc.table.error.errorCode)){$(el).trigger("show");}});});}}});wliu_table.directive("table.message",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"="},template:['<div ng-show="table.error.errorCode>0 || table.getCurrent().error.errorCode>0" class="card card-danger text-center z-depth-2 mb-1 white-text" style="padding:10px;">','<div wliu-diag-body style="font-size:16px;text-align:left;">','<i class="fa fa-exclamation-triangle fa-md" aria-hidden="true" style="color:white;"></i> <span style="font-size:16px;">We can\'t process submitted data:</span>','<div style="margin-top:5px;padding-left:20px;" class="white-text" ng-bind-html="getHTML()"></div>','</div>','</div>'].join(''),controller:function($scope,$sce){$scope.getHTML=function(){if($scope.table.error.errorCode||($scope.table.getCurrent()&&$scope.table.getCurrent().error.errorCode)){var errMsg=$scope.table.error.errorMessage.nl2br1();if($scope.table.getCurrent())errMsg+=$scope.table.getCurrent().error.errorMessage.nl2br1();return $sce.trustAsHtml(errMsg);}else{return $sce.trustAsHtml("");}}},link:function(sc,el,attr){}}});wliu_table.service("wliuTableService",function(){var self=this;self.btnActive={"0":{"detail":1,"save":0,"cancel":0,"reset":0,"add":1,"delete":1,"output":1,"print":1,"email":1},"1":{"detail":0,"save":1,"cancel":1,"reset":1,"add":0,"delete":0,"output":0,"print":0,"email":0},"2":{"detail":0,"save":1,"cancel":1,"reset":1,"add":0,"delete":0,"output":0,"print":0,"email":0},"3":{"detail":0,"save":1,"cancel":1,"reset":0,"add":0,"delete":0,"output":0,"print":0,"email":0}};self.buttonState=function(name,rowstate){return self.btnActive[rowstate]?(self.btnActive[rowstate][name]?true:false):false;}});
var filter_ng_class='ng-class="{\'wliuCommon-input-invalid\':table.filterMeta(name).errorCode}" ';var filter_ng_disabled='ng-disabled="table.filterMeta(name)==undefined" ';var filter_title='title="{{table.filterMeta(name).errorCode?table.filterMeta(name).errorMessage.nl2br():\'\'}}" ';wliu_table.directive("filter.label",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<label class="wliuCommon-label" ','title="{{table.filterMeta(name).coldesc?table.filterMeta(name).coldesc:table.filterMeta(name).colname?table.filterMeta(name).colname:name}}"','>','<span style="vertival-align:middle;">{{ table.filterMeta(name).colname?table.filterMeta(name).colname:name }}</span>','</label>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("filter.textbox",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<input type="textbox" ','ng-keypress="keypress($event)" ','ng-model="table.filterMeta(name).value" ',filter_ng_class,filter_ng_disabled,filter_title,'/>'].join(''),controller:function($scope){$scope.keypress=function(ev){if(ev.keyCode==13){$scope.table.allRows();}}},link:function(sc,el,attr){}}});wliu_table.directive("filter.bind",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<select ','ng-model="table.colMeta(name).defval" ','ng-change="table.allRows()" ','ng-options="sObj.key as sObj.value for sObj in table.lists[table.filterMeta(name).list].list" ',filter_ng_class,filter_ng_disabled,filter_title,'>','<option value=""></option>','</select>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("filter.select",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",action:"&"},template:['<select ','ng-model="table.filterMeta(name).value" ','ng-options="sObj.key as sObj.value for sObj in table.lists[table.filterMeta(name).list].list" ',filter_ng_class,filter_ng_disabled,filter_title,'>','<option value=""></option>','</select>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("filter.bool",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",label:"@"},template:['<span class="checkbox" ',filter_ng_class,filter_title,'>','<input type="checkbox" id="filter_{{table.scope}}_{{name}}" ','ng-model="table.filterMeta(name).value" ng-value="1"  ',filter_ng_disabled,'/>','<label for="filter_{{table.scope}}_{{name}}" title="{{table.filterMeta(name).coldesc?table.filterMeta(name).coldesc:table.filterMeta(name).colname?table.filterMeta(name).colname:name}}">','{{ label.toLowerCase()=="default"?table.filterMeta(name).colname:label?label:"" }}','</label>','</span>',].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("filter.datetime",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<span ',filter_title,'>','<input type="textbox" class="wliuCommon-datepicker" placeholder="yyyy-mm-dd" ','ng-model="table.filterMeta(name).value.date" ',filter_ng_class,filter_ng_disabled,'/>','<input type="textbox" class="wliuCommon-timepicker" placeholder="hh:mm" ','ng-model="table.filterMeta(name).value.time" ',filter_ng_class,filter_ng_disabled,'/>','</span>'].join(''),controller:function($scope){$scope.table.filterMeta($scope.name).value=$scope.table.filterMeta($scope.name).value?$scope.table.filterMeta($scope.name).value:{};},link:function(sc,el,attr){$(function(){var today=new Date();$("input.wliuCommon-datepicker",el).pickadate({format:"yyyy-mm-dd",formatSubmit:"yyyy-mm-dd",closeOnSelect:true,selectYears:100,min:new Date(today.getFullYear()-90,1,1),max:new Date(today.getFullYear()+10,12,31)});$("input.wliuCommon-timepicker",el).pickatime({twelvehour:false});});}}});wliu_table.directive("filter.datetimerange",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<span>','<span style="vertical-align:middle">From: </span>','<span ',filter_title,'>','<input type="textbox" class="wliuCommon-datepicker" placeholder="yyyy-mm-dd" ','ng-model="table.filterMeta(name).value.from.date" ',filter_ng_class,filter_ng_disabled,'/>','<input type="textbox" class="wliuCommon-timepicker" placeholder="hh:mm" ','ng-model="table.filterMeta(name).value.from.time" ',filter_ng_class,filter_ng_disabled,'/>','</span>','<span style="vertical-align:middle"> To: </span>','<span ',filter_title,'>','<input type="textbox" class="wliuCommon-datepicker" scope="{{ table.scope }}" placeholder="yyyy-mm-dd" ','ng-model="table.filterMeta(name).value.to.date" ',filter_ng_class,filter_ng_disabled,'/>','<input type="textbox" class="wliuCommon-timepicker" scope="{{ table.scope }}" placeholder="hh:mm" ','ng-model="table.filterMeta(name).value.to.time" ',filter_ng_class,filter_ng_disabled,'/>','</span>','</span>'].join(''),controller:function($scope){$scope.table.filterMeta($scope.name).value=$scope.table.filterMeta($scope.name).value?$scope.table.filterMeta($scope.name).value:{};$scope.table.filterMeta($scope.name).value.from=$scope.table.filterMeta($scope.name).value.from?$scope.table.filterMeta($scope.name).value.from:{};$scope.table.filterMeta($scope.name).value.to=$scope.table.filterMeta($scope.name).value.to?$scope.table.filterMeta($scope.name).value.to:{};},link:function(sc,el,attr){$(function(){var today=new Date();$("input.wliuCommon-datepicker",el).pickadate({format:"yyyy-mm-dd",formatSubmit:"yyyy-mm-dd",closeOnSelect:true,selectYears:100,min:new Date(today.getFullYear()-90,1,1),max:new Date(today.getFullYear()+10,12,31)});$("input.wliuCommon-timepicker",el).pickatime({twelvehour:false});});}}});wliu_table.directive("filter.date",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<input type="textbox" class="wliuCommon-datepicker" ','ng-model="table.filterMeta(name).value" ',filter_ng_class,filter_ng_disabled,filter_title,'/>'].join(''),controller:function($scope){},link:function(sc,el,attr){$(function(){var today=new Date();$(el).pickadate({format:"yyyy-mm-dd",formatSubmit:"yyyy-mm-dd",closeOnSelect:true,selectYears:100,min:new Date(today.getFullYear()-90,1,1),max:new Date(today.getFullYear()+10,12,31)});});}}});wliu_table.directive("filter.daterange",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<span>','<span style="vertical-align:middle">From: </span>','<input type="textbox" class="wliuCommon-datepicker" ','ng-model="table.filterMeta(name).value.from" ',filter_ng_class,filter_ng_disabled,filter_title,'/>','<span style="vertical-align:middle"> To: </span>','<input type="textbox" class="wliuCommon-datepicker" ','ng-model="table.filterMeta(name).value.to" ',filter_ng_class,filter_ng_disabled,filter_title,'/>','</span>'].join(''),controller:function($scope){$scope.table.filterMeta($scope.name).value=$scope.table.filterMeta($scope.name).value?$scope.table.filterMeta($scope.name).value:{};},link:function(sc,el,attr){$(function(){var today=new Date();$(".wliuCommon-datepicker",el).pickadate({format:"yyyy-mm-dd",formatSubmit:"yyyy-mm-dd",closeOnSelect:true,selectYears:100,min:new Date(today.getFullYear()-90,1,1),max:new Date(today.getFullYear()+10,12,31)});});}}});wliu_table.directive("filter.time",function(){return{restrict:"E",replace:true,scope:{table:"=",rowsn:"@",name:"@"},template:['<input type="textbox" class="wliuCommon-timepicker" ','ng-model="table.filterMeta(name).value" ',filter_ng_class,filter_ng_disabled,filter_title,'/>'].join(''),controller:function($scope){},link:function(sc,el,attr){$(function(){var today=new Date();$(el).pickatime({twelvehour:false});});}}});wliu_table.directive("filter.timerange",function(){return{restrict:"E",replace:true,scope:{table:"=",rowsn:"@",name:"@"},template:['<span>','<span style="vertical-align:middle">From: </span>','<input type="textbox" class="wliuCommon-timepicker" ','ng-model="table.filterMeta(name).value.from" ',filter_ng_class,filter_ng_disabled,filter_title,'/>','<span style="vertical-align:middle"> To: </span>','<input type="textbox" class="wliuCommon-timepicker" ','ng-model="table.filterMeta(name).value.to" ',filter_ng_class,filter_ng_disabled,filter_title,'/>','</span>'].join(''),controller:function($scope){$scope.table.filterMeta($scope.name).value=$scope.table.filterMeta($scope.name).value?$scope.table.filterMeta($scope.name).value:{};},link:function(sc,el,attr){$(function(){var today=new Date();$(".wliuCommon-timepicker",el).pickatime({twelvehour:false});});}}});wliu_table.directive("filter.range",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<span>','<span style="vertical-align:middle">From: </span>','<input type="textbox" ','style="width:80px;border-top:0px;border-left:0px;border-right:0px;border-radius:0px" ','ng-keypress="keypress($event)" ','ng-model="table.filterMeta(name).value.from" ',filter_ng_class,filter_ng_disabled,filter_title,'/>','<span style="vertical-align:middle"> To: </span>','<input type="textbox" ','style="width:80px;border-top:0px;border-left:0px;border-right:0px;border-radius:0px" ','ng-keypress="keypress($event)" ','ng-model="table.filterMeta(name).value.to" ',filter_ng_class,filter_ng_disabled,filter_title,'/>','</span>'].join(''),controller:function($scope){$scope.table.filterMeta($scope.name).value=$scope.table.filterMeta($scope.name).value?$scope.table.filterMeta($scope.name).value:{};$scope.keypress=function(ev){if(ev.keyCode==13){$scope.table.allRows();}}},link:function(sc,el,attr){}}});wliu_table.directive("filter.checkbox",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",colnum:"@"},template:['<div style="display:inline-block;border:0px solid #cccccc;" ',filter_ng_class,'>','<span ','ng-repeat="rdObj in table.lists[table.filterMeta(name).list].list">','<span class="checkbox">','<input type="checkbox" scope="{{ table.scope }}" id="filter_{{table.scope}}_{{name}}_{{rdObj.key}}" ','ng-model="table.filterMeta(name).value[rdObj.key]" ng-value="rdObj.key"  ',filter_ng_disabled,'/>','<label for="filter_{{table.scope}}_{{name}}_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("filter.checkbox1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@"},template:['<input type="text" readonly class="wliuCommon-checklist" value="{{ valueText() }}" ','ng-click="change(name)" ','wliu-diag  diag-target="{{targetid}}" diag-toggle="click" ','title="{{table.filterMeta(name).errorCode?table.filterMeta(name).errorMessage.nl2br():valueText()?valueText():\'\'}}" ',filter_ng_class,filter_ng_disabled,'/>'].join(''),controller:function($scope){$scope.table.lists[$scope.table.filterMeta($scope.name).list].keys=$scope.table.lists[$scope.table.filterMeta($scope.name).list].keys||{};$scope.change=function(name){$scope.table.lists[$scope.table.filterMeta($scope.name).list].keys.guid="";$scope.table.lists[$scope.table.filterMeta($scope.name).list].keys.name=name;}
$scope.valueText=function(){var text=$.map($scope.table.lists[$scope.table.filterMeta($scope.name).list].list,function(n){if($scope.table.filterMeta($scope.name)!=undefined){if($scope.table.filterMeta($scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");return text;}},link:function(sc,el,attr){}}});wliu_table.directive("filter.checkdiag1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",colnum:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" class="wliu-diag" ','>','<a class="wliu-btn24 wliu-btn24-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr(table.lists[name].keys.name)">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<a class="wliu-btn24 wliu-btn24-checkall" ng-click="checkall(table.lists[name].keys.name)" title="check all"  ng-show="bar==1"></a>','<a class="wliu-btn24 wliu-btn24-removeall" ng-click="removeall(table.lists[name].keys.name)" title="remove all"  ng-show="bar==1"></a>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-content" style="font-size:14px;">','<span ','ng-repeat="rdObj in table.lists[name].list|filter:search">','<span class="checkbox">','<input type="checkbox" scope="{{ table.scope }}" id="filter_{{table.scope}}_{{name}}_{{rdObj.key}}" ','ng-model="table.filterMeta( table.lists[name].keys.name ).value[rdObj.key]" ng-value="rdObj.key"  ','ng-disabled="table.filterMeta(table.lists[name].keys.name )==undefined" ','/>','<label for="filter_{{table.scope}}_{{name}}_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.lists[$scope.name].keys=$scope.table.lists[$scope.name].keys||{};$scope.checkall=function(name){$scope.table.filterMeta(name).value=$scope.table.filterMeta(name).value||{};for(var key in $scope.table.lists[$scope.name].list){$scope.table.filterMeta(name).value[$scope.table.lists[$scope.name].list[key].key]=true;}}
$scope.removeall=function(name){for(var key in $scope.table.lists[$scope.name].list){$scope.table.filterMeta(name).value={};}}
$scope.valueArr=function(name){var valueArr=$.map($scope.table.lists[$scope.name].list,function(n){if($scope.table.filterMeta(name)!=undefined){if($scope.table.filterMeta(name).value[n.key])
return n;else
return null;}else{return null;}});return valueArr;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag({fade:false,movable:true,title:sc.title});});}}});wliu_table.directive("filter.checklist1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",colnum:"@",bar:"@",height:"@",title:"@"},template:['<div class="col-md-12">','<a class="wliu-btn24 wliu-btn24-checkall" ng-click="checkall()" title="check all" ng-show="bar==1"></a>','<a class="wliu-btn24 wliu-btn24-removeall" ng-click="removeall()" title="remove all" ng-show="bar==1"></a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-model-options="{ updateOn:\'default blur\', debounce:{default: 500, blur:0} }" ng-show="bar==1" />','<div class="wliu-diag-content" style="height:{{height?height:\'auto\'}};min-width:240px;overflow-y:auto;border:1px solid #cccccc;border-radius:5px;overflow-y:auto;">','<span ','ng-repeat="rdObj in table.lists[table.filterMeta(name).list].list|filter:search">','<span class="checkbox">','<input type="checkbox" scope="{{ table.scope }}" id="filter_{{table.scope}}_{{name}}_{{rdObj.key}}" ','ng-model="table.filterMeta(name).value[rdObj.key]" ng-value="rdObj.key"  ',filter_ng_disabled,'/>','<label for="filter_{{table.scope}}_{{name}}_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>','</div>'].join(''),controller:function($scope){$scope.checkall=function(){$scope.table.filterMeta($scope.name).value=$scope.table.filterMeta($scope.name).value||{};for(var key in $scope.table.lists[$scope.table.filterMeta($scope.name).list].list){$scope.table.filterMeta($scope.name).value[$scope.table.lists[$scope.table.filterMeta($scope.name).list].list[key].key]=true;}}
$scope.removeall=function(){for(var key in $scope.table.lists[$scope.table.filterMeta($scope.name).list].list){$scope.table.filterMeta($scope.name).value={};}}},link:function(sc,el,attr){}}});wliu_table.directive("filter.checkbox2",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",},template:['<input type="text" readonly class="wliuCommon-checklist" value="{{ valueText() }}" ','ng-click="change(name)" ','wliu-diag  diag-target="{{targetid}}" diag-toggle="click" ','title="{{table.filterMeta(name).errorCode?table.filterMeta(name).errorMessage.nl2br():valueText()?valueText():\'\'}}" ',filter_ng_class,'/>'].join(''),controller:function($scope){$scope.table.lists[$scope.table.filterMeta($scope.name).list].keys=$scope.table.lists[$scope.table.filterMeta($scope.name).list].keys||{};$scope.change=function(name){$scope.table.lists[$scope.table.filterMeta($scope.name).list].keys.guid="";$scope.table.lists[$scope.table.filterMeta($scope.name).list].keys.name=name;}
$scope.valueText=function(){var ret_text="";for(var key in $scope.table.lists[$scope.table.filterMeta($scope.name).list].list){var dList=$scope.table.lists[$scope.table.filterMeta($scope.name).list].list[key].list;var text=$.map(dList,function(n){if($scope.table.filterMeta($scope.name)!=undefined){if($scope.table.filterMeta($scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=(ret_text&&text?"; ":"")+text;}
return ret_text;}},link:function(sc,el,attr){}}});wliu_table.directive("filter.checkdiag2",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" class="wliu-diag container">','<a class="wliu-btn24 wliu-btn24-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr(table.lists[name].keys.name)">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="textbox" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<a class="wliu-btn24 wliu-btn24-checkall" ng-click="checkall(table.lists[name].keys.name)" title="check all" ng-show="bar==1"></a>','<a class="wliu-btn24 wliu-btn24-removeall" ng-click="removeall(table.lists[name].keys.name)" title="remove all" ng-show="bar==1"></a>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-content" style="font-size:14px;">','<span style="display:none;" ng-repeat-start="rdObj in table.lists[name].list|filter:search"></span>{{search}}','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<b>{{ rdObj.value }}</b>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="checkbox">','<input type="checkbox" scope="{{ table.scope }}" id="filter_{{table.scope}}_{{name}}_{{tdObj.key}}" ','ng-model="table.filterMeta(table.lists[name].keys.name).value[tdObj.key]" ng-value="tdObj.key"  ','ng-disabled="table.filterMeta(table.lists[name].keys.name)==undefined" ','/>','<label for="filter_{{table.scope}}_{{name}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none;" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.lists[$scope.name].keys=$scope.table.lists[$scope.name].keys||{};$scope.checkall=function(name){$scope.table.filterMeta(name).value=$scope.table.filterMeta(name).value||{};for(var key in $scope.table.lists[$scope.name].list){var dList=$scope.table.lists[$scope.name].list[key].list;for(var dkey in dList){$scope.table.filterMeta(name).value[dList[dkey].key]=true;}}}
$scope.removeall=function(name){for(var key in $scope.table.lists[$scope.name].list){$scope.table.filterMeta(name).value={};}}
$scope.valueArr=function(name){var ret_arr=[];for(var key in $scope.table.lists[$scope.name].list){var dList=$scope.table.lists[$scope.name].list[key].list;var valueArr=$.map(dList,function(n){if($scope.table.filterMeta(name)!=undefined){if($scope.table.filterMeta(name).value[n.key])
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}
return ret_arr;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag({fade:false,movable:true,title:sc.title});});}}});wliu_table.directive("filter.checklist2",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",colnum:"@",colnum1:"@",bar:"@",height:"@",title:"@"},template:['<div class="col-md-12">','<a class="wliu-btn24 wliu-btn24-checkall" ng-click="checkall()" title="check all" ng-show="bar==1"></a>','<a class="wliu-btn24 wliu-btn24-removeall" ng-click="removeall()" title="remove all" ng-show="bar==1"></a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<div class="wliu-diag-content"  style="height:{{height?height:\'auto\'}}; overflow-y:auto; border:1px solid #cccccc;border-radius:5px;overflow-y:auto;">','<span style="display:none;" ng-repeat-start="rdObj in table.lists[table.filterMeta(name).list].list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<b>{{ rdObj.value }}</b>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="checkbox">','<input type="checkbox" scope="{{ table.scope }}" id="filter_{{table.scope}}_{{name}}_{{tdObj.key}}" ','ng-model="table.filterMeta( name ).value[tdObj.key]" ng-value="tdObj.key"  ',filter_ng_disabled,'/>','<label for="filter_{{table.scope}}_{{name}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none;" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.checkall=function(){$scope.table.filterMeta($scope.name).value=$scope.table.filterMeta($scope.name).value||{};for(var key in $scope.table.lists[$scope.table.filterMeta($scope.name).list].list){var dList=$scope.table.lists[$scope.table.filterMeta($scope.name).list].list[key].list;for(var dkey in dList){$scope.table.filterMeta($scope.name).value[dList[dkey].key]=true;}}}
$scope.removeall=function(){for(var key in $scope.table.lists[$scope.table.filterMeta($scope.name).list].list){$scope.table.filterMeta($scope.name).value={};}}},link:function(sc,el,attr){}}});wliu_table.directive("filter.checkbox3",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@"},template:['<input type="text" readonly class="wliuCommon-checklist" value="{{ valueText() }}" ','ng-click="change(name)" ','wliu-diag  diag-target="{{targetid}}" diag-toggle="click" ','title="{{table.filterMeta(name).errorCode?table.filterMeta(name).errorMessage.nl2br():valueText()?valueText():\'\'}}" ',filter_ng_class,'/>'].join(''),controller:function($scope){$scope.table.lists[$scope.table.filterMeta($scope.name).list].keys=$scope.table.lists[$scope.table.filterMeta($scope.name).list].keys||{};$scope.change=function(name){$scope.table.lists[$scope.table.filterMeta($scope.name).list].keys.guid="";$scope.table.lists[$scope.table.filterMeta($scope.name).list].keys.name=name;}
$scope.valueText=function(){var ret_text="";for(var key1 in $scope.table.lists[$scope.table.filterMeta($scope.name).list].list){var list2=$scope.table.lists[$scope.table.filterMeta($scope.name).list].list[key1].list;for(var key2 in list2){var list3=list2[key2].list;var text=$.map(list3,function(n){if($scope.table.filterMeta($scope.name)!=undefined){if($scope.table.filterMeta($scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=(ret_text&&text?"; ":"")+text;}}
return ret_text;}},link:function(sc,el,attr){}}});wliu_table.directive("filter.checkdiag3",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" class="wliu-diag container">','<a class="wliu-btn24 wliu-btn24-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr(table.lists[name].keys.name)">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',common_ng_options,'/>','<a class="wliu-btn24 wliu-btn24-checkall" ng-click="checkall(table.lists[name].keys.name)" title="check all" ng-show="bar==1"></a>','<a class="wliu-btn24 wliu-btn24-removeall" ng-click="removeall(table.lists[name].keys.name)" title="remove all" ng-show="bar==1"></a>','<select class="wliuCommon-filter" ','ng-model="listFilter.key" ','ng-options="sObj.key as sObj.value for sObj in table.lists[name].list" ',' ng-show="bar==1">','<option value=""></option>','</select>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-content" style="font-size:14px;">','<span style="display:none;" ng-repeat-start="bbObj in table.lists[name].list|filter:getListFilter()"></span>','<span style="display:none;" ng-repeat-start="rdObj in bbObj.list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<span style="white-space:nowrap;font-weight:700;">{{ rdObj.value }}</span>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="checkbox">','<input type="checkbox" scope="{{ table.scope }}" id="filter_{{table.scope}}_{{name}}_{{tdObj.key}}" ','ng-model="table.filterMeta(table.lists[name].keys.name).value[tdObj.key]" ng-value="tdObj.key"  ','ng-disabled="table.filterMeta(table.lists[name].keys.name)==undefined" ','/>','<label for="filter_{{table.scope}}_{{name}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none" ng-repeat-end></span>','<span style="display:none" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.lists[$scope.name].keys=$scope.table.lists[$scope.name].keys||{};$scope.listFilter=$scope.listFilter||{};$scope.change=function(name){$scope.table.lists[$scope.name].keys.rowsn=-1;$scope.table.lists[$scope.name].keys.name=name;}
$scope.checkall=function(name){$scope.table.filterMeta(name).value=$scope.table.filterMeta(name).value||{};for(var key1 in $scope.table.lists[$scope.name].list){var list2=$scope.table.lists[$scope.name].list[key1].list;for(var key2 in list2){var list3=list2[key2].list;for(var key3 in list3){$scope.table.filterMeta(name).value[list3[key3].key]=true;}}}}
$scope.removeall=function(name){for(var key in $scope.table.lists[$scope.name].list){$scope.table.filterMeta(name).value={};}}
$scope.getListFilter=function(){$scope.listFilter.key=$scope.listFilter.key?$scope.listFilter.key:"";return $scope.listFilter;}
$scope.valueArr=function(name){var ret_arr=[];for(var key1 in $scope.table.lists[$scope.name].list){var list2=$scope.table.lists[$scope.name].list[key1].list;for(var key2 in list2){var list3=list2[key2].list;var valueArr=$.map(list3,function(n){if($scope.table.filterMeta(name)!=undefined){if($scope.table.filterMeta(name).value[n.key])
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}}
return ret_arr;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag({fade:false,movable:true,title:sc.title});});}}});wliu_table.directive("filter.checklist3",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",colnum:"@",colnum1:"@",height:"@",bar:"@",title:"@"},template:['<div class="col-md-12">','<input type="text" class="wliuCommon-search" ng-model="search" ng-model-options="{ updateOn:\'default blur\', debounce:{default: 500, blur:0} }" ng-show="bar==1" />','<a class="wliu-btn24 wliu-btn24-checkall" ng-click="checkall()" title="check all" ng-show="bar==1"></a>','<a class="wliu-btn24 wliu-btn24-removeall" ng-click="removeall()" title="remove all" ng-show="bar==1"></a>','<select class="wliuCommon-filter" ','ng-model="listFilter.key" ','ng-options="sObj.key as sObj.value for sObj in table.lists[table.filterMeta(name).list].list" ',' ng-show="bar==1">','<option value=""></option>','</select>','<div class="wliu-diag-content" style="height:{{height?height:\'auto\'}}; overflow-y:auto; border:1px solid #cccccc;border-radius:5px;overflow-y:auto;">','<span style="display:none;" ng-repeat-start="bbObj in table.lists[table.filterMeta(name).list].list|filter:getListFilter()"></span>','<span style="display:none;" ng-repeat-start="rdObj in bbObj.list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<b>{{ rdObj.value }}</b>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="checkbox">','<input type="checkbox" scope="{{ table.scope }}" id="filter_{{table.scope}}_{{name}}_{{tdObj.key}}" ','ng-model="table.filterMeta( name ).value[tdObj.key]" ng-value="tdObj.key"  ',filter_ng_disabled,'/>','<label for="filter_{{table.scope}}_{{name}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none" ng-repeat-end></span>','<span style="display:none" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.search=$scope.search||"";$scope.table.lists[$scope.table.filterMeta($scope.name).list].keys=$scope.table.lists[$scope.table.filterMeta($scope.name).list].keys||{};$scope.listFilter=$scope.listFilter||{};$scope.checkall=function(){$scope.table.filterMeta($scope.name).value=$scope.table.filterMeta($scope.name).value||{};for(var key1 in $scope.table.lists[$scope.table.filterMeta($scope.name).list].list){var list2=$scope.table.lists[$scope.table.filterMeta($scope.name).list].list[key1].list;for(var key2 in list2){var list3=list2[key2].list;for(var key3 in list3){$scope.table.filterMeta($scope.name).value[list3[key3].key]=true;}}}}
$scope.removeall=function(){for(var key in $scope.table.lists[$scope.table.filterMeta($scope.name).list].list){$scope.table.filterMeta($scope.name).value={};}}
$scope.getListFilter=function(){$scope.listFilter.key=$scope.listFilter.key?$scope.listFilter.key:"";return $scope.listFilter;}},link:function(sc,el,attr){}}});wliu_table.directive("filter.radio",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",colnum:"@"},template:['<div ',filter_ng_class,filter_title,'>','<span ','ng-repeat="rdObj in table.lists[table.filterMeta(name).list].list">','<span class="radio">','<input type="radio" id="filter_{{table.scope}}_{{name}}_{{rdObj.key}}" ','ng-model="table.filterMeta(name).value" ng-value="rdObj.key"  ',filter_ng_disabled,'/>','<label scope="{{ table.scope }}" for="filter_{{table.scope}}_{{name}}_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});
var form_scope='scope="{{ table.scope }}" ';var form_ng_hide='ng-hide="table.relationHideCurrent(name)" ';var form_ng_change='ng-change="table.changeColCurrent(name)" ';var form_ng_class='ng-class="{ \'wliuCommon-input-invalid\': table.getColCurrent(name).errorCode }" ';var form_ng_disabled='ng-disabled="table.getColCurrent(name)==undefined" ';var form_ng_options='ng-model-options="{ updateOn:\'default blur\', debounce:{default: 500, blur:0} }" ';var form_ng=[form_scope,form_ng_change,form_ng_class,form_ng_disabled,form_ng_hide,form_ng_options].join('');var form_tooltip=['popup-target="{{table.colMeta(name).tooltip?\'#\'+table.colMeta(name).tooltip:\'\'}}" ','popup-toggle="hover" ','popup-placement="down" ','popup-body="{{table.getColCurrent(name).errorCode?table.getColCurrent(name).errorMessage.nl2br():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ','title="{{table.colMeta(name).tooltip?\'\':table.getColCurrent(name).errorCode?table.getColCurrent(name).errorMessage:table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" '].join('');wliu_table.directive("form.rowstatus",function(){return{restrict:"E",replace:true,scope:{table:"="},template:['<span class="wliu-text" style="vertical-align:middle;padding:0px;" ','popup-target="#table_rowno_tooltip" ','popup-toggle="hover" popup-placement="down" ','popup-body="{{ table.getCurrent().error.errorCode?table.getCurrent().error.errorMessage.nl2br():\'\' }}" ',form_scope,form_ng_disabled,'>','<span ng-if="table.getCurrent()==undefined" style="color:red;vertical-align:middle;">No record found!</span>','<span ng-if="table.getCurrent().error.errorCode" style="color:red;vertical-align:middle;font-size:16px;">Error : </span>','<a class="wliu-btn16 wliu-btn16-error-help" ','ng-if="table.getCurrent().error.errorCode" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-placement="down" ','popup-body="{{table.getCurrent().error.errorCode?table.getCurrent().error.errorMessage.nl2br():\'\'}}" ','>','</a>','<a class="wliu-btn16 wliu-btn16-rowstate-save"     ng-if="table.getCurrent().error.errorCode==0 && table.getCurrent().rowstate==1" style="padding-left:20px;vertical-align:middle;font-size:14px;" title="Changed"></a>','<a class="wliu-btn16 wliu-btn16-rowstate-add"      ng-if="table.getCurrent().error.errorCode==0 && table.getCurrent().rowstate==2" style="padding-left:20px;vertical-align:middle;font-size:14px;" title="New"></a>','<a class="wliu-btn16 wliu-btn16-rowstate-delete"   ng-if="table.getCurrent().error.errorCode==0 && table.getCurrent().rowstate==3" style="padding-left:20px;vertical-align:middle;font-size:14px;" title="Deleted"></a>','</span>'].join(''),controller:function($scope,$sce){$scope.table.error_tooltip="table_rowno_tooltip";$scope.getHTML=function(){if($scopt.table.getCurrent())
if($scopt.table.getCurrent().error.errorCode)
return $sce.trustAsHtml($scopt.table.getCurrent().error.errorMessage.nl2br());else
return $sce.trustAsHtml("");}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}})}}});wliu_table.directive("form.ckeditor",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",hh:"@"},template:['<span ',form_ng_hide,'>','<a class="wliu-btn16 wliu-btn16-rowstate-error" ng-if="table.getColCurrent(name).errorCode"></a>','<span style="color:red; vertical-align:middle;" ng-if="table.getColCurrent(name).errorCode">Error: {{table.getColCurrent(name).errorCode?table.getColCurrent(name).errorMessage:""}}</span>','<textarea id="{{table.scope}}_{{name}}" ','ng-model="table.getColCurrent(name).value" ','title="{{ table.getCurrent().error.errorCode ? table.getCurrent().error.errorMessage : \'\' }}" ',form_scope,'>','</textarea>','</span>'].join(''),controller:function($scope){$scope.modelChange=function(){if($scope.table.getColCurrent($scope.name)){if(CKEDITOR.instances[$scope.table.scope+"_"+$scope.name])
if($scope.table.getColCurrent($scope.name).value!=CKEDITOR.instances[$scope.table.scope+"_"+$scope.name].getData())
CKEDITOR.instances[$scope.table.scope+"_"+$scope.name].setData($scope.table.getColCurrent($scope.name).value);}else{if(CKEDITOR.instances[$scope.table.scope+"_"+$scope.name])
CKEDITOR.instances[$scope.table.scope+"_"+$scope.name].setData("");}}
$scope.$watch("table.getColCurrent(name).value",$scope.modelChange);},link:function(sc,el,attr){$(function(){htmlObj_cn=CKEDITOR.replace(sc.table.scope+"_"+sc.name,{height:sc.hh});htmlObj_cn.on('change',function(evt){if(!sc.$root.$$phase){if(sc.table.getColCurrent(sc.name)){if(sc.table.getColCurrent(sc.name).value!=CKEDITOR.instances[sc.table.scope+"_"+sc.name].getData()){sc.table.getColCurrent(sc.name).value=CKEDITOR.instances[sc.table.scope+"_"+sc.name].getData();sc.table.changeColCurrent(sc.name);sc.$apply();}}}});});}}});wliu_table.directive("form.ckinline",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",hh:"@",minhh:"@"},template:['<span ',form_ng_hide,'>','<a class="wliu-btn16 wliu-btn16-rowstate-error" ng-if="table.getColCurrent(name).errorCode"></a>','<span style="color:red; vertical-align:middle;" ng-if="table.getColCurrent(name).errorCode">Error: {{table.getColCurrent(name).errorCode?table.getColCurrent(name).errorMessage:""}}</span>','<input type="hidden" ng-model="table.getColCurrent(name).value" />','<div scope="{{ table.scope }}" id="{{table.scope}}_{{name}}" contentEditable=true style="display:block;overflow:auto;min-height:{{minhh}}px;height:{{hh}}px;border:1px solid #cccccc;">','{{table.getColCurrent(name).value}}','</div>','</span>'].join(''),controller:function($scope){$scope.minhh=$scope.minhh?$scope.minhh:"80";$scope.initLoad=true;$scope.changeByCK=false;$scope.modelChange=function(){if($scope.changeByCK)return;if($scope.table.getColCurrent($scope.name)){if(CKEDITOR.instances[$scope.table.scope+"_"+$scope.name])
if($scope.table.getColCurrent($scope.name).value!=CKEDITOR.instances[$scope.table.scope+"_"+$scope.name].getData())
CKEDITOR.instances[$scope.table.scope+"_"+$scope.name].setData($scope.table.getColCurrent($scope.name).value);}else{if(CKEDITOR.instances[$scope.table.scope+"_"+$scope.name])
CKEDITOR.instances[$scope.table.scope+"_"+$scope.name].setData("");}}
$scope.$watch("table.getColCurrent(name).value",$scope.modelChange);},link:function(sc,el,attr){$(function(){CKEDITOR.disableAutoInline=true;htmlObj_cn=CKEDITOR.inline(sc.table.scope+"_"+sc.name);htmlObj_cn.on('change',function(evt){sc.changeByCK=true;if(!sc.$root.$$phase){if(sc.initLoad){sc.initLoad=false;return;}
if(sc.table.getColCurrent(sc.name)){if(sc.table.getColCurrent(sc.name).value!=CKEDITOR.instances[sc.table.scope+"_"+sc.name].getData()){sc.table.getColCurrent(sc.name).value=CKEDITOR.instances[sc.table.scope+"_"+sc.name].getData();sc.table.changeColCurrent(sc.name);sc.$apply();}}}
sc.changeByCK=false;});});}}});wliu_table.directive("form.fileupload",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",icon:"@",actname:"@",filename:"@"},template:['<div style="display:inline-block;">','<i ng-if="icon" class="wliu-btn24 wliu-btn24-file-upload" style="overflow:hidden;" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Upload File" popup-placement="down" ','>','<input type="file" style="display:block; position:absolute; opacity:0;top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" value="Browse..." ','onchange="angular.element(this).scope().selectFile(event);" ',form_ng_disabled,'>','</i>','<div ng-if="!icon" class="btn btn-info" style="display:inline-block;position:relative;text-transform:none;overflow:hidden;height:20px;line-height:20px;padding:2px 8px;">','<a class="wliu-btn16 wliu-btn16-upload"></a>','<input type="file" onchange="angular.element(this).scope().selectFile(event);" style="display:block; position:absolute; opacity:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" value="Browse..." />',' {{actname}}','</div>','<div style="display:inline-block;position:relative;margin-left:5px;font-size:12px;font-weight:bold;color:red;" ng-if="table.getColCurrent(name).errorCode">{{table.getColCurrent(name).errorMessage}}</div>','<div style="display:inline-block;margin-left:5px;" ng-if="table.getColCurrent(name).value && !table.getColCurrent(name).errorCode">','<a class="wliu-btn16 wliu-btn16-dispose" ng-click="deleteFile()" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Delete File" popup-placement="down" ','>','<a href="javascript:void(0)" style="vertical-align:middle;margin-left:2px;font-size:12px;text-decoration:underline;" ng-click="downloadFile()">{{theFile.full_name.subName(12)?theFile.full_name.subName(12):filename}}</a>','</div>','</div>'].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";$scope.theFile=new WLIU.FILE();$scope.selectFile=function(event){files=(event.srcElement||event.target).files;FFILE.allowSize=$scope.table.colMeta($scope.name).maxlength>0&&$scope.table.colMeta($scope.name).maxlength<=GCONFIG.max_upload_size?$scope.table.colMeta($scope.name).maxlength:GCONFIG.max_upload_size;FFILE.allowType=$scope.table.colMeta($scope.name).allowtype?$scope.table.colMeta($scope.name).allowtype:GCONFIG.file_allow_type;FFILE.fromFile($scope.theFile,files[0],function(fObj){if(fObj.errorCode){alert(fObj.errorMessage);}else{$scope.table.getColCurrent($scope.name).value=fObj.data?fObj.data:"";$scope.table.changeColCurrent($scope.name);$scope.$apply();}});}
$scope.deleteFile=function(){$scope.table.getColCurrent($scope.name).value="";$scope.table.changeColCurrent($scope.name);}
$scope.downloadFile=function(){if($scope.table.getColCurrent($scope.name).value){FFILE.exportDataURL($scope.table.getColCurrent($scope.name).value);}}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}})}}});wliu_table.directive("form.imgupload",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",actname:"@",ww:"@",hh:"@",vw:"@",vh:"@",view:"@",minww:"@",minhh:"@"},template:['<span>','<div style="position:relative;font-size:16px;font-weight:bold;color:red;" ng-if="table.getColCurrent(name).errorCode">{{table.getColCurrent(name).errorMessage}}</div>','<div style="display:inline-block;position:relative;min-width:{{minww}}px;min-height:{{minhh}}px;border:1px solid #cccccc;" class="wliu-background-1" >','<i class="wliu-btn24 wliu-btn24-image" style="position:absolute; margin-top:3px;margin-left:3px;opacity:0.8; overflow:hidden;" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Upload Image" popup-placement="down" ','>','<input type="file" style="display:block; position:absolute; opacity:0;top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" value="Browse..." ','onchange="angular.element(this).scope().selectFile(event);" ',form_ng_disabled,'>','</i>','<a class="wliu-btn24 wliu-btn24-img-print" ng-click="printImage()" ng-if="table.getColCurrent(name).value" style="position:absolute; margin-top:3px;margin-left:30px;opacity:0.8;" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Print Image" popup-placement="down" ','>','</a>','<a class="wliu-btn24 wliu-btn24-dispose" ng-click="deleteImage()" ng-if="table.getColCurrent(name).value" style="position:absolute; right:0px; margin-top:3px;margin-right:3px;opacity:0.8;" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Delete Image" popup-placement="down" ','>','</a>','<span style="position:absolute;top:32px;left:3px;font-size:16px;font-weight:bold;color:#666666;" ng-if="!table.getColCurrent(name).value && !table.getColCurrent(name).errorCode">{{actname}}</span>','<div style="display:table;">','<div style="display:table-cell;vertical-align:middle;text-align:center;width:{{ww}}px;height:{{hh}}px;" class="img-content" targetid="{{imgviewerid}}">','<img class="img-responsive" width="100%" ng-click="clickImage()" onload="imageAutoFix(this)" ww={{ww}} hh={{hh}} src="{{table.getColCurrent(name).value?table.getColCurrent(name).value:\'\'}}" />','</div>','<div>','<input type="hidden" ','ng-model="table.getColCurrent(name).value" ',form_scope,form_ng_disabled,form_ng_change,'/>','</div>','<div id="{{imgviewerid}}" ng-if="view" wliu-diag maskable fade form-diag disposable>','<div wliu-diag-body style="text-align:center;">','<img class="img-responsive" width="100%" ww="{{vw}}" hh="{{vh}}" src="{{ imgobj.resize[view].data?imgobj.resize[view].data:\'\' }}" />','</div>','</div>','</span>'].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";$scope.imgobj=new WLIU.IMAGE({guid:guid()});$scope.imgviewerid=$scope.table.scope+"_"+$scope.name+"_"+$scope.imgobj.guid;$scope.imgviewer="#"+$scope.imgviewerid;$scope.minww=$scope.minww?$scope.minww:"100";$scope.minhh=$scope.minhh?$scope.minhh:"80";$scope.vw=$scope.vw?$scope.vw:"400";$scope.printImage=function(){if($scope.table.getColCurrent($scope.name).value){FFILE.exportDataURL($scope.table.getColCurrent($scope.name).value);}}
$scope.clickImage=function(){if($scope.view){if($scope.table.getColCurrent($scope.name).value){$scope.imgobj.resize.origin.data=$scope.table.getColCurrent($scope.name).value;FIMAGE.setView($scope.view);FIMAGE.resizeAll($scope.imgobj,function(){$scope.$apply();$($scope.imgviewer).trigger("ishow");});}else{$($scope.imgviewer).trigger("ishow");}}}
$scope.deleteImage=function(){$scope.table.getColCurrent($scope.name).value="";$scope.table.changeColCurrent($scope.name);}
$scope.selectFile=function(event){files=(event.srcElement||event.target).files;var view=$scope.table.colMeta($scope.name).view?$scope.table.colMeta($scope.name).view:"medium";FIMAGE.view=view;FIMAGE.allowSize=$scope.table.colMeta($scope.name).maxlength>0&&$scope.table.colMeta($scope.name).maxlength<=GCONFIG.max_upload_size?$scope.table.colMeta($scope.name).maxlength:GCONFIG.max_upload_size;FIMAGE.allowType=$scope.table.colMeta($scope.name).allowtype?$scope.table.colMeta($scope.name).allowtype:GCONFIG.image_allow_type;FIMAGE.fromFile($scope.imgobj,files[0],function(fObj){if(fObj.errorCode){alert(fObj.errorMessage);}else{$scope.table.getColCurrent($scope.name).value=$scope.imgobj.resize[view].data?$scope.imgobj.resize[view].data:"";$scope.table.changeColCurrent($scope.name);$scope.$apply();}});}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}
$("body > div[form-diag][disposable]").each(function(img_idx,img_viewer){if($("div.img-content[targetid='"+$(img_viewer).attr("id")+"']").length<=0)$(img_viewer).remove();});$("body>"+sc.imgviewer).remove();$(sc.imgviewer).appendTo("body");$(sc.imgviewer).wliuDiag({});$(sc.imgviewer).unbind("ishow").bind("ishow",function(evt){$(sc.imgviewer).trigger("show");var click_flag=true;$("img",sc.imgviewer).unbind("load").bind("load",function(ev){var img=ev.target;var i_ww=img.naturalWidth;var i_hh=img.naturalHeight;var img_rate=i_hh/i_ww;var c_ww=400;var c_hh=400;if(parseInt($(img).attr("ww"))&&parseInt($(img).attr("hh"))){c_ww=parseInt($(img).attr("ww"));c_hh=parseInt($(img).attr("hh"));}else if(parseInt($(img).attr("ww"))){c_ww=parseInt($(img).attr("ww"));c_hh=c_ww*img_rate;}else if(parseInt($(img).attr("hh"))){c_hh=parseInt($(img).attr("hh"));c_ww=c_hh/img_rate;}
if(!c_ww&&!c_hh){$(img).css("width","100%");}else{$(img).css("width","");if(c_ww&&c_hh){var rate_ww=1;var rate_hh=1;rate_ww=c_ww/img.naturalWidth;rate_hh=c_hh/img.naturalHeight;var rate=Math.min(rate_ww,rate_hh);if(rate<1){if(rate_ww<rate_hh){i_ww=c_ww;i_hh=c_ww*img_rate;}else{i_hh=c_hh;i_ww=c_hh/img_rate;}}}else if(sc.ww){i_ww=c_ww;i_hh=c_ww*img_rate;}else if(sc.hh){i_hh=c_hh;i_ww=c_hh/img_rate;img.width=i_ww;img.height=i_hh;}}
img.width=i_ww;img.height=i_hh;if(click_flag){click_flag=false;$(sc.imgviewer).trigger("show");}});});});}}});wliu_table.directive("form.imgupload1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",actname:"@",ww:"@",hh:"@",vw:"@",vh:"@",view:"@",minww:"@",minhh:"@"},template:['<span>','<div style="position:relative;font-size:16px;font-weight:bold;color:red;" ng-if="table.getColCurrent(name).errorCode">{{table.getColCurrent(name).errorMessage}}</div>','<div style="display:inline-block;position:relative;min-width:{{minww}}px;min-height:{{minhh}}px;border:1px solid #cccccc;"  class="wliu-background-1">','<i class="wliu-btn24 wliu-btn24-image" style="position:absolute; margin-top:3px;margin-left:3px;opacity:0.8; overflow:hidden;" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Upload Image" popup-placement="down" ','>','<input type="file" style="display:block; position:absolute; opacity:0;top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" value="Browse..." ','onchange="angular.element(this).scope().selectFile(event);" ',form_ng_disabled,'/>','</i>','<a class="wliu-btn24 wliu-btn24-img-print" ng-click="printImage()" ng-if="table.getColCurrent(name).value" style="position:absolute; margin-top:3px;margin-left:30px;opacity:0.8;" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Print Image" popup-placement="down" ','>','</a>','<a class="wliu-btn24 wliu-btn24-dispose" ng-click="deleteImage()" ng-if="table.getColCurrent(name).value" style="position:absolute; right:0px; margin-top:3px;margin-right:3px;opacity:0.8;" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" popup-body="Delete Image" popup-placement="down" ','>','</a>','<span style="position:absolute;top:32px;left:3px;font-size:16px;font-weight:bold;color:#666666;" ng-if="!table.getColCurrent(name).value && !table.getColCurrent(name).errorCode">{{actname}}</span>','<div style="display:table;">','<div style="display:table-cell;vertical-align:middle;text-align:center;width:{{ww}}px;height:{{hh}}px;" class="img-content" targetid="{{imgeditorid}}">','<img class="img-responsive" width="100%" ng-click="clickImage()" onload="imageAutoFix(this)" ww={{ww}} hh="{{hh}}" style="cursor:pointer;" src="{{table.getColCurrent(name).value?table.getColCurrent(name).value:\'\'}}" />','</div>','</div>','<input type="hidden" title="" ','ng-model="table.getColCurrent(name).value" ',form_scope,form_ng_change,form_ng_disabled,'/>','</div>','<div id="{{imgeditorid}}" wliu-diag movable maskable fade form-diag disposable>','<div wliu-diag-head>Image Editor</div>','<div wliu-diag-body>','<div ng-if="imgobj.errorCode">','{{imgobj.errorMessage}}','</div>','<div ng-if="!imgobj.errorCode">','<div style="min-height:300px;">','<div class="wliu-image-frame" style="position:relative;">','<img class="img-responsive" width="100%" ww="{{vw}}" hh="{{vh}}" src="{{ imgobj.resize[view].data?imgobj.resize[view].data:\'\' }}" />','<div class="wliu-image-crop">','<div class="wliu-image-crop-h"></div>','<div class="wliu-image-crop-v"></div>','</div>','</div>','</div>','<div style="text-align:center;">','<button ng-click="reset()" title="Restore Image" class="btn btn-outline-success waves-effect pull-right {{ imgobj.resize[view].data?\'\':\'disabled\' }}" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">','<a class="wliu-btn16 wliu-btn16-restore"></a>',' Reset</button>','<button ng-click="crop()" title="Crop Image" class="btn btn-outline-primary waves-effect pull-right {{ imgobj.resize[view].data?\'\':\'disabled\' }}" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">','<a class="wliu-btn16 wliu-btn16-crop"></a>',' Crop</button>','<button ng-click="rotate()" title="Rotate Image" class="btn btn-outline-primary waves-effect pull-right {{ imgobj.resize[view].data?\'\':\'disabled\' }}" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">','<a class="wliu-btn16 wliu-btn16-rotate-right"></a>',' Rotate</button>','<button ng-click="save()" title="Upload Image" class="btn btn-outline-secondary pull-left waves-effect {{ imgobj.resize[view].data?\'\':\'disabled\' }}" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">','<a class="wliu-btn16 wliu-btn16-okey"></a>',' Save</button>','<button ng-click="dispose()" title="Cancel Upload" class="btn btn-outline-warning pull-left waves-effect" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">','<a class="wliu-btn16 wliu-btn16-dispose"></a>',' Cancel</button>','</div>','</div>','</div>','</div>','</span>'].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";$scope.imgobj=new WLIU.IMAGE({guid:guid()});$scope.imgeditorid=$scope.table.scope+"_"+$scope.name+"_"+$scope.imgobj.guid;$scope.imgeditor="#"+$scope.imgeditorid;$scope.minww=$scope.minww?$scope.minww:"120";$scope.minhh=$scope.minhh?$scope.minhh:"80";$scope.vw=$scope.vw?$scope.vw:"400";$scope.view=$scope.table.colMeta($scope.name).view?$scope.table.colMeta($scope.name).view:"medium";$scope.clickImage=function(){if(!$scope.imgobj.resize.origin.data){$scope.imgobj.resize.origin.data=$scope.table.getColCurrent($scope.name).value;FIMAGE.setView($scope.view);FIMAGE.resizeAll($scope.imgobj,function(){$($scope.imgeditor).trigger("ishow");$scope.$apply();});}else{$($scope.imgeditor).trigger("ishow");FIMAGE.cropDivReset($("div.wliu-image-crop",$scope.imgeditor));}}
$scope.printImage=function(){if($scope.table.getColCurrent($scope.name).value){FFILE.exportDataURL($scope.table.getColCurrent($scope.name).value);}}
$scope.deleteImage=function(){$scope.table.getColCurrent($scope.name).value="";$scope.table.changeColCurrent($scope.name);}
$scope.selectFile=function(event){files=(event.srcElement||event.target).files;var view=$scope.table.colMeta($scope.name).view?$scope.table.colMeta($scope.name).view:"medium";FIMAGE.view=$scope.view;FIMAGE.allowSize=$scope.table.colMeta($scope.name).maxlength>0&&$scope.table.colMeta($scope.name).maxlength<=GCONFIG.max_upload_size?$scope.table.colMeta($scope.name).maxlength:GCONFIG.max_upload_size;FIMAGE.allowType=$scope.table.colMeta($scope.name).allowtype?$scope.table.colMeta($scope.name).allowtype:GCONFIG.image_allow_type;FIMAGE.fromFile($scope.imgobj,files[0],function(fObj){if(fObj.errorCode){alert(fObj.errorMessage);}else{$scope.table.getColCurrent($scope.name).value=$scope.imgobj.resize[view].data?$scope.imgobj.resize[view].data:"";$scope.table.changeColCurrent($scope.name);$scope.$apply();$($scope.imgeditor).trigger("ishow");}});}
$scope.rotate=function(){FIMAGE.rotate($scope.imgobj,function(oImg){$scope.$apply();$($scope.imgeditor).trigger("ishow");});}
$scope.crop=function(){FIMAGE.cropDiv($scope.imgobj,$("div.wliu-image-frame",$scope.imgeditor),$("div.wliu-image-crop",$scope.imgeditor),function(oImg){$scope.$apply();$($scope.imgeditor).trigger("ishow");});}
$scope.reset=function(){FIMAGE.cropReset($scope.imgobj,function(oImg){$scope.$apply();$($scope.imgeditor).trigger("ishow");});}
$scope.save=function(){if($scope.imgobj.resize.origin.data!=""){$scope.table.setImageCurrent($scope.name,$scope.imgobj);$scope.table.changeColCurrent($scope.name);$scope.dispose();}}
$scope.dispose=function(){FIMAGE.cropDivReset($("div.wliu-image-crop",$scope.imgeditor));if(!$scope.$root.$$phase)$scope.$apply();$($scope.imgeditor).trigger("hide");}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}
var ratio=0;if(sc.ww&&sc.hh){var ratio=parseInt(sc.ww)/parseInt(sc.hh);}
$("body > div[form-diag][disposable]").each(function(img_idx,img_editor){if($("div.img-content[targetid='"+$(img_editor).attr("id")+"']").length<=0)$(img_editor).remove();});$("body>"+sc.imgeditor).remove();$(sc.imgeditor).appendTo("body");$(sc.imgeditor).wliuDiag({});$(sc.imgeditor).unbind("ishow").bind("ishow",function(evt){$(sc.imgeditor).trigger("show");FIMAGE.cropDivReset($("div.wliu-image-crop",sc.imgeditor));var click_flag=true;$("img",sc.imgeditor).unbind("load").bind("load",function(ev){var img=ev.target;var i_ww=img.naturalWidth;var i_hh=img.naturalHeight;var img_rate=i_hh/i_ww;var c_ww=400;var c_hh=400;if(parseInt($(img).attr("ww"))&&parseInt($(img).attr("hh"))){c_ww=parseInt($(img).attr("ww"));c_hh=parseInt($(img).attr("hh"));}else if(parseInt($(img).attr("ww"))){c_ww=parseInt($(img).attr("ww"));c_hh=c_ww*img_rate;}else if(parseInt($(img).attr("hh"))){c_hh=parseInt($(img).attr("hh"));c_ww=c_hh/img_rate;}
if(!c_ww&&!c_hh){$(img).css("width","100%");}else{$(img).css("width","");if(c_ww&&c_hh){var rate_ww=1;var rate_hh=1;rate_ww=c_ww/img.naturalWidth;rate_hh=c_hh/img.naturalHeight;var rate=Math.min(rate_ww,rate_hh);if(rate<1){if(rate_ww<rate_hh){i_ww=c_ww;i_hh=c_ww*img_rate;}else{i_hh=c_hh;i_ww=c_hh/img_rate;}}}else if(sc.ww){i_ww=c_ww;i_hh=c_ww*img_rate;}else if(sc.hh){i_hh=c_hh;i_ww=c_hh/img_rate;img.width=i_ww;img.height=i_hh;}}
img.width=i_ww;img.height=i_hh;if(click_flag){click_flag=false;$(sc.imgeditor).trigger("show");FIMAGE.cropDivReset($("div.wliu-image-crop",sc.imgeditor));}});});$("div.wliu-image-crop",sc.imgeditor).draggable({containment:"parent"});$("div.wliu-image-crop",sc.imgeditor).resizable({aspectRatio:ratio,containment:"parent"});});}}});wliu_table.directive("form.esign",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",subject:"@",firstname:"@",lastname:"@",ww:"@",hh:"@",minww:"@",minhh:"@"},template:['<span>','<span style="font-size:16px;font-weight:bold;color:red;" ng-if="table.getColCurrent(name).errorCode">{{table.getColCurrent(name).errorMessage}}</span>','<br ng-if="table.getColCurrent(name).errorCode">','<div ng-click="showEsign()" style="display:inline-block;position:relative;min-width:{{minww}}px;min-height:{{minhh}}px;border:1px solid #cccccc;" class="wliu-background-11" >','<div style="display:table;">','<div style="display:table-cell;vertical-align:middle;text-align:center;width:{{minww}}px;height:{{minhh}}px;" class="esign-content" targetid="{{esignDivid}}">','<img class="img-responsive" width="100%" onload="imageAutoFix(this)" ww={{minww}} hh={{minhh}} src="{{table.getColCurrent(name).value?table.getColCurrent(name).value:\'\'}}" />','</div>','<input type="hidden" ','ng-model="table.getColCurrent(name).value" ',form_scope,form_ng_change,form_ng_disabled,'/>','</div>','<div id="{{esignDivid}}" wliu-diag maskable fade esign-diag disposable>','<div wliu-diag-body>','<span style="display:block;color:blue;">Please use mouse or touch screen pen to sign your name:</span>','<canvas id="can" width="{{ww}}" height={{hh}} style="border:2px solid #666666;"></canvas>','<div style="text-align:center;">','<button ng-click="save()" title="Save" class="btn btn-lg btn-outline-success waves-effect" ','style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">',' Confirm','</button>','<button ng-click="cancel()" title="Be careful. clear signature" class="btn btn-lg btn-outline-danger waves-effect" ','style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">',' Clear Signature','</button>','<button ng-click="close()" title="Close" class="btn btn-lg btn-outline-info waves-effect pull-right" ','style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">',' Close','</button>','</div>','</div>','</div>','<span>',].join(''),controller:function($scope){$scope.ww=$scope.ww?$scope.ww:640;$scope.hh=$scope.hh?$scope.hh:320;$scope.minww=$scope.minww?$scope.minww:"100";$scope.minhh=$scope.minhh?$scope.minhh:"50";$scope.esignDivid=$scope.table.scope+"_"+$scope.name+"_"+guid();$scope.esignDiv="#"+$scope.esignDivid;$scope.showEsign=function(){FIMAGE.image2Canvas($scope.esign_canvas.ctx,$scope.table.getColCurrent($scope.name).value);$($scope.esignDiv).trigger("show");}
$scope.save=function(){if($scope.esign_canvas.signed){$scope.esign_canvas.subject=$scope.subject;if($scope.table.getColCurrent($scope.firstname))
$scope.esign_canvas.firstName=$scope.table.getColCurrent($scope.firstname).value;if($scope.table.getColCurrent($scope.lastname))
$scope.esign_canvas.lastName=$scope.table.getColCurrent($scope.lastname).value;$scope.table.getColCurrent($scope.name).value=$scope.esign_canvas.getDataUrl();$scope.table.changeColCurrent($scope.name);$scope.esign_canvas.clear();}
$($scope.esignDiv).trigger("hide");}
$scope.cancel=function(){$scope.table.getColCurrent($scope.name).value="";$scope.table.changeColCurrent($scope.name);$scope.esign_canvas.clear();}
$scope.close=function(){$($scope.esignDiv).trigger("hide");}},link:function(sc,el,attr){$(function(){$("body > div[esign-diag][disposable]").each(function(el_idx,el_esign){if($("div.esign-content[targetid='"+$(el_esign).attr("id")+"']").length<=0)$(el_esign).remove();});$("body>"+sc.esignDiv).remove();$(sc.esignDiv).appendTo("body");$(sc.esignDiv).wliuDiag();sc.esign_canvas=new WLIU.CANVAS({canvas:$("canvas",sc.esignDiv).get(0)});sc.esign_canvas.init();});}}});wliu_table.directive("form.label",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<label class="wliuCommon-label" ','popup-target="{{table.colMeta(name).tooltip?\'#\'+table.colMeta(name).tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname?table.colMeta(name).colname:name}}" ','title="{{table.colMeta(name).tooltip? \'\':table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname?table.colMeta(name).colname:name}}" ',form_scope,'>','<span style="vertival-align:middle;">{{ table.colMeta(name).colname?table.colMeta(name).colname:name }}</span>','<span style="vertival-align:middle;" class="wliuCommon-text-error" ng-if="table.colMeta(name).notnull"> <b>*</b></span>','</label>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("form.html",function($sce){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<span ng-bind-html="getHTML()" ',form_scope,form_ng_hide,'>','</span>'].join(''),controller:function($scope,$sce){$scope.getHTML=function(){if($scope.table.getColCurrent($scope.name))
return $sce.trustAsHtml($scope.table.getColCurrent($scope.name).value);else
return $sce.trustAsHtml("");}},link:function(sc,el,attr){$(function(){});}}});wliu_table.directive("form.text",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<span class="wliuCommon-label" ',form_scope,form_ng_hide,form_ng_class,form_tooltip,'>','{{ table.getColCurrent(name).value }}','</span>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("form.hidden",function(){return{restrict:"E",replace:true,transclude:true,scope:{table:"=",name:"@"},template:['<span>','<input type="hidden" ','ng-model="table.getColCurrent(name).value" ',form_scope,form_ng_change,form_ng_disabled,'/>','</span>'].join(''),controller:function($scope){}}});wliu_table.directive("form.readonly",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",class:"@"},template:['<span>','<input type="textbox" ng-if="table.getCurrent().rowstate>=2" ','class="{{class}}" ','ng-model="table.getColCurrent(name).value" ',form_ng,form_tooltip,'/>','<span class="wliuCommon-label" ng-if="table.getCurrent().rowstate<2" ',form_scope,form_ng_hide,form_ng_class,form_tooltip,'>','{{ table.getColCurrent(name).value }}','</span>','</span>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("form.textbox",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<input type="textbox" ','ng-model="table.getColCurrent(name).value" ',form_ng,form_tooltip,'/>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("form.password",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<input type="password" placeholder="Password" ','ng-model="table.getColCurrent(name).value" ',form_ng,form_tooltip,'/>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("form.passpair",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<span style="display:inline-block;vertical-align:top;" ',form_ng_hide,'>','<input type="password" style="width:100%;" placeholder="Password" ','ng-model="table.getColCurrent(name).value.password" ','ng-change="passChange()" ',form_scope,form_ng_class,form_ng_options,form_ng_disabled,form_tooltip,'/>','<input type="password" style="width:100%;" placeholder="Confirm Password" ','ng-class="{ \'wliuCommon-input-invalid\': table.getColCurrent(name).value.password!=table.getColCurrent(name).value.confirm }" ','ng-model="table.getColCurrent(name).value.confirm" ','popup-target="{{table.colMeta(name).tooltip?\'#\'+table.colMeta(name).tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{table.getColCurrent(name).value.password!=table.getColCurrent(name).value.confirm ?\'Password not match!\':\'\'}}" ','title="{{table.colMeta(name).tooltip?\'\':table.getColCurrent(name).value.password!=table.getColCurrent(name).value.confirm?\'Password not match!\':\'\'}}" ',form_scope,form_ng_disabled,form_ng_options,'/>','</span>'].join(''),controller:function($scope){$scope.passChange=function(){$scope.table.changeColCurrent($scope.name);}},link:function(sc,el,attr){}}});wliu_table.directive("form.textarea",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<textarea ','ng-model="table.getColCurrent(name).value" ',form_ng,form_tooltip,'>','</textarea>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("form.select",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<select ','ng-model="table.getColCurrent(name).value" ','ng-options="sObj.key as sObj.value for sObj in table.colList(name).list" ',form_scope,form_ng_class,form_ng_disabled,form_ng_change,form_ng_hide,form_tooltip,'>','<option value=""></option>','</select>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("form.relation",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",label:"@"},template:['<span class="checkbox" ',form_scope,form_ng_class,form_tooltip,'>','<input type="checkbox" id="{{table.scope}}_{{name}}_current" ','ng-model="table.getColCurrent(name).value" ng-value="1"  ','ng-change="table.relationChange(name); table.changeColCurrent(name);" ',form_scope,form_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_current" title="{{table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname?table.colMeta(name).colname:name}}">','{{ label.toLowerCase()=="default"?table.colMeta(name).colname:label?label:"" }}','</label>','</span>',].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("form.bool",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",label:"@"},template:['<span class="checkbox" ',form_scope,form_ng_hide,form_ng_class,form_tooltip,'>','<input type="checkbox" id="{{table.scope}}_{{name}}_current" ','ng-model="table.getColCurrent(name).value" ng-value="1"  ',form_scope,form_ng_change,form_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_current" title="{{table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname?table.colMeta(name).colname:name}}">','{{ label.toLowerCase()=="default"?table.colMeta(name).colname:label?label:"" }}','</label>','</span>',].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("form.booltext",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",yes:"@",no:"@"},template:['<span ',form_ng_hide,'>','{{  table.getColCurrent(name)?( table.getColCurrent(name).value?yes?yes:\'Yes\':no?no:\'No\'):\'\' }}','</span>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("form.datetime",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<span ',form_ng_hide,form_tooltip,'>','<input type="textbox" class="wliuCommon-datepicker" placeholder="yyyy-mm-dd" ','ng-model="table.getColCurrent(name).value.date" ',form_scope,form_ng_class,form_ng_change,form_ng_disabled,'/>','<input type="textbox" class="wliuCommon-timepicker" placeholder="hh:mm" ','ng-model="table.getColCurrent(name).value.time" ',form_scope,form_ng_class,form_ng_change,form_ng_disabled,'/>','</span>'].join(''),controller:function($scope){},link:function(sc,el,attr){$(function(){var today=new Date();$("input.wliuCommon-datepicker",el).pickadate({format:"yyyy-mm-dd",formatSubmit:"yyyy-mm-dd",closeOnSelect:true,disable:[{from:[2016,9,1],to:[2016,9,10]},[2016,10,5]],selectYears:100,min:new Date(today.getFullYear()-90,1,1),max:new Date(today.getFullYear()+10,12,31)});$("input.wliuCommon-timepicker",el).pickatime({twelvehour:false});});}}});wliu_table.directive("form.date",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<input type="textbox" class="wliuCommon-datepicker" placeholder="yyyy-mm-dd" ','ng-model="table.getColCurrent(name).value" ',form_scope,form_ng_hide,form_ng_class,form_ng_change,form_ng_disabled,form_tooltip,'/>'].join(''),controller:function($scope){},link:function(sc,el,attr){$(function(){var today=new Date();$(el).pickadate({format:"yyyy-mm-dd",formatSubmit:"yyyy-mm-dd",closeOnSelect:true,disable:[{from:[2016,9,1],to:[2016,9,10]},[2016,10,5]],selectYears:100,min:new Date(today.getFullYear()-90,1,1),max:new Date(today.getFullYear()+10,12,31)});});}}});wliu_table.directive("form.time",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<input type="textbox" class="wliuCommon-timepicker" placeholder="hh:mm" ','ng-model="table.getColCurrent(name).value" ',form_scope,form_ng_class,form_ng_change,form_ng_disabled,form_ng_hide,form_tooltip,'/>'].join(''),controller:function($scope){},link:function(sc,el,attr){$(function(){$(el).pickatime({twelvehour:false});});}}});wliu_table.directive("form.intdate",function(){return{restrict:"E",replace:true,transclude:true,scope:{table:"=",name:"@",format:"@"},template:['<span class="wliuCommon-label" ',form_ng_hide,'>','{{ table.getColCurrent(name).value?(table.getColCurrent(name).value>0?(table.getColCurrent(name).value * 1000 | date : (format?format:"yyyy-MM-dd HH:mm") ):"") :"" }}','</span>'].join(''),controller:function($scope){}}});wliu_table.directive("form.checkbox",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",colnum:"@"},template:['<div class="wliuCommon-label" ',form_scope,form_ng_class,form_ng_hide,form_tooltip,'>','<span ng-repeat-start="rdObj in table.colList(name).list"></span>','<span class="checkbox">','<input type="checkbox" id="{{table.scope}}_{{name}}_current_{{rdObj.key}}" ','ng-model="table.getColCurrent(name).value[rdObj.key]" ng-value="rdObj.key"  ',form_scope,form_ng_change,form_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_current_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','<span ng-repeat-end></span>','</div>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("form.checkbox1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<input type="text" readonly class="wliuCommon-checklist" value="{{ valueText() }}" ','ng-click="change(name)" ','diag-target="#{{table.colMeta(name).targetid}}" diag-toggle="click" ','popup-target="#table_rowno_tooltip" popup-placement="down" popup-toggle="hover" popup-body="{{table.getColCurrent(name).errorCode?table.getColCurrent(name).errorMessage.nl2br():valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ',form_scope,form_ng_hide,form_ng_class,'/>'].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.change=function(name){$scope.table.colList($scope.name).keys.guid=$scope.table.getCurrent().guid;$scope.table.colList($scope.name).keys.name=name;}
$scope.valueText=function(){var text=$.map($scope.table.colList($scope.name).list,function(n){if($scope.table.getColCurrent($scope.name)!=undefined){if($scope.table.getColCurrent($scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");return text;}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}})}}});wliu_table.directive("form.checktext1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<span class="wliuCommon-label">{{ valueText() }}</span>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.valueText=function(){var text=$.map($scope.table.colList($scope.name).list,function(n){if($scope.table.getColCurrent($scope.name)!=undefined){if($scope.table.getColCurrent($scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");return text;}},link:function(sc,el,attr){}}});wliu_table.directive("form.checkdiag1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" wliu-diag movable maskable ',form_scope,'>','<div wliu-diag-head>{{ title }}</div>','<a class="wliu-btn24 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr(table.lists[name].keys.guid, table.lists[name].keys.name)">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',form_ng_options,'/>','<a class="wliu-btn16 wliu-btn16-checkall" ng-click="checkall(table.lists[name].keys.guid, table.lists[name].keys.name)" title="check all"  ng-show="bar==1"></a>','<a class="wliu-btn16 wliu-btn16-removeall" ng-click="removeall(table.lists[name].keys.guid, table.lists[name].keys.name)" title="remove all"  ng-show="bar==1"></a>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-body" style="font-size:14px;">','<span ','ng-repeat="rdObj in table.lists[name].list|filter:search">','<span class="checkbox">','<input type="checkbox" id="{{table.scope}}_{{name}}_{{rdObj.key}}" ','ng-model="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name).value[rdObj.key]" ng-value="rdObj.key"  ','ng-change="table.changeColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)" ','ng-disabled="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)==undefined" ',form_scope,'/>','<label for="{{table.scope}}_{{name}}_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.lists[$scope.name].keys=$scope.table.lists[$scope.name].keys||{};$scope.checkall=function(guid,name){$scope.table.getColByGuid(guid,name).value=$scope.table.getColByGuid(guid,name).value||{};for(var key in $scope.table.lists[$scope.name].list){$scope.table.getColByGuid(guid,name).value[$scope.table.lists[$scope.name].list[key].key]=true;}
$scope.table.changeColByGuid(guid,name);}
$scope.removeall=function(guid,name){$scope.table.getColByGuid(guid,name).value={};$scope.table.changeColByGuid(guid,name);}
$scope.valueArr=function(guid,name){var valueArr=$.map($scope.table.lists[$scope.name].list,function(n){if($scope.table.getColByGuid(guid,name)!=undefined){if($scope.table.getColByGuid(guid,name).value[n.key])
return n;else
return null;}else{return null;}});return valueArr;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_table.directive("form.checklist1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",colnum:"@",bar:"@",title:"@"},template:['<div class="col-md-12" style="border:1px dotted #666666;border-radius:5px; padding:2px; overflow-y:auto; overflow:visible; text-align:left; min-width:240px;" ',form_scope,form_ng_class,form_ng_hide,form_tooltip,'>','<a class="wliu-btn16 wliu-btn16-selectlist" style="z-index:99;" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr()">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',form_ng_options,'/>','<a class="wliu-btn16 wliu-btn16-checkall" ng-click="checkall()" title="check all" ng-show="bar==1"></a>','<a class="wliu-btn16 wliu-btn16-removeall" ng-click="removeall()" title="remove all" ng-show="bar==1"></a>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-content" style="font-size:14px;">','<span ','ng-repeat="rdObj in table.colList(name).list|filter:search">','<span class="checkbox">','<input type="checkbox" id="{{table.scope}}_{{name}}_current_{{rdObj.key}}" ','ng-model="table.getColCurrent(name).value[rdObj.key]" ng-value="rdObj.key"  ',form_scope,form_ng_change,form_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_current_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.checkall=function(){$scope.table.getColCurrent($scope.name).value=$scope.table.getColCurrent($scope.name).value||{};for(var key in $scope.table.colList($scope.name).list){$scope.table.getColCurrent($scope.name).value[$scope.table.colList($scope.name).list[key].key]=true;}
$scope.table.changeColCurrent($scope.name);}
$scope.removeall=function(){$scope.table.getColCurrent($scope.name).value={};$scope.table.changeColCurrent($scope.name);}
$scope.valueArr=function(){var valueArr=$.map($scope.table.colList($scope.name).list,function(n){if($scope.table.getColCurrent($scope.name)!=undefined){if($scope.table.getColCurrent($scope.name).value[n.key])
return n;else
return null;}else{return null;}});return valueArr;}},link:function(sc,el,attr){}}});wliu_table.directive("form.checkbox2",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<input type="text" readonly class="wliuCommon-checklist" value="{{ valueText() }}" ','ng-click="change(name)" ','diag-target="#{{table.colMeta(name).targetid}}" diag-toggle="click" ','popup-target="#table_rowno_tooltip" popup-placement="down" popup-toggle="hover" popup-body="{{table.getColCurrent(name).errorCode?table.getColCurrent(name).errorMessage.nl2br():valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ',form_scope,form_ng_hide,form_ng_class,'/>',].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.change=function(name){$scope.table.colList(name).keys.guid=$scope.table.getCurrent().guid;$scope.table.colList(name).keys.name=name;}
$scope.valueText=function(){var ret_text="";for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;var text=$.map(dList,function(n){if($scope.table.getColCurrent($scope.name)!=undefined){if($scope.table.getColCurrent($scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=(ret_text&&text?"; ":"")+text;}
return ret_text;}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}})}}});wliu_table.directive("form.checktext2",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<span class="wliuCommon-label">{{ valueText() }}</span>',].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.valueText=function(){var ret_text="";for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;var text=$.map(dList,function(n){if($scope.table.getColCurrent($scope.name)!=undefined){if($scope.table.getColCurrent($scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=(ret_text&&text?"; ":"")+text;}
return ret_text;}},link:function(sc,el,attr){}}});wliu_table.directive("form.checkdiag2",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" wliu-diag movable maskable class="container" ',form_scope,'>','<div wliu-diag-head>{{ title }}</div>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr(table.lists[name].keys.guid, table.lists[name].keys.name)">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',form_ng_options,'/>','<a class="wliu-btn16 wliu-btn16-checkall" ng-click="checkall(table.lists[name].keys.guid, table.lists[name].keys.name)" title="check all" ng-show="bar==1"></a>','<a class="wliu-btn16 wliu-btn16-removeall" ng-click="removeall(table.lists[name].keys.guid, table.lists[name].keys.name)" title="remove all" ng-show="bar==1"></a>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-body" style="font-size:14px;">','<span style="display:none;" ng-repeat-start="rdObj in table.lists[name].list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<b>{{ rdObj.value }}</b>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="checkbox">','<input type="checkbox" id="{{table.scope}}_{{name}}_{{tdObj.key}}" ','ng-model="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name).value[tdObj.key]" ng-value="tdObj.key"  ','ng-change="table.changeColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)" ','ng-disabled="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)==undefined" ',form_scope,'/>','<label for="{{table.scope}}_{{name}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none;" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.lists[$scope.name].keys=$scope.table.lists[$scope.name].keys||{};$scope.checkall=function(guid,name){$scope.table.getColByGuid(guid,name).value=$scope.table.getColByGuid(guid,name).value||{};for(var key in $scope.table.lists[$scope.name].list){var dList=$scope.table.lists[$scope.name].list[key].list;for(var dkey in dList){$scope.table.getColByGuid(guid,name).value[dList[dkey].key]=true;}}
$scope.table.changeColByGuid(guid,name);}
$scope.removeall=function(guid,name){$scope.table.getColByGuid(guid,name).value={};$scope.table.changeColByGuid(guid,name);}
$scope.valueArr=function(guid,name){var ret_arr=[];for(var key in $scope.table.lists[$scope.name].list){var dList=$scope.table.lists[$scope.name].list[key].list;var valueArr=$.map(dList,function(n){if($scope.table.getColByGuid(guid,name)!=undefined){if($scope.table.getColByGuid(guid,name).value[n.key])
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}
return ret_arr;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_table.directive("form.checklist2",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div class="col-md-12" style="border:1px dotted #666666;border-radius:5px;overflow-y:auto;overflow:visible;" ',form_scope,form_ng_hide,form_ng_class,form_tooltip,'>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr()">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',form_ng_options,'/>','<a class="wliu-btn16 wliu-btn16-checkall" ng-click="checkall()" title="check all" ng-show="bar==1"></a>','<a class="wliu-btn16 wliu-btn16-removeall" ng-click="removeall()" title="remove all" ng-show="bar==1"></a>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-content" style="min-height:250px;min-width:350px;font-size:14px;">','<span style="display:none;" ng-repeat-start="rdObj in table.colList(name).list|filter:search"></span>','<div class="col-sm-{{colnum}}" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<b>{{ rdObj.value }}</b>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="checkbox">','<input type="checkbox" id="{{table.scope}}_{{name}}_current_{{tdObj.key}}" ','ng-model="table.getColCurrent(name).value[tdObj.key]" ng-value="tdObj.key"  ',form_scope,form_ng_change,form_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_current_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none;" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.checkall=function(){$scope.table.getColCurrent($scope.name).value=$scope.table.getColCurrent($scope.name).value||{};for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;for(var dkey in dList){$scope.table.getColCurrent($scope.name).value[dList[dkey].key]=true;}}
$scope.table.changeColCurrent($scope.name);}
$scope.removeall=function(){for(var key in $scope.table.colList($scope.name).list){$scope.table.getColCurrent($scope.name).value={};}
$scope.table.changeColCurrent($scope.name);}
$scope.valueArr=function(){var ret_arr=[];for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;var valueArr=$.map(dList,function(n){if($scope.table.getColCurrent($scope.name)!=undefined){if($scope.table.getColCurrent($scope.name).value[n.key])
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}
return ret_arr;}},link:function(sc,el,attr){}}});wliu_table.directive("form.checkbox3",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<input type="text" readonly class="wliuCommon-checklist" value="{{ valueText() }}" ','ng-click="change(name)" ','diag-target="#{{table.colMeta(name).targetid}}" diag-toggle="click" ','popup-target="#table_rowno_tooltip" popup-placement="down" popup-toggle="hover" popup-body="{{table.getColCurrent(name).errorCode?table.getColCurrent(name).errorMessage.nl2br():valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ',form_scope,form_ng_class,form_ng_hide,'/>'].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.change=function(name){$scope.table.colList(name).keys.guid=$scope.table.getCurrent().guid;$scope.table.colList(name).keys.name=name;}
$scope.valueText=function(){var ret_text="";for(var key1 in $scope.table.colList($scope.name).list){var list2=$scope.table.colList($scope.name).list[key1].list;for(var key2 in list2){var list3=list2[key2].list;var text=$.map(list3,function(n){if($scope.table.getColCurrent($scope.name)!=undefined){if($scope.table.getColCurrent($scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=(ret_text&&text?"; ":"")+text;}}
return ret_text;}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}})}}});wliu_table.directive("form.checktext3",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<span class="wliuCommon-label">{{ valueText() }}</span>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.valueText=function(){var ret_text="";for(var key1 in $scope.table.colList($scope.name).list){var list2=$scope.table.colList($scope.name).list[key1].list;for(var key2 in list2){var list3=list2[key2].list;var text=$.map(list3,function(n){if($scope.table.getColCurrent($scope.name)!=undefined){if($scope.table.getColCurrent($scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=(ret_text&&text?"; ":"")+text;}}
return ret_text;}},link:function(sc,el,attr){}}});wliu_table.directive("form.checkdiag3",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" wliu-diag maskable movable class="container" ',form_scope,'>','<div wliu-diag-head>{{ title }}</div>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr(table.lists[name].keys.guid, table.lists[name].keys.name)">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',form_ng_options,'/>','<a class="wliu-btn16 wliu-btn16-checkall" ng-click="checkall(table.lists[name].keys.guid, table.lists[name].keys.name)" title="check all" ng-show="bar==1"></a>','<a class="wliu-btn16 wliu-btn16-removeall" ng-click="removeall(table.lists[name].keys.guid, table.lists[name].keys.name)" title="remove all" ng-show="bar==1"></a>','<select class="wliuCommon-filter" ','ng-model="listFilter.key" ','ng-options="sObj.key as sObj.value for sObj in table.lists[name].list" ',' ng-show="bar==1">','<option value=""></option>','</select>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-body" style="font-size:14px;">','<span style="display:none;" ng-repeat-start="bbObj in table.lists[name].list|filter:getListFilter()"></span>','<span style="display:none;" ng-repeat-start="rdObj in bbObj.list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<span style="white-space:nowrap;font-weight:700;">{{ rdObj.value }}</span>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="checkbox">','<input type="checkbox" id="{{table.scope}}_{{name}}_{{tdObj.key}}" ','ng-model="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name ).value[tdObj.key]" ng-value="tdObj.key"  ','ng-change="table.changeColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)" ','ng-disabled="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)==undefined" ',form_scope,'/>','<label for="{{table.scope}}_{{name}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none" ng-repeat-end></span>','<span style="display:none" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.lists[$scope.name].keys=$scope.table.lists[$scope.name].keys||{};$scope.listFilter=$scope.listFilter||{};$scope.checkall=function(guid,name){$scope.table.getColByGuid(guid,name).value=$scope.table.getColByGuid(guid,name).value||{};for(var key1 in $scope.table.lists[$scope.name].list){var list2=$scope.table.lists[$scope.name].list[key1].list;for(var key2 in list2){var list3=list2[key2].list;for(var key3 in list3){$scope.table.getColByGuid(guid,name).value[list3[key3].key]=true;}}}
$scope.table.changeColByGuid(guid,name);}
$scope.removeall=function(guid,name){$scope.table.getColByGuid(guid,name).value={};$scope.table.changeColByGuid(guid,name);}
$scope.getListFilter=function(){$scope.listFilter.key=$scope.listFilter.key?$scope.listFilter.key:"";return $scope.listFilter;}
$scope.valueArr=function(guid,name){var ret_arr=[];for(var key1 in $scope.table.lists[$scope.name].list){var list2=$scope.table.lists[$scope.name].list[key1].list;for(var key2 in list2){var list3=list2[key2].list;var valueArr=$.map(list3,function(n){if($scope.table.getColByGuid(guid,name)!=undefined){if($scope.table.getColByGuid(guid,name).value[n.key])
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}}
return ret_arr;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_table.directive("form.checklist3",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div class="col-md-12" style="border:1px dotted #666666;border-radius:5px;overflow-y:auto;overflow:visible;" ',form_scope,form_ng_class,form_ng_hide,form_tooltip,'>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr()">','{{ vObj.value }}, ','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',form_ng_options,'/>','<a class="wliu-btn16 wliu-btn16-checkall" ng-click="checkall()" title="check all" ng-show="bar==1"></a>','<a class="wliu-btn16 wliu-btn16-removeall" ng-click="removeall()" title="remove all" ng-show="bar==1"></a>','<select class="wliuCommon-filter" ','ng-model="listFilter.key" ','ng-options="sObj.key as sObj.value for sObj in table.colList(name).list" ',' ng-show="bar==1">','<option value=""></option>','</select>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-content" style="min-height:250px;min-width:350px;font-size:14px;">','<span style="display:none;" ng-repeat-start="bbObj in table.colList(name).list|filter:getListFilter()"></span>','<span style="display:none;" ng-repeat-start="rdObj in bbObj.list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<span style="white-space:nowrap;font-weight:700;">{{ rdObj.value }}</span>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="checkbox">','<input type="checkbox" id="{{table.scope}}_{{name}}_current_{{tdObj.key}}" ','ng-model="table.getColCurrent(name).value[tdObj.key]" ng-value="tdObj.key"  ',form_scope,form_ng_change,form_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_current_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none" ng-repeat-end></span>','<span style="display:none" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.listFilter=$scope.listFilter||{};$scope.checkall=function(){$scope.table.getColCurrent($scope.name).value=$scope.table.getColCurrent($scope.name).value||{};for(var key1 in $scope.table.colList($scope.name).list){var list2=$scope.table.colList($scope.name).list[key1].list;for(var key2 in list2){var list3=list2[key2].list;for(var key3 in list3){$scope.table.getColCurrent($scope.name).value[list3[key3].key]=true;}}}
$scope.table.changeColCurrent($scope.name);}
$scope.removeall=function(){$scope.table.getColCurrent($scope.name).value={};$scope.table.changeColCurrent($scope.name);}
$scope.getListFilter=function(){$scope.listFilter.key=$scope.listFilter.key?$scope.listFilter.key:"";return $scope.listFilter;}
$scope.valueArr=function(){var ret_arr=[];for(var key1 in $scope.table.colList($scope.name).list){var list2=$scope.table.colList($scope.name).list[key1].list;for(var key2 in list2){var list3=list2[key2].list;var valueArr=$.map(list3,function(n){if($scope.table.getColCurrent($scope.name)!=undefined){if($scope.table.getColCurrent($scope.name).value[n.key])
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}}
return ret_arr;}},link:function(sc,el,attr){}}});wliu_table.directive("form.radio",function(){return{restrict:"E",replace:true,scope:{table:"=",colnum:"@",name:"@"},template:['<div class="wliuCommon-label" ',form_scope,form_ng_class,form_ng_hide,form_tooltip,'>','<span ng-repeat="rdObj in table.colList(name).list">','<span class="radio">','<input type="radio" id="{{table.scope}}_{{name}}_current_{{rdObj.key}}" ','ng-model="table.getColCurrent(name).value" ng-value="rdObj.key"  ',form_scope,form_ng_change,form_ng_disabled,'/>','<label scope="{{ table.scope }}" for="{{table.scope}}_{{name}}_current_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("form.radio1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<input  type="text" readonly class="wliuCommon-radiolist" value="{{valueText()}}" ','ng-click="change(name)" ','diag-target="#{{table.colMeta(name).targetid}}" diag-toggle="click" ','popup-target="{{table.colMeta(name).tooltip?\'#\'+table.colMeta(name).tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{table.getColCurrent(name).errorCode?table.getColCurrent(name).errorMessage.nl2br():valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ','title="{{table.colMeta(name).tooltip?\'\':table.getColCurrent(name).errorCode?table.getColCurrent(name).errorMessage:valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ',form_scope,form_ng_class,form_ng_hide,'/>',].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.change=function(name){$scope.table.colList(name).keys.guid=$scope.table.getCurrent().guid;$scope.table.colList(name).keys.name=name;}
$scope.valueText=function(){var val=$scope.table.getColCurrent($scope.name)?$scope.table.getColCurrent($scope.name).value:"";var valueText=FCOLLECT.firstByKV($scope.table.colList($scope.name).list,{key:val})?FCOLLECT.firstByKV($scope.table.colList($scope.name).list,{key:val}).value:"";return valueText;}},link:function(sc,el,attr){}}});wliu_table.directive("form.radiotext1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<span class="wliuCommon-label">{{ valueText() }}</span>',].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.change=function(name){$scope.table.colList(name).keys.guid=$scope.table.getCurrent().guid;$scope.table.colList(name).keys.name=name;}
$scope.valueText=function(){var val=$scope.table.getColCurrent($scope.name)?$scope.table.getColCurrent($scope.name).value:"";var valueText=FCOLLECT.firstByKV($scope.table.colList($scope.name).list,{key:val})?FCOLLECT.firstByKV($scope.table.colList($scope.name).list,{key:val}).value:"";return valueText;}},link:function(sc,el,attr){}}});wliu_table.directive("form.radiodiag1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" wliu-diag movable maskable ',form_scope,'>','<div wliu-diag-head>{{ title }}</div>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','{{ valueText(table.lists[name].keys.guid, table.lists[name].keys.name) }}','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',form_ng_options,'/>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-body" style="font-size:14px;">','<span ','ng-repeat="rdObj in table.lists[name].list|filter:search">','<span class="radio">','<input type="radio" name="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}" id="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}_{{rdObj.key}}" ','ng-model="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name).value" ng-value="rdObj.key"  ','ng-change="table.changeColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)" ','ng-disabled="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)==undefined" ',form_scope,'/>','<label for="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.lists[$scope.name].keys=$scope.table.lists[$scope.name].keys||{};$scope.valueText=function(guid,name){var val=$scope.table.getColByGuid(guid,name)?$scope.table.getColByGuid(guid,name).value:"";var valueText=FCOLLECT.firstByKV($scope.table.lists[$scope.name].list,{key:val})?FCOLLECT.firstByKV($scope.table.lists[$scope.name].list,{key:val}).value:"";return valueText;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_table.directive("form.radiolist1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",colnum:"@",bar:"@",title:"@"},template:['<div class="col-md-12" style="border:1px dotted #666666;border-radius:5px; padding:2px; overflow-y:auto; overflow:visible; text-align:left; min-width:240px;" ',form_scope,form_ng_hide,form_ng_class,form_tooltip,'>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','{{ valueText() }}','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',form_ng_options,'/>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-content" style="font-size:14px;">','<span ','ng-repeat="rdObj in table.colList(name).list|filter:search">','<span class="radio">','<input type="radio" name="{{table.scope}}_{{name}}_current" id="{{table.scope}}_{{name}}_current_{{rdObj.key}}" ','ng-model="table.getColCurrent(name).value" ng-value="rdObj.key"  ',form_scope,form_ng_change,form_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_current_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>','</div>'].join(''),controller:function($scope){$scope.valueText=function(){var val=$scope.table.getColCurrent($scope.name)?$scope.table.getColCurrent($scope.name).value:"";var valueText=FCOLLECT.firstByKV($scope.table.colList($scope.name).list,{key:val})?FCOLLECT.firstByKV($scope.table.colList($scope.name).list,{key:val}).value:"";return valueText;}},link:function(sc,el,attr){}}});wliu_table.directive("form.radio2",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<input type="text" readonly class="wliuCommon-radiolist" value="{{ valueText() }}" ','ng-click="change(name)" ','diag-target="#{{table.colMeta(name).targetid}}" diag-toggle="click" ','popup-target="{{table.colMeta(name).tooltip?\'#\'+table.colMeta(name).tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{table.getColCurrent(name).errorCode?table.getColCurrent(name).errorMessage.nl2br():valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ','title="{{table.colMeta(name).tooltip?\'\':table.getColCurrent(name).errorCode?table.getColCurrent(name).errorMessage:valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ',form_scope,form_ng_class,form_ng_hide,form_ng_disabled,'/>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.change=function(name){$scope.table.colList(name).keys.guid=$scope.table.getCurrent().guid;$scope.table.colList(name).keys.name=name;}
$scope.valueText=function(){var ret_text="";for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;var text=$.map(dList,function(n){if($scope.table.getColCurrent($scope.name)!=undefined){if($scope.table.getColCurrent($scope.name).value==n.key)
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=text;}
return ret_text;}},link:function(sc,el,attr){}}});wliu_table.directive("form.radiotext2",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@"},template:['<span class="wliuCommon-label">{{ valueText() }}</span>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.valueText=function(){var ret_text="";for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;var text=$.map(dList,function(n){if($scope.table.getColCurrent($scope.name)!=undefined){if($scope.table.getColCurrent($scope.name).value==n.key)
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=text;}
return ret_text;}},link:function(sc,el,attr){}}});wliu_table.directive("form.radiodiag2",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" wliu-diag movable maskable class="container" ',form_scope,'>','<div wliu-diag-head>{{ title }}</div>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr(table.lists[name].keys.guid, table.lists[name].keys.name)">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',form_ng_options,'/>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-body" style="font-size:14px;">','<span style="display:none;" ng-repeat-start="rdObj in table.lists[name].list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<b>{{ rdObj.value }}</b>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="radio">','<input type="radio" name="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}" id="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}_{{tdObj.key}}" ','ng-model="table.getColByGuid( table.lists[name].keys.guid, table.lists[name].keys.name).value" ng-value="tdObj.key"  ','ng-change="table.changeColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)" ','ng-disabled="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)==undefined" ',form_scope,'/>','<label for="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none;" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.lists[$scope.name].keys=$scope.table.lists[$scope.name].keys||{};$scope.valueArr=function(guid,name){var ret_arr=[];for(var key in $scope.table.lists[$scope.name].list){var dList=$scope.table.lists[$scope.name].list[key].list;var valueArr=$.map(dList,function(n){if($scope.table.getColByGuid(guid,name)!=undefined){if($scope.table.getColByGuid(guid,name).value==n.key)
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}
return ret_arr;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_table.directive("form.radiolist2",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div class="col-md-12" style="border:1px dotted #666666;border-radius:5px;overflow-y:auto;" ',form_scope,form_ng_class,form_ng_hide,form_tooltip,'>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr()">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',form_ng_options,'/>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-content" style="font-size:14px;">','<span style="display:none;" ng-repeat-start="rdObj in table.colList(name).list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<b>{{ rdObj.value }}</b>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="radio">','<input type="radio" name="{{table.scope}}_{{name}}_current" id="{{table.scope}}_{{name}}_current_{{tdObj.key}}" ','ng-model="table.getColCurrent(name).value" ng-value="tdObj.key"  ',form_scope,form_ng_change,form_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_current_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none;" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.valueArr=function(){var ret_arr=[];for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;var valueArr=$.map(dList,function(n){if($scope.table.getColCurrent($scope.name)!=undefined){if($scope.table.getColCurrent($scope.name).value==n.key)
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}
return ret_arr;}},link:function(sc,el,attr){}}});wliu_table.directive("form.radio3",function(){return{restrict:"E",replace:true,scope:{table:"=",rowsn:"@",name:"@"},template:['<input type="text" readonly class="wliuCommon-radiolist" value="{{ valueText() }}" ','ng-click="change(name)" ','diag-target="#{{table.colMeta(name).targetid}}" diag-toggle="click" ','popup-target="{{table.colMeta(name).tooltip?\'#\'+table.colMeta(name).tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{table.getColCurrent(name).errorCode?table.getColCurrent(name).errorMessage.nl2br():valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ','title="{{table.colMeta(name).tooltip?\'\':table.getColCurrent(name).errorCode?table.getColCurrent(name).errorMessage:valueText()?valueText():table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}" ',form_scope,form_ng_hide,form_ng_class,form_ng_disabled,'/>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.change=function(name){$scope.table.colList(name).keys.guid=$scope.table.getCurrent().guid;$scope.table.colList(name).keys.name=name;}
$scope.valueText=function(){var ret_text="";for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;for(var pkey in dList){var pList=dList[pkey].list;var text=$.map(pList,function(n){if($scope.table.getColCurrent($scope.name)!=undefined){if($scope.table.getColCurrent($scope.name).value==n.key)
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=text;}}
return ret_text;}},link:function(sc,el,attr){}}});wliu_table.directive("form.radiotext3",function(){return{restrict:"E",replace:true,scope:{table:"=",rowsn:"@",name:"@"},template:['<span class="wliuCommon-label">{{ valueText() }}</span>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.change=function(name){$scope.table.colList(name).keys.guid=$scope.table.getCurrent().guid;$scope.table.colList(name).keys.name=name;}
$scope.valueText=function(){var ret_text="";for(var key in $scope.table.colList($scope.name).list){var dList=$scope.table.colList($scope.name).list[key].list;for(var pkey in dList){var pList=dList[pkey].list;var text=$.map(pList,function(n){if($scope.table.getColCurrent($scope.name)!=undefined){if($scope.table.getColCurrent($scope.name).value==n.key)
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=text;}}
return ret_text;}},link:function(sc,el,attr){}}});wliu_table.directive("form.radiodiag3",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" wliu-diag movable maskable class="container" ',form_scope,'>','<div wliu-diag-head>{{ title }}</div>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr(table.lists[name].keys.guid, table.lists[name].keys.name)">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',form_ng_options,'/>','<select class="wliuCommon-filter" ','ng-model="listFilter.key" ','ng-options="sObj.key as sObj.value for sObj in table.lists[name].list" ',' ng-show="bar==1">','<option value=""></option>','</select>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-body" style="font-size:14px;">','<span style="display:none;" ng-repeat-start="bbObj in table.lists[name].list|filter:getListFilter()"></span>','<span style="display:none;" ng-repeat-start="rdObj in bbObj.list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<b>{{ rdObj.value }}</b>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="radio">','<input type="radio" name="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}" id="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}_{{tdObj.key}}" ','ng-model="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name).value" ng-value="tdObj.key"  ','ng-change="table.changeColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)" ','ng-disabled="table.getColByGuid(table.lists[name].keys.guid, table.lists[name].keys.name)==undefined" ',form_scope,'/>','<label for="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none" ng-repeat-end></span>','<span style="display:none" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.listFilter=$scope.listFilter||{};$scope.getListFilter=function(){$scope.listFilter.key=$scope.listFilter.key?$scope.listFilter.key:"";return $scope.listFilter;}
$scope.valueArr=function(guid,name){var ret_arr=[];for(var key1 in $scope.table.lists[$scope.name].list){var list2=$scope.table.lists[$scope.name].list[key1].list;for(var key2 in list2){var list3=list2[key2].list;var valueArr=$.map(list3,function(n){if($scope.table.getColByGuid(guid,name)!=undefined){if($scope.table.getColByGuid(guid,name).value==n.key)
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}}
return ret_arr;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_table.directive("form.radiolist3",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",colnum:"@",colnum1:"@",bar:"@",title:"@"},template:['<div class="col-md-12" style="border:1px dotted #666666;border-radius:5px;overflow-y:auto;" ',form_scope,form_ng_hide,form_ng_class,form_tooltip,'>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr()">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',form_ng_options,'/>','<select class="wliuCommon-filter" ','ng-model="listFilter.key" ','ng-options="sObj.key as sObj.value for sObj in table.colList(name).list" ',' ng-show="bar==1">','<option value=""></option>','</select>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-content" style="font-size:14px;">','<span style="display:none;" ng-repeat-start="bbObj in table.colList(name).list|filter:getListFilter()"></span>','<span style="display:none;" ng-repeat-start="rdObj in bbObj.list|filter:search"></span>','<div class="col-md-{{colnum}} col-sm-{{colnum}} col-xs-12" ng-if="rdObj.list && rdObj.list.length>0">','<ul>','<li title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','<b>{{ rdObj.value }}</b>','<ul style="border-top:1px solid #cccccc;">','<span ng-repeat="tdObj in rdObj.list|filter:search">','<span class="radio">','<input type="radio" name="{{table.scope}}_{{name}}_current" id="{{table.scope}}_{{name}}_current_{{tdObj.key}}" ','ng-model="table.getColCurrent(name).value" ng-value="tdObj.key"  ',form_scope,form_ng_change,form_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_current_{{tdObj.key}}" title="{{tdObj.desc?tdObj.desc:tdObj.value}}">','{{ tdObj.value }}','</label>','</span>','<br ng-if="colnum1>0?(($index+1)%colnum1)==0:false" />','</span>','</ul>','</li>','</ul>','</div>','<span style="display:none" ng-repeat-end></span>','<span style="display:none" ng-repeat-end></span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.colList($scope.name).keys=$scope.table.colList($scope.name).keys||{};$scope.listFilter=$scope.listFilter||{};$scope.getListFilter=function(){$scope.listFilter.key=$scope.listFilter.key?$scope.listFilter.key:"";return $scope.listFilter;}
$scope.valueArr=function(){var ret_arr=[];for(var key1 in $scope.table.colList($scope.name).list){var list2=$scope.table.colList($scope.name).list[key1].list;for(var key2 in list2){var list3=list2[key2].list;var valueArr=$.map(list3,function(n){if($scope.table.getColCurrent($scope.name)!=undefined){if($scope.table.getColCurrent($scope.name).value==n.key)
return n;else
return null;}else{return null;}});$.merge(ret_arr,valueArr);}}
return ret_arr;}},link:function(sc,el,attr){}}});wliu_table.directive("form.button",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",name:"@",actname:"@",action:"&",outline:"@",icon:"@",before:"&",after:"&",success:"&"},template:['<div style="display:inline-block;position:relative;background-color:#ffffff;vertical-align:middle;">','<button class="btn btn{{ outline==1?\'-outline\':\'\'}}-{{ buttonStyle() }} waves-effect" ','style="min-width:60px;{{!buttonState(name, table.getCurrent().rowstate)?\'border-color:grey;\':\'\'}}" ','title="{{table.colMeta(name).coldesc?table.colMeta(name).coldesc:table.colMeta(name).colname}}"','ng-disabled="!buttonState(name, table.getCurrent().rowstate)" ','ng-click="action1(table.getCurrent())" ','popup-target="{{table.tooltip?\'#\'+table.tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" ','popup-body="{{table.getCurrent().error.errorCode?table.getCurrent().error.errorMessage.nl2br():\'\'}}"','title="{{ table.tooltip?\'\':(table.getCurrent().error.errorCode? table.getCurrent().error.errorMessage : \'\') }}"',form_scope,'>','<span style="vertical-align:middle;{{!buttonState(name, table.getCurrent().rowstate)?\'color:#666666;\':\'\'}}">','{{actname}}','</span>','</button>','</div>'].join(''),controller:function($scope,wliuTableService){$scope.buttonStyle=function(){var ret_val="primary";switch($scope.name){case"add":ret_val="default";break;case"save":ret_val="secondary";break;case"cancel":ret_val="warning";case"reset":ret_val="warning";break;case"delete":ret_val="danger";break;}
return ret_val;}
$scope.action1=function(theRow){$scope.before();switch($scope.name.toLowerCase()){case"add":$scope.table.addRow();break;case"save":$scope.table.saveRow(theRow,{ajaxSuccess:function(){$scope.success();}});break;case"cancel":$scope.table.cancelRow(theRow);break;case"reset":switch(theRow.rowstate){case 0:break;case 1:$scope.table.cancelRow(theRow);break;case 2:$scope.table.resetRow(theRow);break;case 3:$scope.table.cancelRow(theRow);break;}
break;case"delete":$scope.table.deleteRow(theRow);break;}
$scope.action();$scope.after();};$scope.buttonState=function(name,rowstate){var right=$scope.table.rights?(parseInt($scope.table.rights[name])?true:false):false;if(name=="add"){if(parseInt($scope.table.rights[name])){rowstate=rowstate?rowstate:0;if(rowstate<1)
return true;else
return false;}else{return false;}}
return wliuTableService.buttonState(name,rowstate)&&right;};},link:function(sc,el,attr){}}});wliu_table.directive("form.linkbutton",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",name:"@",actname:"@",action:"&",icon:"@",before:"&",after:"&"},template:['<span>','<a href="javascript:void(0)" ','class="btn btn-{{ buttonStyle() }} waves-effect {{!buttonState(name, table.getCurrent().rowstate)?\'grey\':\'\'}} {{!buttonState(name, table.getCurrent().rowstate)?\'disabled\':\'\'}}" ','style="min-width:60px;" ','ng-click="action1(table.getCurrent())" ','popup-target="{{table.tooltip?\'#\'+table.tooltip:\'\'}}" popup-toggle="hover" popup-placement="down" ','popup-body="{{table.getCurrent().error.errorCode?table.getCurrent().error.errorMessage.nl2br():\'\'}}"','title="{{ table.tooltip?\'\':(table.getCurrent().error.errorCode? table.getCurrent().error.errorMessage : \'\') }}"',form_scope,'>','{{actname?actname:name.capital()}}','</a>','</span>'].join(''),controller:function($scope){$scope.buttonStyle=function(){var ret_val="primary";switch($scope.name){case"add":ret_val="default";break;case"save":ret_val="secondary";break;case"cancel":ret_val="warning";break;case"delete":ret_val="danger";break;}
return ret_val;}
$scope.action1=function(theRow){$scope.before();switch($scope.name.toLowerCase()){case"add":$scope.table.addRow();break;case"save":$scope.table.saveRow(theRow);break;case"cancel":switch(theRow.rowstate){case 0:break;case 1:$scope.table.cancelRow(theRow);break;case 2:$scope.table.resetRow(theRow);break;case 3:$scope.table.cancelRow(theRow);break;}
break;case"delete":$scope.table.deleteRow(theRow);break;}
$scope.action();$scope.after();};$scope.buttonState=function(name,rowstate){var right=$scope.table.rights?(parseInt($scope.table.rights[name])?true:false):false;if(name=="add"){if(parseInt($scope.table.rights[name])){rowstate=rowstate?rowstate:0;if(rowstate<1)
return true;else
return false;}else{return false;}}
return wliuTableService.buttonState(name,rowstate)&&right;};},link:function(sc,el,attr){}}});
var tree_scope='scope="{{ table.scope }}" ';var tree_ng_change='ng-change="table.changeCol(row, name)" ';var tree_ng_class='ng-class="{ \'wliuCommon-input-invalid\': table.getCol(row, name).errorCode }" ';var tree_ng_disabled='ng-disabled="table.getCol(row, name)==undefined" ';var tree_ng_options='ng-model-options="{ updateOn:\'default blur\', debounce:{default: 500, blur:0} }" ';var tree_ng=[tree_scope,tree_ng_change,tree_ng_class,tree_ng_disabled,tree_ng_options].join('');var tree_tooltip=['popup-target="{{table.colMeta(row, name).tooltip?\'#\'+table.colMeta(row, name).tooltip:\'\'}}" ','popup-toggle="hover" ','popup-placement="down" ','popup-body="{{table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage.nl2br():table.colMeta(row, name).coldesc?table.colMeta(row, name).coldesc:table.colMeta(row, name).colname}}" ','title="{{table.colMeta(row, name).tooltip?\'\':table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage:table.colMeta(row, name).coldesc?table.colMeta(row, name).coldesc:table.colMeta(row, name).colname}}" '].join('');wliu_table.directive("table.tree",function(){return{restrict:"E",replace:true,scope:{table:"=",label:"@"},template:['<ul id="tree_{{table.treeid}}" wliu-tree root>','<li nodes open><s folder></s>','{{table.title?table.title:\'Tree Root\'}} ','<tree.hicon table="table" rows="table.rows" row="root" name="add" actname="Add" ng-if="table.rootadd"></tree.hicon>','<ul wliu-tree>','<li nodes open ng-repeat="prow in table.rows" name="meme">','<tree.rowstatus table="table" row="prow"></tree.rowstatus>','<span style="display:none;" ng-repeat-start="pcol in prow.cols"></span>','<span ng-switch on="pcol.coltype">','<tree.text     ng-switch-when="text"       table="table" row="prow" name="{{pcol.name}}"></tree.text>','<tree.custom   ng-switch-when="custom"     table="table" row="prow" name="{{pcol.name}}"></tree.custom>','<tree.label   ng-switch-when="textbox" ng-if="label" table="table" row="prow" name="{{pcol.name}}"></tree.label>','<tree.textbox ng-switch-when="textbox" table="table" row="prow" name="{{pcol.name}}" class="{{table.colMeta(prow, pcol.name).css}}" style="{{table.colMeta(prow, pcol.name).style}}"></tree.textbox>','<tree.label ng-switch-when="select"    ng-if="label"   table="table" row="prow" name="{{pcol.name}}"></tree.label>','<tree.select ng-switch-when="select"   table="table"   row="prow" name="{{pcol.name}}" class="{{table.colMeta(prow, pcol.name).css}}" style="{{table.colMeta(prow, pcol.name).style}}"></tree.select>','<tree.label ng-switch-when="bool"      ng-if="label"   table="table" row="prow" name="{{pcol.name}}"></tree.label>','<tree.bool ng-switch-when="bool"       table="table"   row="prow" name="{{pcol.name}}"></tree.bool>','<tree.label ng-switch-when="checkbox1" ng-if="label"       table="table" row="prow" name="{{pcol.name}}"></tree.label>','<tree.checkbox1 ng-switch-when="checkbox1" table="table"   row="prow" name="{{pcol.name}}" class="{{table.colMeta(prow, pcol.name).css}}" style="{{table.colMeta(prow, pcol.name).style}}"></tree.checkbox1>','<tree.label   ng-switch-when="radio1"   ng-if="label"      table="table" row="prow" name="{{pcol.name}}"></tree.label>','<tree.radio1  ng-switch-when="radio1"   table="table"      row="prow" name="{{pcol.name}}" class="{{table.colMeta(prow, pcol.name).css}}" style="{{table.colMeta(prow, pcol.name).style}}"></tree.radio1>','</span>','<span style="display:none;" ng-repeat-end></span>','<tree.bicon ng-repeat="actname in table.pbutton" table="table" rows="table.rows" row="prow" name="{{actname}}"></tree.bicon>','<ul wliu-tree>','<li ng-if="table.cols.m" nodes open ng-repeat="srow in prow.rows">','<tree.rowstatus table="table" row="srow"></tree.rowstatus>','<span style="display:none;" ng-repeat-start="scol in srow.cols"></span>','<span ng-switch on="scol.coltype">','<tree.text     ng-switch-when="text"       table="table" row="srow" name="{{scol.name}}"></tree.text>','<tree.custom   ng-switch-when="custom"     table="table" row="srow" name="{{scol.name}}"></tree.custom>','<tree.label ng-switch-when="textbox"    ng-if="label"  table="table" row="srow" name="{{scol.name}}"></tree.label>','<tree.textbox ng-switch-when="textbox" table="table" row="srow" name="{{scol.name}}" class="{{table.colMeta(srow, scol.name).css}}" style="{{table.colMeta(srow, scol.name).style}}"></tree.textbox>','<tree.label ng-switch-when="select"     ng-if="label"  table="table" row="srow" name="{{scol.name}}"></tree.label>','<tree.select ng-switch-when="select"   table="table" row="srow" name="{{scol.name}}"   class="{{table.colMeta(srow, scol.name).css}}" style="{{table.colMeta(srow, scol.name).style}}"></tree.select>','<tree.label ng-switch-when="bool"       ng-if="label"  table="table" row="srow" name="{{scol.name}}"></tree.label>','<tree.bool ng-switch-when="bool"       table="table" row="srow" name="{{scol.name}}"></tree.bool>','<tree.label ng-switch-when="checkbox1"  ng-if="label"  table="table" row="srow" name="{{scol.name}}"></tree.label>','<tree.checkbox1 ng-switch-when="checkbox1" table="table" row="srow" name="{{scol.name}}"   class="{{table.colMeta(srow, scol.name).css}}" style="{{table.colMeta(srow, scol.name).style}}"></tree.checkbox1>','<tree.label   ng-switch-when="radio1"   ng-if="label"  table="table" row="srow" name="{{scol.name}}"></tree.label>','<tree.radio1  ng-switch-when="radio1"  table="table" row="srow" name="{{scol.name}}"   class="{{table.colMeta(srow, scol.name).css}}" style="{{table.colMeta(srow, scol.name).style}}"></tree.radio1>','</span>','<span style="display:none;" ng-repeat-end></span>','<tree.bicon ng-repeat="actname in table.sbutton" table="table" rows="prow.rows" row="srow" name="{{actname}}"></tree.bicon>','<ul wliu-tree>','<li node ng-repeat="mrow in srow.rows">','<tree.rowstatus table="table" row="mrow"></tree.rowstatus>','<span style="display:none;" ng-repeat-start="mcol in mrow.cols"></span>','<span ng-switch on="mcol.coltype">','<tree.text ng-switch-when="text"       table="table"   row="mrow" name="{{mcol.name}}"></tree.text>','<tree.custom ng-switch-when="custom"   table="table"   row="mrow" name="{{mcol.name}}"></tree.custom>','<tree.label ng-switch-when="textbox"    ng-if="label"  table="table" row="mrow" name="{{mcol.name}}"></tree.label>','<tree.textbox ng-switch-when="textbox" table="table"   row="mrow" name="{{mcol.name}}" class="{{table.colMeta(mrow, mcol.name).css}}" style="{{table.colMeta(mrow, mcol.name).style}}"></tree.textbox>','<tree.label ng-switch-when="select"     ng-if="label"  table="table" row="mrow" name="{{mcol.name}}"></tree.label>','<tree.select ng-switch-when="select"   table="table"   row="mrow" name="{{mcol.name}}" class="{{table.colMeta(mrow, mcol.name).css}}" style="{{table.colMeta(mrow, mcol.name).style}}"></tree.select>','<tree.label ng-switch-when="bool"      ng-if="label"   table="table" row="mrow" name="{{mcol.name}}"></tree.label>','<tree.bool ng-switch-when="bool"       table="table"   row="mrow" name="{{mcol.name}}"></tree.bool>','<tree.label ng-switch-when="checkbox1" ng-if="label"       table="table" row="mrow" name="{{mcol.name}}"></tree.label>','<tree.checkbox1 ng-switch-when="checkbox1" table="table"   row="mrow" name="{{mcol.name}}" class="{{table.colMeta(mrow, mcol.name).css}}" style="{{table.colMeta(mrow, mcol.name).style}}"></tree.checkbox1>','<tree.label   ng-switch-when="radio1"  ng-if="label"   table="table" row="mrow" name="{{mcol.name}}"></tree.label>','<tree.radio1  ng-switch-when="radio1"  table="table"   row="mrow" name="{{mcol.name}}" class="{{table.colMeta(mrow, mcol.name).css}}" style="{{table.colMeta(mrow, mcol.name).style}}"></tree.radio1>','</span>','<span style="display:none;" ng-repeat-end></span>','<tree.bicon ng-repeat="actname in table.mbutton" table="table" rows="srow.rows" row="mrow" name="{{actname}}"></tree.bicon>','</li>','</ul>','</li>','<li ng-if="!table.cols.m" node ng-repeat="srow in prow.rows">','<tree.rowstatus table="table" row="srow"></tree.rowstatus>','<span style="display:none;" ng-repeat-start="scol in srow.cols"></span>','<span ng-switch on="scol.coltype">','<tree.text     ng-switch-when="text"       table="table" row="srow" name="{{scol.name}}"></tree.text>','<tree.custom   ng-switch-when="custom"     table="table" row="srow" name="{{scol.name}}"></tree.custom>','<tree.label ng-switch-when="textbox"   ng-if="label"   table="table" row="srow" name="{{scol.name}}"></tree.label>','<tree.textbox ng-switch-when="textbox" table="table"   row="srow" name="{{scol.name}}" class="{{table.colMeta(srow, scol.name).css}}" style="{{table.colMeta(srow, scol.name).style}}"></tree.textbox>','<tree.label ng-switch-when="select"    ng-if="label"   table="table" row="srow" name="{{scol.name}}"></tree.label>','<tree.select ng-switch-when="select"   table="table"   row="srow" name="{{scol.name}}" class="{{table.colMeta(srow, scol.name).css}}" style="{{table.colMeta(srow, scol.name).style}}"></tree.select>','<tree.label ng-switch-when="bool"      ng-if="label"   table="table" row="srow" name="{{scol.name}}"></tree.label>','<tree.bool ng-switch-when="bool"       table="table"   row="srow" name="{{scol.name}}"></tree.bool>','<tree.label ng-switch-when="checkbox1" ng-if="label"   table="table" row="srow" name="{{scol.name}}"></tree.label>','<tree.checkbox1 ng-switch-when="checkbox1" table="table" row="srow" name="{{scol.name}}" class="{{table.colMeta(srow, scol.name).css}}" style="{{table.colMeta(srow, scol.name).style}}"></tree.checkbox1>','<tree.label   ng-switch-when="radio1"  ng-if="label"   table="table" row="srow" name="{{scol.name}}"></tree.label>','<tree.radio1  ng-switch-when="radio1"  table="table"   row="srow" name="{{scol.name}}" class="{{table.colMeta(srow, scol.name).css}}" style="{{table.colMeta(srow, scol.name).style}}"></tree.radio1>','</span>','<span style="display:none;" ng-repeat-end></span>','<tree.bicon ng-repeat="actname in table.sbutton" table="table" rows="prow.rows" row="srow" name="{{actname}}"></tree.bicon>','</li>','</ul>','</li>','</ul>','</li>','</ul>'].join(''),controller:function($scope){},link:function(sc,el,attr){var count=0;$(function(){$(document).off("click.treebutton",$("a[treebutton][name='add']",el)).on("click.treebutton","a[treebutton][name='add']",function(evt){$(this).parents("li").removeAttr("close").addAttr("open");});})}}});wliu_table.directive("tree.rowstatus",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"="},template:['<s folder style="vertical-align:middle;padding:0px;" ','ng-disabled="row==undefined" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" ','popup-body="{{row.error.errorCode?row.error.errorMessage.nl2br():\'\'}}"',tree_scope,'>','<a class="wliu-btn16 wliu-btn16-error-help"  ng-if="row.error.errorCode" style="background-color:#ffffff;" ','>','</a>','<a class="wliu-btn16 wliu-btn16-rowstate-save"     ng-if="row.error.errorCode==0 && row.rowstate==1"   title="Changed" style="background-color:#ffffff;"></a>','<a class="wliu-btn16 wliu-btn16-rowstate-add"      ng-if="row.error.errorCode==0 && row.rowstate==2"   title="New" style="background-color:#ffffff;"></a>','<a class="wliu-btn16 wliu-btn16-rowstate-delete"   ng-if="row.error.errorCode==0 && row.rowstate==3"   title="Deleted" style="background-color:#ffffff;"></a>','</s>'].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}})}}});wliu_table.directive("tree.label",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<label class="wliuCommon-label" ','popup-target="{{table.colMeta(row, name).tooltip?\'#\'+table.colMeta(row, name).tooltip:\'\'}}" popup-placement="down" popup-toggle="hover" popup-body="{{table.colMeta(row, name).coldesc?table.colMeta(row, name).coldesc:table.colMeta(row, name).colname?table.colMeta(row, name).colname:name}}" ','title="{{table.colMeta(row, name).tooltip? \'\':table.colMeta(row, name).coldesc?table.colMeta(row, name).coldesc:table.colMeta(row, name).colname?table.colMeta(row, name).colname:name}}" ',tree_scope,'>','<span style="vertival-align:middle;" class="wliuCommon-text-error" ng-if="table.colMeta(row, name).notnull">*</span>','<span style="vertival-align:middle;">{{ table.colMeta(row, name).colname?table.colMeta(row, name).colname:name }}</span>','</label>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("tree.text",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<span class="wliu-text" ',tree_scope,tree_ng_class,tree_tooltip,'>','{{ table.getCol(row, name).value }}','</span>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("tree.custom",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<span ng-bind-html="valueText()"></span>'].join(''),controller:function($scope,$sce){$scope.valueText=function(){var ret_val=FCOM.colreplace($scope.table.colMeta($scope.row,$scope.name).colname,$scope.row.cols);return $sce.trustAsHtml(ret_val);}},link:function(sc,el,attr){}}});wliu_table.directive("tree.hidden",function(){return{restrict:"E",replace:true,transclude:true,scope:{table:"=",row:"=",name:"@"},template:['<input type="hidden" ','ng-model="table.getCol(row, name).value" ',tree_scope,tree_ng_disabled,tree_ng_change,'/>'].join(''),controller:function($scope){}}});wliu_table.directive("tree.textbox",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<input type="textbox" ','ng-model="table.getCol(row, name).value" ',tree_ng,tree_tooltip,'/>'].join(''),controller:function($scope){},link:function(sc,el,attr){}}});wliu_table.directive("tree.select",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<select ','ng-model="table.getCol(row, name).value" ','ng-options="sObj.key as sObj.value for sObj in table.colList(row, name).list" ',tree_scope,tree_ng_change,tree_ng_class,tree_ng_disabled,tree_tooltip,'>','<option value=""></option>','</select>'].join(''),controller:function($scope){$scope.css=$scope.css?$scope.css:"input-short";},link:function(sc,el,attr){}}});wliu_table.directive("tree.bool",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@",label:"@"},template:['<span class="checkbox" ',tree_scope,tree_ng_class,tree_tooltip,'>','<input type="checkbox" id="{{table.scope}}_{{name}}_{{row.guid}}" ','ng-click="checkme()" ','ng-model="table.getCol(row, name).value" ng-value="1"  ',tree_scope,tree_ng_change,tree_ng_disabled,'/>','<label for="{{table.scope}}_{{name}}_{{row.guid}}" title="{{table.colMeta(row, name).coldesc?table.colMeta(row, name).coldesc:table.colMeta(row, name).colname?table.colMeta(row, name).colname:name}}">','{{ label.toLowerCase()=="default"?table.colMeta(row, name).colname:label?label:"" }}','</label>','</span>',].join(''),controller:function($scope){},link:function(sc,el,attr){$(el).unbind("click.treeBool").bind("click.treeBool",function(){sc.table.getCol(sc.row,sc.name).value=!sc.table.getCol(sc.row,sc.name).value;sc.table.changeCol(sc.row,sc.name);sc.$apply();})}}});wliu_table.directive("tree.checkbox1",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<input type="text" readonly class="wliuCommon-checklist input-long" value="{{ valueText() }}" ','ng-click="change(row, name)" ','diag-target="#{{table.colMeta(row, name).targetid}}" diag-toggle="click" ','popup-target="#table_rowno_tooltip" popup-placement="down" popup-toggle="hover" popup-body="{{table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage.nl2br():valueText()?valueText():table.colMeta(row, name).coldesc?table.colMeta(row, name).coldesc:table.colMeta(row, name).colname}}" ','ng-disabled="table.getCol(row, name)==undefined || table.refid<=0" ',tree_scope,tree_ng_class,'/>'].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";$scope.table.colList($scope.row,$scope.name).keys=$scope.table.colList($scope.row,$scope.name).keys||{};$scope.change=function(row,name){$scope.table.colList(row,name).keys.guid=row;$scope.table.colList(row,name).keys.name=name;}
$scope.valueText=function(){var text=$.map($scope.table.colList($scope.row,$scope.name).list,function(n){if($scope.table.getCol($scope.row,$scope.name)!=undefined){if($scope.table.getCol($scope.row,$scope.name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");return text;}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}})}}});wliu_table.directive("tree.checkdiag1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" wliu-diag maskable ',tree_scope,'>','<div wliu-diag-head>{{ title }}</div>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','<li ng-repeat="vObj in valueArr(table.lists[name].keys.guid, table.lists[name].keys.name)">','{{ vObj.value }}','</li>','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',tree_ng_options,'/>','<a class="wliu-btn16 wliu-btn16-checkall" ng-click="checkall(table.lists[name].keys.guid, table.lists[name].keys.name)" title="check all"  ng-show="bar==1"></a>','<a class="wliu-btn16 wliu-btn16-removeall" ng-click="removeall(table.lists[name].keys.guid, table.lists[name].keys.name)" title="remove all"  ng-show="bar==1"></a>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-body" style="font-size:14px;">','<span ','ng-repeat="rdObj in table.lists[name].list|filter:search">','<span class="checkbox">','<input type="checkbox" id="{{table.scope}}_{{name}}_{{rdObj.key}}" ','ng-model="table.getCol(table.lists[name].keys.guid, table.lists[name].keys.name).value[rdObj.key]" ng-value="rdObj.key"  ','ng-change="table.changeCol(table.lists[name].keys.guid, table.lists[name].keys.name)" ','ng-disabled="table.getCol(table.lists[name].keys.guid, table.lists[name].keys.name)==undefined" ',tree_scope,'/>','<label for="{{table.scope}}_{{name}}_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.lists[$scope.name].keys=$scope.table.lists[$scope.name].keys||{};$scope.checkall=function(guid,name){$scope.table.getCol(guid,name).value=$scope.table.getCol(guid,name).value||{};for(var key in $scope.table.lists[$scope.name].list){$scope.table.getCol(guid,name).value[$scope.table.lists[$scope.name].list[key].key]=true;}
$scope.table.changeCol(guid,name);}
$scope.removeall=function(guid,name){$scope.table.getCol(guid,name).value={};$scope.table.changeCol(guid,name);}
$scope.valueArr=function(guid,name){var valueArr=$.map($scope.table.lists[$scope.name].list,function(n){if($scope.table.getCol(guid,name)!=undefined){if($scope.table.getCol(guid,name).value[n.key])
return n;else
return null;}else{return null;}});return valueArr;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_table.directive("tree.radio1",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<input  type="text" readonly class="wliuCommon-radiolist" value="{{ valueText() }}" ','ng-click="change(row, name)" ','diag-target="#{{table.colMeta(row, name).targetid}}" diag-toggle="click" ','popup-target="#table_rowno_tooltip" popup-placement="down" popup-toggle="hover" popup-body="{{table.getCol(row, name).errorCode?table.getCol(row, name).errorMessage.nl2br():valueText()?valueText():table.colMeta(row, name).coldesc?table.colMeta(row, name).coldesc:table.colMeta(row, name).colname}}" ',tree_scope,tree_ng_class,tree_ng_disabled,'/>'].join(''),controller:function($scope){$scope.table.error_tooltip="table_rowno_tooltip";$scope.table.colList($scope.row,$scope.name).keys=$scope.table.colList($scope.row,$scope.name).keys||{};$scope.change=function(row,name){$scope.table.colList(row,name).keys.guid=row;$scope.table.colList(row,name).keys.name=name;}
$scope.valueText=function(){var val=$scope.table.getCol($scope.row,$scope.name)?$scope.table.getCol($scope.row,$scope.name).value:"";var valText=FCOLLECT.firstByKV($scope.table.colList($scope.row,$scope.name).list,{key:val})?FCOLLECT.firstByKV($scope.table.colList($scope.row,$scope.name).list,{key:val}).value:"";return valText;}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}})}}});wliu_table.directive("tree.radiodiag1",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",colnum:"@",bar:"@",title:"@"},template:['<div id="{{targetid}}" wliu-diag maskable ',tree_scope,'>','<div wliu-diag-head>{{ title }}</div>','<a class="wliu-btn16 wliu-btn16-selectlist" ng-show="bar==1">','<div class="wliu-selectlist">','<div class="wliu-selectlist-title info-color text-center">SELECTED</div>','<ul class="wliu-selectlist-content">','{{ valueText(table.lists[name].keys.guid, table.lists[name].keys.name) }}','</ul>','</div>','</a>','<input type="text" class="wliuCommon-search" ng-model="search" ng-show="bar==1" ',tree_ng_options,'/>','<div class="wliu-underline" ng-show="bar==1"></div>','<div class="wliu-diag-body" style="font-size:14px;">','<span ','ng-repeat="rdObj in table.lists[name].list|filter:search">','<span class="radio">','<input type="radio" name="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}" id="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}_{{rdObj.key}}" ','ng-model="table.getCol(table.lists[name].keys.guid, table.lists[name].keys.name).value" ng-value="rdObj.key"  ','ng-change="table.changeCol(table.lists[name].keys.guid, table.lists[name].keys.name)" ','ng-disabled="table.getCol(table.lists[name].keys.guid, table.lists[name].keys.name)==undefined" ',tree_scope,'/>','<label for="{{table.scope}}_{{name}}_{{table.lists[name].keys.name}}_{{rdObj.key}}" title="{{rdObj.desc?rdObj.desc:rdObj.value}}">','{{ rdObj.value }}','</label>','</span>','<br ng-if="colnum>0?(($index+1)%colnum)==0:false" />','</span>','</div>','</div>'].join(''),controller:function($scope){$scope.table.lists[$scope.name].keys=$scope.table.lists[$scope.name].keys||{};$scope.valueText=function(guid,name){var val=$scope.table.getCol(guid,name)?$scope.table.getCol(guid,name).value:"";var valueText=FCOLLECT.firstByKV($scope.table.lists[$scope.name].list,{key:val})?FCOLLECT.firstByKV($scope.table.lists[$scope.name].list,{key:val}).value:"";return valueText;}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_table.directive("tree.hicon",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",rows:"=",row:"@",name:"@",xsize:"@",actname:"@",action:"&"},template:['<span>','<a name="{{name}}" treebutton class="wliu-btn{{xsize}} wliu-btn{{xsize}}-{{name}}" ','ng-click="action1()" ','popup-target="{{table.tooltip?\'#\'+table.tooltip:\'\'}}" popup-toggle="hover" popup-body="{{actname?actname:name}}" popup-placement="down" ','title="{{table.tooltip?\'\':actname?actname:name}}" ',tree_scope,'>','</a>','</span>'].join(''),controller:function($scope){$scope.xsize=$scope.xsize?$scope.xsize:16;$scope.action1=function(){switch($scope.name.toLowerCase()){case"add":$scope.table.addChild($scope.rows,$scope.row);break;}
$scope.action();};},link:function(sc,el,attr){}}});wliu_table.directive("tree.blink",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",rows:"=",row:"=",name:"@",actname:"@",action:"&"},template:['<span>','<a name="{{name}}" treebutton href="javascript:void(0);" class="wliuCommon-table-btn16" ','ng-click="action1()" ','ng-if="buttonState(name, table.getRow(row).rowstate)" ','title="{{table.colMeta(row, name).coldesc?table.colMeta(row, name).coldesc:table.colMeta(row, name).colname}}"',tree_scope,'>','<i class="wliu-btn16 wliu-btn16-{{name}}"></i> ','<span style="vertical-align:middle;">{{actname}}</span>','</a>','</span>'].join(''),controller:function($scope){$scope.action1=function(){switch($scope.name.toLowerCase()){case"detail":$scope.table.current=theRow;break;case"save":$scope.table.saveRow($scope.rows,$scope.row);break;case"cancel":$scope.table.cancelRow($scope.rows,$scope.row);break;case"add":$scope.table.addChild($scope.rows,$scope.row);break;case"delete":$scope.table.deleteRow($scope.rows,$scope.row);break;}
$scope.action();};$scope.buttonState=function(name,rowstate){var right=$scope.table.rights?(parseInt($scope.table.rights[name])?true:false):false;var rightDelete=$scope.name.toLowerCase()=="delete"?($scope.row.rows?($scope.row.rows.length>0?false:true):true):true;right=right&&rightDelete;return wliuTableService.buttonState(name,rowstate)&&right;};},link:function(sc,el,attr){}}});wliu_table.directive("tree.bicon",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",rows:"=",row:"=",name:"@",xsize:"@",actname:"@",action:"&"},template:['<span>','<a name="{{name}}" treebutton class="wliu-btn{{xsize}} wliu-btn{{xsize}}-{{name}}" ','ng-click="action1()" ','ng-if="buttonState(name, table.getRow(row).rowstate)" ','popup-target="{{table.tooltip?\'#\'+table.tooltip:\'\'}}" popup-toggle="hover" popup-body="{{actname?actname:name}}" popup-placement="down" ','title="{{table.tooltip?\'\':actname?actname:name}}" ',tree_scope,'>','</a>','</span>'].join(''),controller:function($scope){$scope.xsize=$scope.xsize?$scope.xsize:16;$scope.action1=function(){switch($scope.name.toLowerCase()){case"detail":$scope.table.current=$scope.row;break;case"save":$scope.table.saveRow($scope.rows,$scope.row);break;case"cancel":$scope.table.cancelRow($scope.rows,$scope.row);break;case"add":$scope.table.addChild($scope.rows,$scope.row);break;case"delete":$scope.table.deleteRow($scope.rows,$scope.row);break;}
$scope.action();};$scope.buttonState=function(name,rowstate){var right=$scope.table.rights?(parseInt($scope.table.rights[name])?true:false):false;var rightDelete=$scope.name.toLowerCase()=="delete"?($scope.row.rows?($scope.row.rows.length>0?false:true):true):true;right=right&&rightDelete;return wliuTableService.buttonState(name,rowstate)&&right;};},link:function(sc,el,attr){}}});wliu_table.directive("tree.btext",function(wliuTableService){return{restrict:"E",replace:true,scope:{table:"=",rows:"=",row:"=",name:"@",actname:"@",action:"&"},template:['<span>','<a name="{{name}}" treebutton href="javascript:void(0)" class="wliu-table-button" ','title="{{actname?actname:name}}" ','ng-click="action1()" ','ng-if="buttonState(name, table.getRow(row).rowstate)" ',tree_scope,'>','{{actname?actname:name.capital()}}','</a>','</span>'].join(''),controller:function($scope){$scope.action1=function(){switch($scope.name.toLowerCase()){case"detail":$scope.table.current=$scope.row;break;case"save":$scope.table.saveRow($scope.rows,$scope.row);break;case"cancel":$scope.table.cancelRow($scope.rows,$scope.row);break;case"add":$scope.table.addChild($scope.rows,$scope.row);break;case"delete":$scope.table.deleteRow($scope.rows,$scope.row);break;}
$scope.action();};$scope.buttonState=function(name,rowstate){var right=$scope.table.rights?(parseInt($scope.table.rights[name])?true:false):false;var rightDelete=$scope.name.toLowerCase()=="delete"?($scope.row.rows?($scope.row.rows.length>0?false:true):true):true;right=right&&rightDelete;return wliuTableService.buttonState(name,rowstate)&&right;};},link:function(sc,el,attr){}}});
wliu_table.directive("table.list",function(){return{restrict:"E",replace:true,scope:{table:"=",action:"&",searchcol:"@",displaycol:"@",title:"@"},template:['<div class="card z-depth-1" style="min-width:260px;">','<div class="card-header info-color text-center white-text">','<strong>{{title}}</strong>','</div>','<div class="card-header text-left" style="padding:0px; background-color:#ffffff;">','<div style="padding:2px 5px;">','<filter.textbox class="input-medium" table="table" name="list_search" ng-if="searchcol"></filter.textbox>','<table.order table="table" class="pull-right" xsize="24"><table.order>','</div>','<div style="padding:0px 5px;">','<table.navi1 table="table"></table.navi1>','</div>','</div>','<div class="card-block" style="padding:0px;">','<ul class="list-group wliuCommon-list-group">','<li class="list-group-item" ','ng-class="{\'active\': table.getCurrent().guid==row.guid}" ','ng-repeat="row in table.rows" ','ng-click="action1(row)" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" ','popup-body="{{ tipText(row) }}"','>','<a class="wliu-btn16 wliu-btn16-error-help"  ng-if="row.error.errorCode" ','popup-target="#table_rowno_tooltip" popup-toggle="hover" ','popup-body="{{row.error.errorCode?row.error.errorMessage.nl2br():\'\'}}" ','>','</a>','<span ng-if="row.error.errorCode==0 && row.rowstate==0" title="Series Number">{{ ($index-0) + 1 }}.</span>','<a class="wliu-btn16 wliu-btn16-rowstate-save"     ng-if="row.error.errorCode==0 && row.rowstate==1"   title="Changed"></a>','<a class="wliu-btn16 wliu-btn16-rowstate-add"      ng-if="row.error.errorCode==0 && row.rowstate==2"   title="New"></a>','<a class="wliu-btn16 wliu-btn16-rowstate-delete"   ng-if="row.error.errorCode==0 && row.rowstate==3"   title="Deleted"></a>','&nbsp;','<span style="display:none;" ng-repeat-start="pcol in table.cols"></span>','<span ng-switch on="pcol.coltype">','<table.custom   ng-switch-when="custom"  table="table" row="row" name="{{pcol.name}}"></tree.table>','</span>','<span style="display:none;" ng-repeat-end></span>','</li>','</ul>','</div>','</div>'].join(''),controller:function($scope,$sce){$scope.table.error_tooltip="table_rowno_tooltip";if($scope.searchcol){var filter1=new WLIU.FILTER({name:"list_search",coltype:"textbox",cols:$scope.searchcol,colname:"list_search",coldesc:"Search"});var filters=[];filters.push(filter1);$scope.table.filters=filters;}
$scope.keypress=function(ev){if(ev.keyCode==13){$scope.table.getRows();}}
$scope.action1=function(theRow){$scope.table.current=theRow.guid;$scope.action();}
$scope.tipText=function(row){var ret_val='';if($scope.displaycol&&$scope.displaycol!=""){var cols=$scope.displaycol.split(",");for(var cidx in cols){var colName=(''+cols[cidx]).trim();var colMeta=$scope.table.colMeta(colName);if(colMeta){ret_val+='<label title="'+colMeta.coldesc+'" style="font-size:0.8em;color:blue;">'+colMeta.colname+'</label>: ';switch((""+colMeta.coltype).toLowerCase()){case"select":ret_val+='<span style="color:#000000;">';ret_val+=$scope.selectText(row,colName);ret_val+='</span>';ret_val+="<br>";break;case"checkbox":case"checkbox1":ret_val+='<span style="color:#000000;">';ret_val+=$scope.checkText1(row,colName);ret_val+='</span>';ret_val+="<br>";break;case"checkbox2":ret_val+='<span style="color:#000000;">';ret_val+=$scope.checkText2(row,colName);ret_val+='</span>';ret_val+="<br>";break;case"checkbox3":ret_val+='<span style="color:#000000;">';ret_val+=$scope.checkText3(row,colName);ret_val+='</span>';ret_val+="<br>";break;case"datetime":ret_val+='<span style="color:#000000;">';ret_val+=FCOM.array2Datetime($scope.table.getCol(row,colName).value);ret_val+='</span>';ret_val+="<br>";break;case"intdate":ret_val+='<span style="color:#000000;">';if($scope.table.getCol(row,colName).value)ret_val+=(''+$scope.table.getCol(row,colName).value).intDate();ret_val+='</span>';ret_val+="<br>";break;case"password":case"passpair":ret_val+='';ret_val+="<br>";break;case"bool":ret_val+='<span style="color:#000000;">';ret_val+=$scope.table.getCol(row,colName).value?"Yes":"No";ret_val+='</span>';ret_val+="<br>";break;default:ret_val+='<span style="color:#000000;">';ret_val+=$scope.table.getCol(row,colName).value;ret_val+='</span>';ret_val+="<br>";break;}}}}
return ret_val;}
$scope.selectText=function(row,name){var text=$.map($scope.table.colList(name).list,function(n){if($scope.table.getCol(row,name)!=undefined){if($scope.table.getCol(row,name).value==n.key)
return n.value;else
return null;}else{return null;}}).join("; ");return text;},$scope.checkText1=function(row,name){var text=$.map($scope.table.colList(name).list,function(n){if($scope.table.getCol(row,name)!=undefined){if($scope.table.getCol(row,name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");return text;},$scope.checkText2=function(row,name){var ret_text="";for(var key in $scope.table.colList(name).list){var dList=$scope.table.colList(name).list[key].list;var text=$.map(dList,function(n){if($scope.table.getCol(row,name)!=undefined){if($scope.table.getCol(row,name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=(ret_text?";":"")+text;}
return ret_text;}
$scope.checkText3=function(row,name){var ret_text="";for(var key in $scope.table.colList(name).list){var dList=$scope.table.colList(name).list[key].list;for(var pkey in dList){var pList=dList[pkey].list;var text=$.map(pList,function(n){if($scope.table.getCol(row,name)!=undefined){if($scope.table.getCol(row,name).value[n.key])
return n.value;else
return null;}else{return null;}}).join("; ");ret_text+=(ret_text?";":"")+text;}}
return ret_text;}},link:function(sc,el,attr){$(function(){if($("#"+sc.table.error_tooltip).length<=0){$("body").append('<div id="'+sc.table.error_tooltip+'" wliu-popup></div>');$("#"+sc.table.error_tooltip).wliuPopup();}})}}});wliu_table.directive("table.custom",function(){return{restrict:"E",replace:true,scope:{table:"=",row:"=",name:"@"},template:['<span ng-bind-html="valueText()"></span>'].join(''),controller:function($scope,$sce){$scope.valueText=function(){var ret_val=FCOM.colreplace($scope.table.colMeta($scope.name).colname,$scope.row.cols);return $sce.trustAsHtml(ret_val);}},link:function(sc,el,attr){}}});
var wliu_file=angular.module("wliuFile",[]);wliu_file.directive("file.list",function(){return{restrict:"E",replace:true,scope:{filelist:"=",tooltip:"@",actname:"@",namemax:"@"},template:['<ul style="display:inline-block;">','<li ng-repeat="fileObj in filelist.rows" style="text-decoration:underline;">','<a href="{{fileObj.url?fileObj.url:\'javascript:void(0);\'}}" target="_blank" ','popup-target="#filelist_common_tooltip" popup-placement="down" popup-toggle="hover" popup-body="{{ fileObj.title_en.join(\'<br>\',fileObj.detail_en).join(\'<br>\',fileObj.title_cn).join(\'<br>\',fileObj.detail_cn)  }}" ','>','{{$index+1}}. {{(\'\'+fileObj.full_name).subName(namemax)}}','</a>','<a class="wliu-btn16 wliu-btn16-notes" ng-click="textFile(fileObj)" style="margin-left:10px;" ','popup-target="#filelist_common_tooltip" popup-placement="down" popup-toggle="hover" popup-body="File Comments" ','>','</a>','<a class="wliu-btn16 wliu-btn16-img-print" ng-click="printFile(fileObj)" style="margin-left:2px;" ','popup-target="#filelist_common_tooltip" popup-placement="down" popup-toggle="hover" popup-body="Print File" ','>','<a class="wliu-btn16 wliu-btn16-dispose" ng-click="deleteFile(fileObj)" style="margin-left:2px;" ','popup-target="#filelist_common_tooltip" popup-placement="down" popup-toggle="hover" popup-body="Delete File" ','>','</a>','</li>','<li ng-if="filelist.rows.length<filelist.config.max_length && filelist.config.mode==\'edit\'">','<div class="btn btn-default" style="display:inline-block;position:relative;text-transform:none;overflow:hidden;height:20px;line-height:20px;padding:2px 8px;">','<a class="wliu-btn16 wliu-btn16-upload"></a>','<input type="file" onchange="angular.element(this).scope().selectFile(event);" style="display:block; position:absolute; opacity:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" value="Browse..." />',' {{actname}}','</div>','</li>','</ul>'].join(''),controller:function($scope){$scope.filelist.common_tooltip="filelist_common_tooltip";$scope.actname=$scope.actname?$scope.actname:"Upload File";$scope.namemax=$scope.namemax?parseInt($scope.namemax):20;$scope.selectFile=function(event){var newFile=new WLIU.FILE({guid:guid(),token:guid()});files=(event.srcElement||event.target).files;FFILE.allowSize=parseInt($scope.filelist.config.max_size)>0&&($scope.filelist.config.max_size)<GCONFIG.max_upload_size?parseInt($scope.filelist.config.max_size):GCONFIG.max_upload_size;FFILE.allowType=(""+$scope.filelist.config.allow_type).toArray(",","upper");FFILE.fromFile(newFile,files[0],function(fObj){if(fObj.errorCode){alert(fObj.errorMessage);}else{$scope.filelist.addFile(newFile);}});}
$scope.printFile=function(fileObj){$scope.filelist.printFile(fileObj,function(oFile){if(oFile.data)FFILE.exportDataURL(oFile.data);});}
$scope.textFile=function(fileObj){$scope.filelist.current=fileObj.guid;fileObj.status=fileObj.status=="1"?true:false;$($scope.filelist.infoEditor).trigger("show");}
$scope.deleteFile=function(fileObj){if(confirm("Delete file, are you sure?"))
$scope.filelist.deleteFile(fileObj);}},link:function(sc,el,attr){$(function(){if($("#"+sc.filelist.common_tooltip).length<=0){$("body").append('<div id="'+sc.filelist.common_tooltip+'" wliu-popup></div>');$("#"+sc.filelist.common_tooltip).wliuPopup();}});}}});wliu_file.directive("file.info",function(){return{restrict:"E",replace:true,scope:{filelist:"=",targetid:"@"},template:['<div id="{{targetid}}" wliu-diag movable maskable fade>','<div wliu-diag-head>Image Information</div>','<div wliu-diag-body style="width:400px;">','<div class="row">','<div class="col-md-3 text-md-right">','<span class="wliuCommon-label">Title-EN</span>','</div>','<div class="col-md-9 text-md-left">','<input type="textbox" ng-model="filelist.getCurrent().title_en" style="width:100%;" />','</div>','</div>','<div class="row">','<div class="col-md-3 text-md-right">','<span class="wliuCommon-label">Title-CN</span>','</div>','<div class="col-md-9 text-md-left">','<input type="textbox" ng-model="filelist.getCurrent().title_cn" style="width:100%;" />','</div>','</div>','<div class="row">','<div class="col-md-12">','<span class="wliuCommon-label">Description-EN</span><br>','<textarea ng-model="filelist.getCurrent().detail_en" style="width:100%;height:60px;"></textarea>','</div>','</div>','<div class="row">','<div class="col-md-12">','<span class="wliuCommon-label">Description-CN</span><br>','<textarea ng-model="filelist.getCurrent().detail_cn" style="width:100%;height:60px;"></textarea>','</div>','</div>','<div class="row">','<div class="col-md-2 text-md-right">','<span class="wliuCommon-label">Status</span>','</div>','<div class="col-md-4 text-md-left">','<input id="{{targetid}}_status" type="checkbox" ng-model="filelist.getCurrent().status" /> <label for="{{targetid}}_status">Active</label>','</div>','<div class="col-md-4 text-md-right">','<span class="wliuCommon-label">Order</span>','</div>','<div class="col-md-2 text-md-left">','<input type="textbox" ng-model="filelist.getCurrent().orderno" style="width:100%;text-align:center;" />','</div>','</div>','<center>','<button ng-click="save()" title="Save" class="btn btn-lg btn-outline-success waves-effect" ','style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">',' Save','</button>','<button ng-click="close()" title="Close" class="btn btn-lg btn-outline-info waves-effect" ','style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">',' Close','</button>','</center>','</div>','</div>'].join(''),controller:function($scope){$scope.save=function(rowidx){$scope.filelist.saveText($scope.filelist.getCurrent(),{ajaxAfter:function(ofiles){$("#"+$scope.targetid).trigger("hide");}});}
$scope.close=function(){$("#"+$scope.targetid).trigger("hide");}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_file.directive("file.error",function(){return{restrict:"E",replace:true,scope:{filelist:"=",targetid:"@"},template:['<div id="{{targetid}}" wliu-diag movable maskable>','<div wliu-diag-head>Message</div>','<div wliu-diag-body style="font-size:16px;">','<i class="fa fa-exclamation-triangle fa-lg" aria-hidden="true" style="color:red;"></i> <span style="font-size:16px;">We can\'t process submitted data:</span>','<div style="margin-top:12px;" ng-bind-html="getHTML()"></div>','</div>','</div>'].join(''),controller:function($scope,$sce){$scope.getHTML=function(){if($scope.filelist.errorCode)
return $sce.trustAsHtml($scope.filelist.errorMessage.nl2br());else
return $sce.trustAsHtml("");}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();$(el).unbind("errorshow").bind("errorshow",function(evt){if(parseInt(sc.filelist.errorCode)){$(el).trigger("show");}});});}}});
var wliu_image=angular.module("wliuImage",[]);wliu_image.directive("image.pickup",function(){return{restrict:"E",replace:true,scope:{imgobj:"=",targetid:"@",xsize:"@",actname:"@",action:"&",tooltip:"@",view:"@"},template:['<div class="btn btn-outline-info waves-effect" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;">','<a class="wliu-btn{{xsize}} wliu-btn{{xsize}}-upload"></a>','<input type="file" onchange="angular.element(this).scope().selectFile(event);" style="display:block; position:absolute; opacity:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" value="Browse..." />',' {{actname}}</div>'].join(''),controller:function($scope){$scope.xsize=$scope.xsize?$scope.xsize:16;$scope.view=$scope.view?$scope.view:"medium";$scope.selectFile=function(event){files=(event.srcElement||event.target).files;FIMAGE.view=$scope.view;FIMAGE.fromFile($scope.imgobj,files[0],function(fObj){if(fObj.errorCode){alert(fObj.errorMessage);}else{$scope.action();if($scope.targetid)$("#"+$scope.targetid).trigger("show");$scope.$apply();}});}},link:function(sc,el,attr){}}});wliu_image.directive("image.upload",function(){return{restrict:"E",replace:true,scope:{imgobj:"=",targetid:"@",xsize:"@",actname:"@",action:"&",tooltip:"@",view:"@",ww:"@",hh:"@"},template:['<div style="display:inline-block;text-align:center;border:1px solid #cccccc;border-radius:5px;">','<div class="btn btn-outline-info waves-effect" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;">','<a class="wliu-btn{{xsize}} wliu-btn{{xsize}}-upload"></a>','<input type="file" onchange="angular.element(this).scope().selectFile(event);" style="display:block; position:absolute; opacity:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" value="Browse..." />',' {{actname}}','</div>','<div style="display:block;width:{{ww}}px;min-height:{{hh}}px;text-align:center;border-top:1px solid #cccccc;">','<img class="img-responsive" width="100%" src="{{ imgobj.resize[view].data?imgobj.resize[view].data:\'\' }}" />','</div>','</div>'].join(''),controller:function($scope){$scope.ww=$scope.ww?$scope.ww:200;$scope.hh=$scope.hh?$scope.hh:120;$scope.xsize=$scope.xsize?$scope.xsize:16;$scope.view=$scope.view?$scope.view:"medium";$scope.selectFile=function(event){files=(event.srcElement||event.target).files;FIMAGE.view=$scope.view;FIMAGE.fromFile($scope.imgobj,files[0],function(fObj){if(fObj.errorCode){alert(fObj.errorMessage);}else{$scope.action();if($scope.targetid){$("#"+$scope.targetid).trigger("show");FIMAGE.cropDivReset($("div.wliu-image-crop","#"+$scope.targetid));}
$scope.$apply();}});}},link:function(sc,el,attr){}}});wliu_image.directive("image.list",function(){return{restrict:"E",replace:true,scope:{imglist:"=",ww:"@",hh:"@",view:"@",text:"@",tooltip:"@"},template:['<div style="display:block;position:relative;padding:2px;" imglist targetid="{{targetid}}" viewerid="{{viewerid}}">','<!---- img box ------------------------------------------------------------------------------------------------>','<div style="display:inline-block;position:relative;margin:2px 4px;overflow:hidden;" imgid="{{imgObj.id}}" class="image-item" ','ng-repeat="imgObj in imglist.rows"','>','<span ng-if="imglist.config.mode==\'edit\'">','<span style="position:absolute;color:red;margin-top:3px;margin-left:60px">{{imgObj.orderno}}</span>','<a class="wliu-btn24 wliu-btn24-img-print" ng-click="printImage(imgObj)" style="position:absolute; margin-top:3px;margin-left:3px;opacity:0.8;" ','popup-target="#imglist_common_tooltip" popup-placement="down" popup-toggle="hover" popup-body="Print Image" ','>','</a>','<a class="wliu-btn24 wliu-btn24-comments" ng-click="textImage(imgObj)" style="position:absolute; margin-top:3px;margin-left:30px;opacity:0.8;" ','popup-target="#imglist_common_tooltip" popup-placement="down" popup-toggle="hover" popup-body="Image Comments" ','>','</a>','<a class="wliu-btn24 wliu-btn24-download" ng-if="imgObj.url" href="{{imgObj.url}}" style="position:absolute; margin-top:3px;margin-left:56px;opacity:0.8;" target="_blank" ','popup-target="#imglist_common_tooltip" popup-placement="down" popup-toggle="hover" popup-body="Download Image" ','>','</a>','<a class="wliu-btn24 wliu-btn24-dispose" ng-click="deleteImage(imgObj)" style="position:absolute; right:0px; margin-top:3px;margin-right:3px;opacity:0.8;" ','popup-target="#imglist_common_tooltip" popup-placement="down" popup-toggle="hover" popup-body="Delete Image" ','>','</a>','</span>','<div style="display:table;">','<div style="display:table-cell;vertical-align:middle;text-align:center;width:{{ww}}px;height:{{hh}}px;box-sizing:content-box;border:1px solid #cccccc;border-radius:5px;" class="img-content wliu-background-1">','<img class="img-responsive" width="100%" ng-click="clickImage(imgObj)" onload="imageAutoFix(this)" ww="{{ww}}" hh="{{hh}}" style="cursor:pointer;" src="{{imglist.thumbImageData(imgObj)}}" title="click to view image" />','</div>','</div>','<div ng-if="text" style="display:block;text-align:center;width:{{ww}}px;padding-top:6px;height:16px;line-height:16px;box-sizing:content-box;font-size:14px;cursor:pointer;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;" class="image-detail-tooltips" ','popup-target="{{detailTips}}" popup-placement="up" popup-toggle="hover" popup-body="{{displayDetail(imgObj)}}" targetid="{{detailTipsID}}" ','>','{{displayTitle(imgObj)}}','</div>','</div>','<div ng-if="imglist.rows.length<imglist.config.max_length && imglist.config.mode==\'edit\'" style="display:inline-block;position:relative;margin:2px 4px;overflow:hidden;">','<div style="display:table;">','<div style="display:table-cell;vertical-align:middle;text-align:center;width:{{ww}}px;height:{{hh}}px;box-sizing:content-box;border:1px solid #cccccc;border-radius:5px;font-size:18px;font-weight:700;color:#666666" class="wliu-background-1">','<input type="file" style="display:block; position:absolute; opacity:0;top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" value="Browse..." ','onchange="angular.element(this).scope().selectFile(event);" />','Add Image','</div>','</div>','<div ng-if="text" style="display:block;text-align:center;height:20px;">&nbsp;</div>','</div>','<!---// img box ---------------------------------------------------------------------------------------------->','<div ng-if="text" id="{{detailTipsID}}" wliu-popup image-popup disposable></div>','</div>'].join(''),controller:function($scope){$scope.imglist.common_tooltip="imglist_common_tooltip";$scope.detailTipsID=$scope.imglist.scope+"_"+guid();$scope.detailTips="#"+$scope.detailTipsID;$scope.ww=$scope.ww?$scope.ww:"100";$scope.hh=$scope.hh?$scope.hh:"100";$scope.displayTitle=function(imgObj){return imgObj["title_"+$scope.imglist.lang];}
$scope.displayDetail=function(imgObj){var detail_str=imgObj["title_"+$scope.imglist.lang]?"<center>"+imgObj["title_"+$scope.imglist.lang]+"</center>":"";detail_str=detail_str.join("<hr>",imgObj["detail_"+$scope.imglist.lang]?imgObj["detail_"+$scope.imglist.lang].nl2br():"");return detail_str;}
$scope.selectFile=function(event){var newImg=new WLIU.IMAGE({guid:guid(),token:guid()});files=(event.srcElement||event.target).files;var view=$scope.imglist.config.thumb?$scope.imglist.config.thumb:"tiny";FIMAGE.view=view;FIMAGE.allowSize=parseInt($scope.imglist.config.max_size)>0&&($scope.imglist.config.max_size)<GCONFIG.max_upload_size?parseInt($scope.imglist.config.max_size):GCONFIG.max_upload_size;FIMAGE.allowType=(""+$scope.imglist.config.allow_type).toArray(",","upper");FIMAGE.fromFile(newImg,files[0],null,function(fObj){if(fObj.errorCode){alert(fObj.errorMessage);}else{$scope.imglist.addImage(newImg);}});}
$scope.printImage=function(imgObj){FFILE.exportDataURL($scope.imglist.viewImageData(imgObj));}
$scope.clickImage=function(imgObj){if($scope.view){$scope.imglist.current=imgObj.guid;if($scope.imglist.config.mode=="edit"){$($scope.imglist.imgEditor).trigger("ishow");}else{$($scope.imglist.imgViewer).trigger("ishow");}}}
$scope.textImage=function(imgObj){$scope.imglist.current=imgObj.guid;imgObj.status=imgObj.status=="1"?true:false;$($scope.imglist.infoEditor).trigger("show");}
$scope.deleteImage=function(imgObj){if(confirm("Delete image, are you sure?"))
$scope.imglist.deleteImage(imgObj);}},link:function(sc,el,attr){$(function(){if($("#"+sc.imglist.common_tooltip).length<=0){$("body").append('<div id="'+sc.imglist.common_tooltip+'" wliu-popup></div>');$("#"+sc.imglist.common_tooltip).wliuPopup();}
$("body > div[image-popup][disposable]").each(function(img_idx,img_detail){if($("div.image-detail-tooltips[targetid='"+$(img_detail).attr("id")+"']").length<=0)$(img_detail).remove();});$("body>"+sc.detailTips).remove();$(sc.detailTips).appendTo("body");$(sc.detailTips).wliuPopup({});});}}});wliu_image.directive("image.editor",function(){return{restrict:"E",replace:true,scope:{imglist:"=",targetid:"@",title:"@",view:"@",ww:"@",hh:"@"},template:['<div id="{{targetid}}" wliu-diag movable maskable fade>','<div wliu-diag-head>{{title}}</div>','<div wliu-diag-body>','<div ng-if="imglist.getCurrent().errorCode">','{{imglist.getCurrent().errorMessage}}','</div>','<div ng-if="!imglist.getCurrent().errorCode">','<div style="min-height:300px;">','<div class="wliu-image-frame" style="position:relative;">','<img class="img-responsive" width="100%" ww="{{ww}}" hh="{{hh}}" style="cursor:pointer;" src="{{ imglist.currentViewData() }}" />','<div class="wliu-image-crop">','<div class="wliu-image-crop-h"></div>','<div class="wliu-image-crop-v"></div>','</div>','</div>','</div>','<div style="text-align:center;">','<button ng-click="reset()" title="Restore Image" class="btn btn-outline-success waves-effect pull-right {{ imglist.currentViewData()?\'\':\'disabled\' }}" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">','<a class="wliu-btn16 wliu-btn16-restore"></a>',' Reset</button>','<button ng-click="crop()" title="Crop Image" class="btn btn-outline-primary waves-effect pull-right {{ imglist.currentViewData()?\'\':\'disabled\' }}" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">','<a class="wliu-btn16 wliu-btn16-crop"></a>',' Crop</button>','<button ng-click="rotate()" title="Rotate Image" class="btn btn-outline-primary waves-effect pull-right {{ imglist.currentViewData()?\'\':\'disabled\' }}" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">','<a class="wliu-btn16 wliu-btn16-rotate-right"></a>',' Rotate</button>','<button ng-click="save()" title="Upload Image" class="btn btn-outline-secondary pull-left waves-effect {{ imglist.currentViewData()?\'\':\'disabled\' }}" style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">','<a class="wliu-btn16 wliu-btn16-okey"></a>',' Save</button>','</div>','</div>','</div>','</div>'].join(''),controller:function($scope){$scope.title=$scope.title?$scope.title:"Image Editor";$scope.ww=$scope.ww?$scope.ww:"400";$scope.rotate=function(){var view=$scope.imglist.config.view?$scope.imglist.config.view:"medium";FIMAGE.view=view;FIMAGE.rotate($scope.imglist.getCurrent(),null,function(oImg){$scope.$apply();$scope.imglist.sc.$apply();$("#"+$scope.targetid).trigger("ishow");});}
$scope.crop=function(){var view=$scope.imglist.config.view?$scope.imglist.config.view:"medium";FIMAGE.view=view;FIMAGE.cropDiv($scope.imglist.getCurrent(),$("div.wliu-image-frame","#"+$scope.targetid),$("div.wliu-image-crop","#"+$scope.targetid),null,function(oImg){$scope.$apply();$scope.imglist.sc.$apply();$("#"+$scope.targetid).trigger("ishow");});}
$scope.reset=function(){var view=$scope.imglist.config.view?$scope.imglist.config.view:"medium";FIMAGE.view=view;FIMAGE.cropReset($scope.imglist.getCurrent(),null,function(oImg){$scope.$apply();$scope.imglist.sc.$apply();$("#"+$scope.targetid).trigger("ishow");});}
$scope.save=function(){$scope.imglist.saveImage($scope.imglist.getCurrent(),function(){$("#"+$scope.targetid).trigger("hide");});}
$scope.dispose=function(){$scope.reset();$("#"+$scope.targetid).trigger("hide");}},link:function(sc,el,attr){$(function(){$(el).wliuDiag({});$(el).unbind("ishow").bind("ishow",function(evt){$(el).trigger("show");FIMAGE.cropDivReset($("div.wliu-image-crop",el));var click_flag=true;$("img",el).unbind("load").bind("load",function(ev){var img=ev.target;var i_ww=img.naturalWidth;var i_hh=img.naturalHeight;var img_rate=i_hh/i_ww;var c_ww=400;var c_hh=400;if(parseInt($(img).attr("ww"))&&parseInt($(img).attr("hh"))){c_ww=parseInt($(img).attr("ww"));c_hh=parseInt($(img).attr("hh"));}else if(parseInt($(img).attr("ww"))){c_ww=parseInt($(img).attr("ww"));c_hh=c_ww*img_rate;}else if(parseInt($(img).attr("hh"))){c_hh=parseInt($(img).attr("hh"));c_ww=c_hh/img_rate;}
if(!c_ww&&!c_hh){$(img).css("width","100%");}else{$(img).css("width","");if(c_ww&&c_hh){var rate_ww=1;var rate_hh=1;rate_ww=c_ww/img.naturalWidth;rate_hh=c_hh/img.naturalHeight;var rate=Math.min(rate_ww,rate_hh);if(rate<1){if(rate_ww<rate_hh){i_ww=c_ww;i_hh=c_ww*img_rate;}else{i_hh=c_hh;i_ww=c_hh/img_rate;}}}else if(sc.ww){i_ww=c_ww;i_hh=c_ww*img_rate;}else if(sc.hh){i_hh=c_hh;i_ww=c_hh/img_rate;img.width=i_ww;img.height=i_hh;}}
img.width=i_ww;img.height=i_hh;if(click_flag){click_flag=false;$(el).trigger("show");FIMAGE.cropDivReset($("div.wliu-image-crop",el));}});});var ratio=0;if(sc.ww&&sc.hh){var ratio=parseInt(sc.ww)/parseInt(sc.hh);}
$("div.wliu-image-crop",el).draggable({containment:"parent"});$("div.wliu-image-crop",el).resizable({aspectRatio:ratio,containment:"parent"});});}}});wliu_image.directive("image.info",function(){return{restrict:"E",replace:true,scope:{imglist:"=",targetid:"@"},template:['<div id="{{targetid}}" wliu-diag movable maskable fade>','<div wliu-diag-head>Image Information</div>','<div wliu-diag-body border style="width:400px;">','<div class="row">','<div class="col-md-12">','<span class="wliuCommon-label">Title-EN</span><br>','<input type="textbox" ng-model="imglist.getCurrent().title_en" style="width:100%;" />','</div>','</div>','<div class="row">','<div class="col-md-12">','<span class="wliuCommon-label">Description-EN</span><br>','<textarea ng-model="imglist.getCurrent().detail_en" style="width:100%;height:60px;"></textarea>','</div>','</div>','<div class="row">','<div class="col-md-12">','<span class="wliuCommon-label">Title-CN</span><br>','<input type="textbox" ng-model="imglist.getCurrent().title_cn" style="width:100%;" />','</div>','</div>','<div class="row">','<div class="col-md-12">','<span class="wliuCommon-label">Description-CN</span><br>','<textarea ng-model="imglist.getCurrent().detail_cn" style="width:100%;height:60px;"></textarea>','</div>','</div>','<div class="row">','<div class="col-md-2 text-md-right">','<span class="wliuCommon-label">Status</span>','</div>','<div class="col-md-4 text-md-left">','<input id="{{targetid}}_status" type="checkbox" ng-model="imglist.getCurrent().status" /> <label for="{{targetid}}_status">Active</label>','</div>','<div class="col-md-4 text-md-right">','<span class="wliuCommon-label">Order</span>','</div>','<div class="col-md-2 text-md-left">','<input type="textbox" ng-model="imglist.getCurrent().orderno" style="width:100%;text-align:center;" />','</div>','</div>','<center>','<button ng-click="save()" title="Save" class="btn btn-lg btn-outline-success waves-effect" ','style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">',' Save','</button>','<button ng-click="close()" title="Close" class="btn btn-lg btn-outline-info waves-effect" ','style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">',' Close','</button>','</center>','</div>','</div>'].join(''),controller:function($scope){$scope.save=function(){$scope.imglist.saveText($scope.imglist.getCurrent(),{ajaxAfter:function(oImg){$("#"+$scope.targetid).trigger("hide");}});}
$scope.close=function(){$("#"+$scope.targetid).trigger("hide");}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();});}}});wliu_image.directive("image.viewer",function(){return{restrict:"E",replace:true,scope:{imglist:"=",targetid:"@",ww:"@",hh:"@"},template:['<div id="{{targetid}}" wliu-diag maskable fade>','<a class="wliu-btn24 wliu-btn24-nav-left" ng-click="navLeft()" ng-show="imglist.navLeftState()" style="position:absolute;left:2px;opacity:0.6;top:45%;z-index:99;"></a>','<div wliu-diag-body style="text-align:center;">','<img class="img-responsive" width="100%" ww="{{ww}}" hh="{{hh}}" src="{{imglist.currentViewData()}}" />','</div>','<a class="wliu-btn24 wliu-btn24-nav-right" ng-click="navRight()" ng-show="imglist.navRightState()" style="position:absolute;right:2px;opacity:0.6;top:45%;z-index:99;"></a>','</div>'].join(''),controller:function($scope){$scope.ww=$scope.ww?$scope.ww:600;$scope.hh=$scope.hh?$scope.hh:600;$scope.navLeft=function(){$scope.imglist.navLeft(function(oImg){$("#"+$scope.targetid).trigger("ishow");});}
$scope.navRight=function(){$scope.imglist.navRight(function(oImg){$("#"+$scope.targetid).trigger("ishow");});}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();$(el).unbind("ishow").bind("ishow",function(evt){$(el).trigger("show");var click_flag=true;$("img",el).unbind("load").bind("load",function(ev){var img=ev.target;var i_ww=img.naturalWidth;var i_hh=img.naturalHeight;var img_rate=i_hh/i_ww;var c_ww=100;var c_hh=100;if(parseInt($(img).attr("ww"))&&parseInt($(img).attr("hh"))){c_ww=parseInt($(img).attr("ww"));c_hh=parseInt($(img).attr("hh"));}else if(parseInt($(img).attr("ww"))){c_ww=parseInt($(img).attr("ww"));c_hh=c_ww*img_rate;}else if(parseInt($(img).attr("hh"))){c_hh=parseInt($(img).attr("hh"));c_ww=c_hh/img_rate;}
if(!c_ww&&!c_hh){$(img).css("width","100%");}else{$(img).css("width","");if(c_ww&&c_hh){var rate_ww=1;var rate_hh=1;rate_ww=c_ww/img.naturalWidth;rate_hh=c_hh/img.naturalHeight;var rate=Math.min(rate_ww,rate_hh);if(rate<1){if(rate_ww<rate_hh){i_ww=c_ww;i_hh=c_ww*img_rate;}else{i_hh=c_hh;i_ww=c_hh/img_rate;}}}else if(sc.ww){i_ww=c_ww;i_hh=c_ww*img_rate;}else if(sc.hh){i_hh=c_hh;i_ww=c_hh/img_rate;img.width=i_ww;img.height=i_hh;}}
img.width=i_ww;img.height=i_hh;if(click_flag){click_flag=false;$(el).trigger("show");}});});});}}});wliu_image.directive("image.error",function(){return{restrict:"E",replace:true,scope:{imglist:"=",targetid:"@"},template:['<div id="{{targetid}}" wliu-diag movable maskable>','<div wliu-diag-head>Message</div>','<div wliu-diag-body style="font-size:16px;">','<i class="fa fa-exclamation-triangle fa-lg" aria-hidden="true" style="color:red;"></i> <span style="font-size:16px;">We can\'t process submitted data:</span>','<div style="margin-top:12px;" ng-bind-html="getHTML()"></div>','</div>','</div>'].join(''),controller:function($scope,$sce){$scope.getHTML=function(){if($scope.imglist.errorCode)
return $sce.trustAsHtml($scope.imglist.errorMessage.nl2br());else
return $sce.trustAsHtml("");}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();$(el).unbind("errorshow").bind("errorshow",function(evt){if(parseInt(sc.imglist.errorCode)){$(el).trigger("show");}});});}}});wliu_image.directive("image.esign",function(){return{restrict:"E",replace:true,scope:{table:"=",name:"@",targetid:"@",ww:"@",hh:"@"},template:['<div id="{{targetid}}" wliu-diag maskable fade>','<div wliu-diag-body>','<span style="display:block;color:blue;">Please Sign Your Name</span>','<canvas id="can" width="{{ww}}" height={{hh}} style="border:2px solid #666666;"></canvas>','<div style="text-align:center;">','<button ng-click="save()" title="Save" class="btn btn-lg btn-outline-success waves-effect" ','style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">',' Confirm','</button>','<button ng-click="clear()" title="Close" class="btn btn-lg btn-outline-danger waves-effect" ','style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">',' Clear','</button>','<button ng-click="cancel()" title="Close" class="btn btn-lg btn-outline-info waves-effect" ','style="display:inline-block;position:relative;text-transform:none;height:20px;line-height:20px;padding:2px 8px;margin:0px 2px;">',' Cancel','</button>','</div>','</div>','</div>'].join(''),controller:function($scope){$scope.ww=$scope.ww?$scope.ww:640;$scope.hh=$scope.hh?$scope.hh:480;$scope.save=function(){$scope.mycan.save();}
$scope.clear=function(){$scope.mycan.clear();}
$scope.cancel=function(){$scope.clear();$("#"+$scope.targetid).trigger("hide");}},link:function(sc,el,attr){$(function(){$(el).wliuDiag();sc.mycan=new WLIU.CANVAS({canvas:$("canvas",el).get(0)});sc.mycan.init();});}}});
$.fn.extend({wliuDiag:function(opts){var def_settings={offsetto:"",offsetww:0,offsethh:0,top:0,left:0,height:0,width:0,title:"",titleAlign:"center",titleColor:"#33b5e5",maskable:false,movable:false,border:false,fade:false,zIndex:8000};$.extend(def_settings,opts);var mask_ifrm="iframe[wliu-diag-mask]";var mask_div="div[wliu-diag-mask]";var midx=parseInt(def_settings.zIndex);if($(mask_ifrm).length<=0){$("body").append('<iframe wliu-diag-mask style="z-index:'+(midx+1000-2)+';"></iframe>');}
if($(mask_div).length<=0){$("body").append('<div wliu-diag-mask style="z-index:'+(midx+1000-1)+';"></div>');$(mask_div).unbind("click").bind("click",function(evt){if($("*[wliu-diag]:visible").length<=0){$(mask_ifrm).hide();$(mask_div).hide();}else{var max=0;var maxObj=null;$("*[wliu-diag]:visible").filter(function(idx){if(parseInt($(this).css("z-index"))>=max){max=parseInt($(this).css("z-index"));maxObj=$(this)[0];}});$(maxObj).trigger("hide");}});}
return this.each(function(idx,el){if(!$(el).hasAttr("wliu-diag"))$(el).addAttr("wliu-diag");$(el).data("default_settings",def_settings);$(el).data("order",midx);if(def_settings.maskable)$(el).addAttr("maskable",1);if(def_settings.movable)$(el).addAttr("movable",1);if(def_settings.border)$(el).addAttr("border",1);if(def_settings.fade)$(el).addAttr("fade",1);$(el).removeAttr("park");$(el).data("parkTop",0);$(el).data("parkLeft",0);if($(el).hasAttr("border"))$("div[wliu-diag-body]",el).css("border-width","1px");if(def_settings.width>0)$("div[wliu-diag-body]",el).css("width",def_settings.width);if(def_settings.height>0)$("div[wliu-diag-body]",el).css("height",def_settings.height);if(def_settings.top>0)$(el).css("top",def_settings.top);if(def_settings.left>0)$(el).css("left",def_settings.left);if($(el).has("a.wliu-btn16-close").length<=0)$(el).prepend('<a class="wliu-btn16 wliu-btn16-close"></a>');if(def_settings.title!=""){if($(el).has("div[wliu-diag-head]").length<=0)$(el).prepend('<div wliu-diag-head"></div>');$("div[wliu-diag-head]",el).html(def_settings.title);$(el).attr("title","");}
if($("div[wliu-diag-head]",el).length>0){if(def_settings.titleAlign!="")$("div[wliu-diag-head]",el).css("text-align",def_settings.titleAlign);if(def_settings.titleColor!="")$("div[wliu-diag-head]",el).css("background-color",def_settings.titleColor);if(def_settings.width>0)$("div[wliu-diag-head]",el).css("width",def_settings.width);$("a.wliu-btn16-close",el).addClass("wliu-diag-title-close");}
$("a.wliu-btn16-close, input.wliu-diag-close, button.wliu-diag-close, *[wliu-diag-close]",el).unbind("click").bind("click",function(evt){$(el).trigger("hide");evt.preventDefault();evt.stopPropagation();return false;});if($(el).hasAttr("movable")){if($(el).has("div[wliu-diag-head]").length<=0){$(el).prepend('<div wliu-diag-head"></div>');$("a.wliu-btn16-close",el).addClass("wliu-diag-title-close");}
$("div[wliu-diag-head]",el).css("cursor","move");$(el).draggable({handle:$("div[wliu-diag-head]",el),start:function(){},stop:function(){$(el).addAttr("park",1);$(el).data("parkTop",$(el).offset().top);$(el).data("parkLeft",$(el).offset().left);if($(el).offset().top<=0)$(el).offset({top:5});if($(el).offset().left<=0)$(el).offset({left:5});if($(el).offset().top+$(el).outerHeight()>=$(window).scrollTop()+window.innerHeight||$(el).offset().left+$(el).outerWidth()>=$(window).scrollLeft()+window.innerWidth||$(el).data("parkTop")<$(window).scrollTop()||$(el).data("parkLeft")<$(window).scrollLeft()){var el_top=$(window).scrollTop()+(window.innerHeight-20-$(el).outerHeight())/2;var el_left=$(window).scrollLeft()+(window.innerWidth-20-$(el).outerWidth())/2;if(el_top<0)el_top=5;if(el_left<0)el_left=5;if(def_settings.top>0)el_top=def_settings.top;if(def_settings.left>0)el_left=def_settings.left;$(el).css({left:el_left,top:el_top});$(el).data("parkTop",$(el).offset().top);$(el).data("parkLeft",$(el).offset().left);}}});}
$(el).unbind("click").bind("click",function(evt){if(parseInt($(el).css("z-index"))<midx+1000)
if($(el).is(":visible"))$(el).trigger("show");});$(el).unbind("hide").bind("hide",function(evt){var def_settings=$(el).data("default_settings");$(this).css("z-index",$(this).data("order")).fadeOut(0,function(){if($("*[wliu-diag][maskable]:visible").length<=0){$(mask_ifrm).hide();$(mask_div).hide();}
var max=0;var maxObj=null;$("*[wliu-diag]:visible").filter(function(idx){$(this).css("z-index",parseInt($(this).css("z-index"))+1);if(parseInt($(this).css("z-index"))>=max){max=parseInt($(this).css("z-index"));maxObj=$(this)[0];}});$(maxObj).css("z-index",midx+1000);$(maxObj).fadeIn(($(el).hasAttr("fade")?"slow":0),function(){if($(maxObj).hasAttr("maskable")){$(mask_ifrm).show();$(mask_div).show();}else{$(mask_ifrm).hide();$(mask_div).hide();}});eval($(el).attr("after"));});});$(el).unbind("show").bind("show",function(evt,callback){var def_settings=$(el).data("default_settings");if(def_settings.before)if($.isFunction(def_settings.before))def_settings.before(el);$("*[wliu-diag]:visible").not(el).each(function(idx1,el1){if(parseInt($(el1).css("z-index"))>=(midx+1000)){$(el1).css("z-index",(midx+1000)-3);}else{$(el1).css("z-index",parseInt($(el1).css("z-index"))-1);}});$(el).css("z-index",midx+1000);if($(el).hasAttr("park")){if($(el).data("parkTop")+$(el).outerHeight()>=$(window).scrollTop()+window.innerHeight||$(el).data("parkLeft")+$(el).outerWidth()>=$(window).scrollLeft()+window.innerWidth||$(el).data("parkTop")<$(window).scrollTop()||$(el).data("parkLeft")<$(window).scrollLeft()){var el_top=$(window).scrollTop()+(window.innerHeight-20-$(el).outerHeight())/2;var el_left=$(window).scrollLeft()+(window.innerWidth-20-$(el).outerWidth())/2;if(el_top<0)el_top=5;if(el_left<0)el_left=5;if(def_settings.top>0)el_top=def_settings.top;if(def_settings.left>0)el_left=def_settings.left;$(el).css({left:el_left,top:el_top});}}else{if(def_settings.offsetto!=""&&$(def_settings.offsetto).length>0){var el_top=$(def_settings.offsetto).offset().top+def_settings.offsethh;var el_left=$(def_settings.offsetto).offset().left+def_settings.offsetww;$(el).css({left:el_left,top:el_top});}else{var el_top=$(window).scrollTop()+(window.innerHeight-20-$(el).outerHeight())/2;var el_left=$(window).scrollLeft()+(window.innerWidth-20-$(el).outerWidth())/2;if(el_top<0)el_top=5;if(el_left<0)el_left=5;if(def_settings.top>0)el_top=def_settings.top;if(def_settings.left>0)el_left=def_settings.left;$(this).css({left:el_left,top:el_top});}}
if(!$(el).is(":visible"))eval($(el).attr("before"));$(el).fadeIn(($(el).hasAttr("fade")?"slow":0),function(){if($(this).hasAttr("maskable")){$(mask_ifrm).show();$(mask_div).show();}});});$(el).unbind("title").bind("title",function(evt,title){$("*[wliu-diag-head]",el).html(title);});});}});$(function(){$("div[wliu-diag]").wliuDiag({});$(document).off("click","*[diag-toggle='click']").on("click","*[diag-toggle='click']",function(evt){$($(this).attr("diag-target")).trigger("show");});$(document).off("mouseover","*[diag-toggle='hover']").on("mouseover","*[diag-toggle='hover']",function(evt){$($(this).attr("diag-target")).trigger("show");});$(window).unbind("resize.wliuDiag").bind("resize.wliuDiag",function(){$("div[wliu-diag]:visible").each(function(idx,el){var def_settings=$(this).data("default_settings");if($(this).hasAttr("park")){if($(this).data("parkTop")+$(this).outerHeight()>=$(window).scrollTop()+window.innerHeight||$(this).data("parkLeft")+$(this).outerWidth()>=$(window).scrollLeft()+window.innerWidth||$(el).data("parkTop")<$(window).scrollTop()||$(el).data("parkLeft")<$(window).scrollLeft()){var el_top=$(window).scrollTop()+(window.innerHeight-20-$(this).outerHeight())/2;var el_left=$(window).scrollLeft()+(window.innerWidth-20-$(this).outerWidth())/2;if(el_top<0)el_top=5;if(el_left<0)el_left=5;if(def_settings.top>0)el_top=def_settings.top;if(def_settings.left>0)el_left=def_settings.left;$(this).css({left:el_left,top:el_top});}}else{if(def_settings.offsetto!=""&&$(def_settings.offsetto).length>0){var el_top=$(def_settings.offsetto).offset().top+def_settings.offsethh;var el_left=$(def_settings.offsetto).offset().left+def_settings.offsetww;$(this).css({left:el_left,top:el_top});}else{var el_top=$(window).scrollTop()+(window.innerHeight-20-$(this).outerHeight())/2;var el_left=$(window).scrollLeft()+(window.innerWidth-20-$(this).outerWidth())/2;if(el_top<0)el_top=5;if(el_left<0)el_left=5;if(def_settings.top>0)el_top=def_settings.top;if(def_settings.left>0)el_left=def_settings.left;$(this).css({left:el_left,top:el_top});}}});});});
$.fn.extend({wliuPopup:function(opts){var def_settings={};$.extend(def_settings,opts);return this.each(function(idx,el){if(!$(el).hasAttr("wliu-popup"))$(el).addAttr("wliu-popup");if($(el).has("s[arrow][left]").length<=0)$(el).prepend('<s arrow left></s>');if($(el).has("s[arrow][right]").length<=0)$(el).prepend('<s arrow right></s>');if($(el).has("s[arrow][up]").length<=0)$(el).prepend('<s arrow up></s>');if($(el).has("s[arrow][head-up]").length<=0)$(el).prepend('<s arrow head-up></s>');if($(el).has("s[arrow][down]").length<=0)$(el).prepend('<s arrow down></s>');if($(el).has("div[wliu-popup-body]").length<=0)$(el).append('<div wliu-popup-body></div>');});},wliuColError:function(opts){var def_settings={};$.extend(def_settings,opts);if($("#wliu_form_tooltip").length<=0){$("body").append('<div id="wliu_form_tooltip" wliu-popup></div>');}
return this.each(function(idx,el){if(!$(el).hasClass("wliu-btn16"))$(el).addClass("wliu-btn16");if(!$(el).hasClass("wliu-btn16-error-help"))$(el).addClass("wliu-btn16-error-help");if(!$(el).hasAttr("popup-target"))$(el).attr("popup-target","#wliu_form_tooltip");if(!$(el).hasAttr("popup-toggle"))$(el).attr("popup-toggle","hover");if(!$(el).hasAttr("popup-placement"))$(el).attr("popup-placement","down");if(!$(el).hasAttr("popup-body"))$(el).attr("popup-body","");});},wliuFormMessage:function(opts){var def_settings={};$.extend(def_settings,opts);return this.each(function(idx,el){$(el).attr("id","wliu-form-message-id");$(el).addClass("card card-danger text-center z-depth-2 mb-1 white-text").css("padding","10px");var htmlContent=['<div style="font-size:16px;text-align:left;">','<i class="fa fa-exclamation-triangle fa-md" aria-hidden="true" style="color:white;"></i> <span style="font-size:16px;">We can\'t process submitted data:</span>','<div id="wliu-form-message-body" style="margin-top:5px;padding-left:20px;" class="white-text"></div>','</div>'].join("");$(el).append(htmlContent);});},wliuFormPopup:function(opts){var def_settings={};$.extend(def_settings,opts);return this.each(function(idx,el){$(el).attr("id","wliu-form-popup-id");$(el).attr("wliu-diag","").attr("movable","").attr("maskable","");var htmlContent=['<div wliu-diag-head>Message</div>','<div wliu-diag-body style="font-size:16px;">','<i class="fa fa-exclamation-triangle fa-lg" aria-hidden="true" style="color:red;"></i> <span style="font-size:16px;">We can\'t process submitted data:</span>','<div id="wliu-form-popup-body" style="margin-top:5px;"></div>','</div>',].join("");$(el).append(htmlContent);});},wliuAutoTip:function(opts){var def_settings={};$.extend(def_settings,opts);return this.each(function(idx,el){$(el).attr("id","wliu-autotip-id");});},wliuWait:function(opts){var def_settings={};$.extend(def_settings,opts);return this.each(function(idx,el){$(el).attr("id","wliu-wait-id");});}});$(function(){$("a[wliu-form-col-error]").wliuColError({});$("div[wliu-form-message]").wliuFormMessage({});$("div[wliu-form-popup]").wliuFormPopup({});$("div[wliu-form-popup]").wliuDiag({});$("div[wliu-autotip]").wliuAutoTip({});$("div[wliu-autotip]").wliuTips({});$("div[wliu-wait]").wliuWait({});$("div[wliu-wait]").wliuLoad({});$("div[wliu-popup]").wliuPopup({});$(document).off("click","*[popup-toggle='click']").on("click","*[popup-toggle='click']",function(evt){var target_el=$(this).attr("popup-target");var target_content=$(this).attr("popup-body");if($(target_el).is(":hidden")){if(target_content){var target_pl=$(this).attr("popup-placement");var target_tt=$(this).attr("popup-head");if(target_tt){if($(target_el).has("div[wliu-popup-head]").length<=0)
$(target_el).prepend('<div wliu-popup-head>'+target_tt+'</div>');else
$("div[wliu-popup-head]",$(target_el)).html(target_tt);}else{$("div[wliu-popup-head]",$(target_el)).remove();}
$("div[wliu-popup-body]",$(target_el)).html(target_content);$(target_el).addAttr("active");var nleft=-900;var ntop=-900;switch((""+target_pl).toLowerCase()){case"left":$("s[arrow]",$(target_el)).removeAttr("active");$("s[arrow][left]",$(target_el)).addAttr("active");nleft=$(this).offset().left+$(this).outerWidth()+12;ntop=$(this).offset().top+$(this).outerHeight()/2-$(target_el).outerHeight()/2;break;case"right":$("s[arrow]",$(target_el)).removeAttr("active");$("s[arrow][right]",$(target_el)).addAttr("active");nleft=$(this).offset().left-$(target_el).outerWidth()-12;ntop=$(this).offset().top+$(this).outerHeight()/2-$(target_el).outerHeight()/2;break;case"up":$("s[arrow]",$(target_el)).removeAttr("active");if($(target_el).has("div[wliu-popup-head]").length<=0)
$("s[arrow][up]",$(target_el)).addAttr("active");else
$("s[arrow][head-up]",$(target_el)).addAttr("active");nleft=$(this).offset().left+($(this).outerWidth()-$(target_el).outerWidth())/2;ntop=$(this).offset().top+$(this).outerHeight()+12;break;case"down":$("s[arrow]",$(target_el)).removeAttr("active");$("s[arrow][down]",$(target_el)).addAttr("active");nleft=$(this).offset().left+($(this).outerWidth()-$(target_el).outerWidth())/2;ntop=$(this).offset().top-$(target_el).outerHeight()-12;break;default:$("s[arrow]",$(target_el)).removeAttr("active");var nplace="left";nleft=$(this).offset().left+$(this).outerWidth()+12;ntop=$(this).offset().top+$(this).outerHeight()/2-$(target_el).outerHeight()/2;var cleft=$(this).offset().left+$(this).outerWidth()+$(target_el).outerWidth()+12;if(ntop>0){if(cleft<=$(window).scrollLeft()+window.innerWidth){nplace="left";$("s[arrow][left]",$(target_el)).addAttr("active");nleft=$(this).offset().left+$(this).outerWidth()+12;ntop=$(this).offset().top+$(this).outerHeight()/2-$(target_el).outerHeight()/2;}else{cleft=$(this).offset().left-$(target_el).outerWidth()-12;if(cleft>=0){nplace="right";$("s[arrow][right]",$(target_el)).addAttr("active");nleft=$(this).offset().left-$(target_el).outerWidth()-12;ntop=$(this).offset().top+$(this).outerHeight()/2-$(target_el).outerHeight()/2;}else{nplace="up";if($(target_el).has("div[wliu-popup-head]").length<=0)
$("s[arrow][up]",$(target_el)).addAttr("active");else
$("s[arrow][head-up]",$(target_el)).addAttr("active");nleft=$(this).offset().left+($(this).outerWidth()-$(target_el).outerWidth())/2;ntop=$(this).offset().top+$(this).outerHeight()+12;}}}else{nplace="up";if($(target_el).has("div[wliu-popup-head]").length<=0)
$("s[arrow][up]",$(target_el)).addAttr("active");else
$("s[arrow][head-up]",$(target_el)).addAttr("active");nleft=$(this).offset().left+($(this).outerWidth()-$(target_el).outerWidth())/2;ntop=$(this).offset().top+$(this).outerHeight()+12;}
break;}
$(target_el).offset({left:nleft,top:ntop});}else{$("div[wliu-popup-head]",$(target_el)).remove();$("div[wliu-popup-body]",$(target_el)).empty();}}else{$(target_el).removeAttr("active");$("div[wliu-popup-head]",$(target_el)).remove();$("div[wliu-popup-body]",$(target_el)).empty();}});$(document).off("focus","*[popup-toggle='focus']").on("focus","*[popup-toggle='focus']",function(evt){var target_el=$(this).attr("popup-target");var target_content=$(this).attr("popup-body");if($(target_el).is(":hidden")){if(target_content){var target_pl=$(this).attr("popup-placement");var target_tt=$(this).attr("popup-head");if(target_tt){if($(target_el).has("div[wliu-popup-head]").length<=0)
$(target_el).prepend('<div wliu-popup-head>'+target_tt+'</div>');else
$("div[wliu-popup-head]",$(target_el)).html(target_tt);}else{$("div[wliu-popup-head]",$(target_el)).remove();}
$("div[wliu-popup-body]",$(target_el)).html(target_content);$(target_el).addAttr("active");var nleft=-900;var ntop=-900;switch((""+target_pl).toLowerCase()){case"left":$("s[arrow]",$(target_el)).removeAttr("active");$("s[arrow][left]",$(target_el)).addAttr("active");nleft=$(this).offset().left+$(this).outerWidth()+12;ntop=$(this).offset().top+$(this).outerHeight()/2-$(target_el).outerHeight()/2;break;case"right":$("s[arrow]",$(target_el)).removeAttr("active");$("s[arrow][right]",$(target_el)).addAttr("active");nleft=$(this).offset().left-$(target_el).outerWidth()-12;ntop=$(this).offset().top+$(this).outerHeight()/2-$(target_el).outerHeight()/2;break;case"up":$("s[arrow]",$(target_el)).removeAttr("active");if($(target_el).has("div[wliu-popup-head]").length<=0)
$("s[arrow][up]",$(target_el)).addAttr("active");else
$("s[arrow][head-up]",$(target_el)).addAttr("active");nleft=$(this).offset().left+($(this).outerWidth()-$(target_el).outerWidth())/2;ntop=$(this).offset().top+$(this).outerHeight()+12;break;case"down":$("s[arrow]",$(target_el)).removeAttr("active");$("s[arrow][down]",$(target_el)).addAttr("active");nleft=$(this).offset().left+($(this).outerWidth()-$(target_el).outerWidth())/2;ntop=$(this).offset().top-$(target_el).outerHeight()-12;break;default:$("s[arrow]",$(target_el)).removeAttr("active");var nplace="left";nleft=$(this).offset().left+$(this).outerWidth()+12;ntop=$(this).offset().top+$(this).outerHeight()/2-$(target_el).outerHeight()/2;var cleft=$(this).offset().left+$(this).outerWidth()+$(target_el).outerWidth()+12;if(ntop>0){if(cleft<=$(window).scrollLeft()+window.innerWidth){nplace="left";$("s[arrow][left]",$(target_el)).addAttr("active");nleft=$(this).offset().left+$(this).outerWidth()+12;ntop=$(this).offset().top+$(this).outerHeight()/2-$(target_el).outerHeight()/2;}else{cleft=$(this).offset().left-$(target_el).outerWidth()-12;if(cleft>=0){nplace="right";$("s[arrow][right]",$(target_el)).addAttr("active");nleft=$(this).offset().left-$(target_el).outerWidth()-12;ntop=$(this).offset().top+$(this).outerHeight()/2-$(target_el).outerHeight()/2;}else{nplace="up";if($(target_el).has("div[wliu-popup-head]").length<=0)
$("s[arrow][up]",$(target_el)).addAttr("active");else
$("s[arrow][head-up]",$(target_el)).addAttr("active");nleft=$(this).offset().left+($(this).outerWidth()-$(target_el).outerWidth())/2;ntop=$(this).offset().top+$(this).outerHeight()+12;}}}else{nplace="up";if($(target_el).has("div[wliu-popup-head]").length<=0)
$("s[arrow][up]",$(target_el)).addAttr("active");else
$("s[arrow][head-up]",$(target_el)).addAttr("active");nleft=$(this).offset().left+($(this).outerWidth()-$(target_el).outerWidth())/2;ntop=$(this).offset().top+$(this).outerHeight()+12;}
break;}
$(target_el).offset({left:nleft,top:ntop});}else{$("div[wliu-popup-head]",$(target_el)).remove();$("div[wliu-popup-body]",$(target_el)).empty();}}else{$(target_el).removeAttr("active");$("div[wliu-popup-head]",$(target_el)).remove();$("div[wliu-popup-body]",$(target_el)).empty();}});$(document).off("mouseover","*[popup-toggle='hover']").on("mouseover","*[popup-toggle='hover']",function(evt){var target_el=$(this).attr("popup-target");var target_content=$(this).attr("popup-body");if(target_content){var target_pl=$(this).attr("popup-placement");var target_tt=$(this).attr("popup-head");if(target_tt){if($(target_el).has("div[wliu-popup-head]").length<=0)
$(target_el).prepend('<div wliu-popup-head>'+target_tt+'</div>');else
$("div[wliu-popup-head]",$(target_el)).html(target_tt);}else{$("div[wliu-popup-head]",$(target_el)).remove();}
$("div[wliu-popup-body]",$(target_el)).html(target_content);$(target_el).addAttr("active");var nleft=-900;var ntop=-900;switch((""+target_pl).toLowerCase()){case"left":$("s[arrow]",$(target_el)).removeAttr("active");$("s[arrow][left]",$(target_el)).addAttr("active");nleft=$(this).offset().left+$(this).outerWidth()+12;ntop=$(this).offset().top+$(this).outerHeight()/2-$(target_el).outerHeight()/2;break;case"right":$("s[arrow]",$(target_el)).removeAttr("active");$("s[arrow][right]",$(target_el)).addAttr("active");nleft=$(this).offset().left-$(target_el).outerWidth()-12;ntop=$(this).offset().top+$(this).outerHeight()/2-$(target_el).outerHeight()/2;break;case"up":$("s[arrow]",$(target_el)).removeAttr("active");if($(target_el).has("div[wliu-popup-head]").length<=0)
$("s[arrow][up]",$(target_el)).addAttr("active");else
$("s[arrow][head-up]",$(target_el)).addAttr("active");nleft=$(this).offset().left+($(this).outerWidth()-$(target_el).outerWidth())/2;ntop=$(this).offset().top+$(this).outerHeight()+12;break;case"down":$("s[arrow]",$(target_el)).removeAttr("active");$("s[arrow][down]",$(target_el)).addAttr("active");nleft=$(this).offset().left+($(this).outerWidth()-$(target_el).outerWidth())/2;ntop=$(this).offset().top-$(target_el).outerHeight()-12;break;default:$("s[arrow]",$(target_el)).removeAttr("active");var nplace="left";nleft=$(this).offset().left+$(this).outerWidth()+12;ntop=$(this).offset().top+$(this).outerHeight()/2-$(target_el).outerHeight()/2;var cleft=$(this).offset().left+$(this).outerWidth()+$(target_el).outerWidth()+12;if(ntop>0){if(cleft<=$(window).scrollLeft()+window.innerWidth){nplace="left";$("s[arrow][left]",$(target_el)).addAttr("active");nleft=$(this).offset().left+$(this).outerWidth()+12;ntop=$(this).offset().top+$(this).outerHeight()/2-$(target_el).outerHeight()/2;}else{cleft=$(this).offset().left-$(target_el).outerWidth()-12;if(cleft>=0){nplace="right";$("s[arrow][right]",$(target_el)).addAttr("active");nleft=$(this).offset().left-$(target_el).outerWidth()-12;ntop=$(this).offset().top+$(this).outerHeight()/2-$(target_el).outerHeight()/2;}else{nplace="up";if($(target_el).has("div[wliu-popup-head]").length<=0)
$("s[arrow][up]",$(target_el)).addAttr("active");else
$("s[arrow][head-up]",$(target_el)).addAttr("active");nleft=$(this).offset().left+($(this).outerWidth()-$(target_el).outerWidth())/2;ntop=$(this).offset().top+$(this).outerHeight()+12;}}}else{nplace="up";if($(target_el).has("div[wliu-popup-head]").length<=0)
$("s[arrow][up]",$(target_el)).addAttr("active");else
$("s[arrow][head-up]",$(target_el)).addAttr("active");nleft=$(this).offset().left+($(this).outerWidth()-$(target_el).outerWidth())/2;ntop=$(this).offset().top+$(this).outerHeight()+12;}
break;}
$(target_el).offset({left:nleft,top:ntop});}else{$("div[wliu-popup-head]",$(target_el)).remove();$("div[wliu-popup-body]",$(target_el)).empty();}});$(document).off("mouseout","*[popup-toggle='hover']").on("mouseout","*[popup-toggle='hover']",function(evt){var target_el=$(this).attr("popup-target");$(target_el).removeAttr("active");$("div[wliu-popup-head]",$(target_el)).remove();$("div[wliu-popup-body]",$(target_el)).empty();});$(document).off("mouseleft","*[popup-toggle='hover']").on("mouseleft","*[popup-toggle='hover']",function(evt){var target_el=$(this).attr("popup-target");$(target_el).removeAttr("active");$("div[wliu-popup-head]",$(target_el)).remove();$("div[wliu-popup-body]",$(target_el)).empty();});});
$.fn.extend({wliuLoad:function(opts){var def_settings={title:"Please Wait ...",maskable:0};$.extend(def_settings,opts);var mask_ifrm="iframe[wliu-load-mask]";var mask_div="div[wliu-load-mask]";if($(mask_ifrm).length<=0){$(document.body).append('<iframe wliu-load-mask></iframe>');}
if($(mask_div).length<=0){$(document.body).append('<div wliu-load-mask></div>');}
return this.each(function(idx,el){if(!$(el).hasAttr("wliu-load"))$(el).addAttr("wliu-load");if($(el).has("i.fa").length<=0)$(el).prepend('<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>');if($(el).has("div[wliu-load-text]").length<=0)$(el).append('<div wliu-load-text>'+def_settings.title+'</div>');if(def_settings.maskable||$(el).hasAttr("maskable"))$(el).addAttr("maskable");$(el).unbind("show").bind("show",function(evt,msg){if($(el).hasAttr("maskable")){$(mask_ifrm).show();$(mask_div).show();}
$(el).show();});$(el).unbind("hide").bind("hide",function(evt,msg){$(el).hide();if($("div[wliu-load][maskable]:visible").length<=0){if($(el).hasAttr("maskable")){$(mask_div).hide();$(mask_ifrm).hide();}}});});},wliuTips:function(opts){var def_settings={offsetww:20,offsethh:20,type:""};$.extend(def_settings,opts);return this.each(function(idx,el){if(!$(el).hasAttr("wliu-tips"))$(el).addAttr("wliu-tips");$(el).unbind("show").bind("show",function(evt,msg,type){$(el).css({"left":"50%","margin-left":"-100px"});if($(el).hasAttr("center"))$(el).css({"left":"50%","margin-left":"-100px"});if($(el).hasAttr("left"))$(el).css({"left":"0px","margin-left":parseInt(def_settings.offsetww)+"px"});if($(el).hasAttr("right"))$(el).css({"right":"0px","margin-right":parseInt(def_settings.offsetww)+"px"});$(el).css({"top":"50%","margin-top":"-36px"});if($(el).hasAttr("middle"))$(el).css({"top":"50%","margin-top":"-36px"});if($(el).hasAttr("top"))$(el).css({"top":"0px","margin-top":parseInt(def_settings.offsethh)+"px"});if($(el).hasAttr("bottom"))$(el).css({"bottom":"0px","margin-bottom":parseInt(def_settings.offsethh)+"px"});if(type){$(el).removeAttr("success warning danger");$(el).addAttr(type);}
if($(el).hasAttr("success"))$(el).removeAttr("success warning danger").addAttr("success");if($(el).hasAttr("warning"))$(el).removeAttr("success warning danger").addAttr("warning");if($(el).hasAttr("danger"))$(el).removeAttr("success warning danger").addAttr("danger");if(msg!=undefined)
$(el).html(msg).show();else
$(el).show();});$(el).unbind("hide").bind("hide",function(evt){$(el).hide();});$(el).unbind("auto").bind("auto",function(evt,msg,type,callback){$(el).css({"left":"50%","margin-left":"-100px"});if($(el).hasAttr("center"))$(el).css({"left":"50%","margin-left":"-100px"});if($(el).hasAttr("left"))$(el).css({"left":"0px","margin-left":parseInt(def_settings.offsetww)+"px"});if($(el).hasAttr("right"))$(el).css({"left":"auto","right":"0px","margin-right":parseInt(def_settings.offsetww)+"px"});$(el).css({"top":"50%","margin-top":"-36px"});if($(el).hasAttr("middle"))$(el).css({"top":"50%","margin-top":"-36px"});if($(el).hasAttr("top"))$(el).css({"top":"0px","margin-top":parseInt(def_settings.offsethh)+"px"});if($(el).hasAttr("bottom"))$(el).css({"top":"auto","bottom":"0px","margin-bottom":parseInt(def_settings.offsethh)+"px"});if(type){$(el).removeAttr("success warning danger");$(el).addAttr(type);}
if($(el).hasAttr("success"))$(el).removeAttr("success warning danger").addAttr("success");if($(el).hasAttr("warning"))$(el).removeAttr("success warning danger").addAttr("warning");if($(el).hasAttr("danger"))$(el).removeAttr("success warning danger").addAttr("danger");if(msg!=undefined)
$(el).stop(true,true).html(msg).fadeIn(10).delay(2000).fadeOut(1000,callback);else
$(el).stop(true,true).fadeIn(10).delay(2000).fadeOut(1000,callback);});});}});$(function(){$("div[wliu-load]").wliuLoad({});$("div[wliu-tips]").wliuTips({});});
$.fn.extend({wliuTree:function(opts){var def_settings={remember:true,nodes:"auto",tooltip:""};$.extend(def_settings,opts);def_settings.remember=true;return this.each(function(idx,el){var treeid=0;if(!$(el).attr("id"))$(el).attr("id","wliuTree."+treeid++);var remember_prex=$(el).attr("id");var eidx=0;$(">li",$(el)).each(function(idx,el1){if($(el1).has("s").length<=0)$(el1).prepend("<s folder></s>")
$(el1).attr("eidx",eidx);var remember_name=remember_prex+"_"+eidx;if(def_settings.remember&&(localStorage.getItem(remember_name)=="open"||localStorage.getItem(remember_name)=="close")){$(el1).removeAttr("open").removeAttr("close").addAttr(localStorage.getItem(remember_name));}else if(def_settings.nodes=="open"||def_settings.nodes=="close"){$(el1).removeAttr("open").removeAttr("close").addAttr(def_settings.nodes);}
eidx++;});$("ul[wliu-tree]>li",$(el)).each(function(idx,el1){if($(el1).has("s").length<=0)$(el1).prepend("<s folder></s>")
$(el1).attr("eidx",eidx);var remember_name=remember_prex+"_"+eidx;if(def_settings.remember&&(localStorage.getItem(remember_name)=="open"||localStorage.getItem(remember_name)=="close")){$(el1).removeAttr("open").removeAttr("close").addAttr(localStorage.getItem(remember_name));}else if(def_settings.nodes=="open"||def_settings.nodes=="close"){$(el1).removeAttr("open").removeAttr("close").addAttr(def_settings.nodes);}
eidx++;});$(document).off("click.wliuTree","ul[wliu-tree]>li *").on("click.wliuTree","ul[wliu-tree]>li *",function(evt){evt.preventDefault();evt.stopPropagation();return false;});$(document).off("click.wliuTree","ul[wliu-tree]>li, ul[wliu-tree]>li>s").on("click.wliuTree","ul[wliu-tree]>li, ul[wliu-tree]>li>s",function(evt){if($(this).prop("tagName").toUpperCase()=="LI"){if($(this).hasAttr("nodes open")){$(this).removeAttr("open").addAttr("close");if(def_settings.remember){var remember_name=remember_prex+"_"+$(this).attr("eidx");localStorage.setItem(remember_name,"close");}}else if($(this).hasAttr("nodes close")){$(this).removeAttr("close").addAttr("open");if(def_settings.remember){var remember_name=remember_prex+"_"+$(this).attr("eidx");localStorage.setItem(remember_name,"open");}}}
if($(this).prop("tagName").toUpperCase()=="S"){if($(this).parent("li").hasAttr("nodes open")){$(this).parent("li").removeAttr("open").addAttr("close");if(def_settings.remember){var remember_name=remember_prex+"_"+$(this).parent("li").attr("eidx");localStorage.setItem(remember_name,"close");}}else if($(this).parent("li").hasAttr("nodes close")){$(this).parent("li").removeAttr("close").addAttr("open");if(def_settings.remember){var remember_name=remember_prex+"_"+$(this).parent("li").attr("eidx");localStorage.setItem(remember_name,"open");}}}
evt.preventDefault();evt.stopPropagation();return false;});});}});$(function(){$("ul[wliu-tree][root]").wliuTree();});
$.fn.extend({wliuTab1:function(){return this.each(function(idx,el){var body_area=$("+div[wliu-tab1-body]",el).get(0);if($(el).hasAttr("wliu-tab1-height"))$(body_area).css("height",parseInt($(el).attr("wliu-tab1-height"))?parseInt($(el).attr("wliu-tab1-height")):"auto");var fluid=$(el).hasAttr("fluid");var tabWW=100/parseInt($(">li",el).length);var ttww=0;$(">li",el).each(function(idx1,el1){ttww+=$(el1).outerWidth();if(fluid){$(el1).css("width",tabWW+"%");}
$(el1).attr("tabsn",idx1);$(el1).attr("title",$(el1).text());});if(ttww>$(el).outerWidth()&&!fluid){$(">li",el).each(function(idx1,el1){$(el1).css("width",tabWW+"%");});}
$(">div",$(body_area)).each(function(idx1,el1){$(el1).attr("tabsn",idx1);});var sn=$(">li.selected",el).attr("tabsn")?parseInt($(">li.selected",el).attr("tabsn")):0;$(">li",el).removeClass("selected");$(">div",$(body_area)).removeClass("selected");$(">li[tabsn='"+sn+"']",el).addClass("selected");$(">div[tabsn='"+sn+"']",$(body_area)).addClass("selected");var trigger="click";switch($(el).attr("tab1-toggle")){case"click":trigger="click";break;case"hover":trigger="mouseover";break;default:trigger="click";break;}
var ev_act=$(el).attr("active");var ev_deact=$(el).attr("deactive");$(">li",el).unbind(trigger).bind(trigger,function(ev){var deact_sn=$(">li.selected",el).attr("tabsn")?parseInt($(">li.selected",el).attr("tabsn")):0;if(ev_deact)eval(ev_deact+"("+deact_sn+")");$(">li",el).removeClass("selected");$(">div",$(body_area)).removeClass("selected");$(this).addClass("selected");$(">div[tabsn='"+$(this).attr("tabsn")+"']",$(body_area)).addClass("selected");var act_sn=$(">li.selected",el).attr("tabsn")?parseInt($(">li.selected",el).attr("tabsn")):0;if(ev_act)eval(ev_act+"("+act_sn+")");});});},wliuTab9:function(){return this.each(function(idx,el){var body_area=$("+div[wliu-tab9-body]",el).get(0);if($(el).hasAttr("wliu-tab9-height"))$(body_area).css("height",parseInt($(el).attr("wliu-tab9-height"))?parseInt($(el).attr("wliu-tab9-height")):"auto");var fluid=$(el).hasAttr("fluid");var tabWidth=$(el).width()-24-24;var tabWW=tabWidth/parseInt($(">li",el).length);var ttww=0;$(">li",el).each(function(idx1,el1){if($(el1).has("span").length<=0){var el_text=$(el1).text();$(el1).empty();$(el1).append("<span>"+el_text+"</span><s></s>");}
ttww+=$(el1).outerWidth();if(fluid){$(el1).css("width",tabWW+"px");}
$(el1).attr("tabsn",idx1);$(el1).attr("title",$(el1).text());});if(ttww>=($(el).outerWidth()-24-10)&&!fluid){$(">li",el).each(function(idx1,el1){$(el1).css("width",tabWW+"px");});}
$(">div",$(body_area)).each(function(idx1,el1){$(el1).attr("tabsn",idx1);});var sn=$(">li.selected",el).attr("tabsn")?parseInt($(">li.selected",el).attr("tabsn")):0;$(">li",el).removeClass("selected");$(">div",$(body_area)).removeClass("selected");$(">li[tabsn='"+sn+"']",el).addClass("selected");$(">div[tabsn='"+sn+"']",$(body_area)).addClass("selected");var trigger="click";switch($(el).attr("tab1-toggle")){case"click":trigger="click";break;case"hover":trigger="mouseover";break;default:trigger="click";break;}
var ev_act=$(el).attr("active");var ev_deact=$(el).attr("deactive");$(">li",el).unbind(trigger).bind(trigger,function(ev){var deact_sn=$(">li.selected",el).attr("tabsn")?parseInt($(">li.selected",el).attr("tabsn")):0;if(ev_deact)eval(ev_deact+"("+deact_sn+")");$(">li",el).removeClass("selected");$(">div",$(body_area)).removeClass("selected");$(this).addClass("selected");$(">div[tabsn='"+$(this).attr("tabsn")+"']",$(body_area)).addClass("selected");var act_sn=$(">li.selected",el).attr("tabsn")?parseInt($(">li.selected",el).attr("tabsn")):0;if(ev_act)eval(ev_act+"("+act_sn+")");});});}});$(function(){$("ul[wliu-tab1]").wliuTab1();$("ul[wliu-tab9]").wliuTab9();$(document).off("click","ul[wliu-tab1][tab1-toggle='click']>li").on("click","ul[wliu-tab1][tab1-toggle='click']>li",function(evt){if(!$(this).hasClass("selected")){var body_area=$("+div[wliu-tab1-body]",$(this).parent()).get(0);$(">li",$(this).parent()).removeClass("selected");$(">div",$(body_area)).removeClass("selected");$(this).addClass("selected");$(">div[tabsn='"+$(this).attr("tabsn")+"']",$(body_area)).addClass("selected");}});$(document).off("mouseover","ul[wliu-tab1][tab1-toggle='hover']>li").on("mouseover","ul[wliu-tab1][tab1-toggle='hover']>li",function(evt){if(!$(this).hasClass("selected")){var body_area=$("+div[wliu-tab1-body]",$(this).parent()).get(0);$(">li",$(this).parent()).removeClass("selected");$(">div",$(body_area)).removeClass("selected");$(this).addClass("selected");$(">div[tabsn='"+$(this).attr("tabsn")+"']",$(body_area)).addClass("selected");}});$(document).off("click","ul[wliu-tab9][tab9-toggle='click']>li").on("click","ul[wliu-tab9][tab9-toggle='click']>li",function(evt){if(!$(this).hasClass("selected")){var body_area=$("+div[wliu-tab9-body]",$(this).parent()).get(0);$(">li",$(this).parent()).removeClass("selected");$(">div",$(body_area)).removeClass("selected");$(this).addClass("selected");$(">div[tabsn='"+$(this).attr("tabsn")+"']",$(body_area)).addClass("selected");}});$(document).off("mouseover","ul[wliu-tab9][tab9-toggle='hover']>li").on("mouseover","ul[wliu-tab9][tab9-toggle='hover']>li",function(evt){if(!$(this).hasClass("selected")){var body_area=$("+div[wliu-tab9-body]",$(this).parent()).get(0);$(">li",$(this).parent()).removeClass("selected");$(">div",$(body_area)).removeClass("selected");$(this).addClass("selected");$(">div[tabsn='"+$(this).attr("tabsn")+"']",$(body_area)).addClass("selected");}});$(window).unbind("resize.wliuTab").bind("resize.wliuTab",function(){$("ul[wliu-tab1]").each(function(idx,el){var fluid=$(el).hasAttr("fluid");var tabWW=100/parseInt($(">li",el).length);var ttww=0;$(">li",el).each(function(idx1,el1){ttww+=$(el1).outerWidth();});if(ttww>$(el).outerWidth()){$(">li",el).each(function(idx1,el1){$(el1).css("width",tabWW+"%");});}else if(fluid){$(">li",el).each(function(idx1,el1){$(el1).css("width",tabWW+"%");});}});$("ul[wliu-tab9]").each(function(idx,el){var fluid=$(el).hasAttr("fluid");var tabWidth=$(el).width()-24-24;var tabWW=tabWidth/parseInt($(">li",el).length);var ttww=0;$(">li",el).each(function(idx1,el1){ttww+=$(el1).outerWidth();});if(ttww>=($(el).outerWidth()-24-10)){$(">li",el).each(function(idx1,el1){$(el1).css("width",tabWW+"px");});}else if(fluid){$(">li",el).each(function(idx1,el1){$(el1).css("width",tabWW+"px");});}});});});
$(function(){$("li>*[href*='"+url_name+"']","div[wliu-nav]>div[menu]").parents("li","div[wliu-nav]>div[menu]").addAttr("active");$(document).off("click.wliu-dropdown","div[wliu-dropdown]").on("click.wliu-dropdown","div[wliu-dropdown]",function(evt){if($(this).hasAttr("active")){$(this).removeAttr("active");}else{$("div[wliu-dropdown]").removeAttr("active");$(this).addAttr("active");}});$(document).off("click.wliu-nav","div[wliu-nav] > div[head] > a[menu-button]").on("click.wliu-nav","div[wliu-nav] > div[head] > a[menu-button]",function(evt){if($("div[menu]",$(this).closest("div[wliu-nav")).hasAttr("active")){$("div[menu]",$(this).closest("div[wliu-nav")).removeAttr("active");}else{$("div[menu]",$(this).closest("div[wliu-nav")).addAttr("active");}});$("body").unbind("click.wliu-dropdown").bind("click.wliu-dropdown",function(evt){if(!$(evt.target).hasAttr("wliu-dropdown")&&$(evt.target).parents("[wliu-dropdown]").length<=0){$("div[wliu-dropdown][active]").removeAttr("active");}});});